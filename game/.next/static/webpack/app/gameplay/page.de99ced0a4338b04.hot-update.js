"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/gameplay/page",{

/***/ "(app-pages-browser)/./src/vehicles/shared/player.ts":
/*!***************************************!*\
  !*** ./src/vehicles/shared/player.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPlayer: () => (/* binding */ createPlayer)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _vehicles_arrowhead_build__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/vehicles/arrowhead/build */ \"(app-pages-browser)/./src/vehicles/arrowhead/build.ts\");\n/* harmony import */ var _vehicles_octahedron_build__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/vehicles/octahedron/build */ \"(app-pages-browser)/./src/vehicles/octahedron/build.ts\");\n/* harmony import */ var _vehicles_pyramid_build__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/vehicles/pyramid/build */ \"(app-pages-browser)/./src/vehicles/pyramid/build.ts\");\n/* harmony import */ var _vehicles_icosahedron_build__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/vehicles/icosahedron/build */ \"(app-pages-browser)/./src/vehicles/icosahedron/build.ts\");\n/* harmony import */ var _vehicles_cube_build__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/vehicles/cube/build */ \"(app-pages-browser)/./src/vehicles/cube/build.ts\");\n/* harmony import */ var _vehicles_shared_simpleController__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/vehicles/shared/simpleController */ \"(app-pages-browser)/./src/vehicles/shared/simpleController.ts\");\n\n\n\n\n\n\n\nfunction createPlayer(initial, scene) {\n    var _controller_refreshVehicleClearance;\n    const group = new three__WEBPACK_IMPORTED_MODULE_6__.Group();\n    scene.add(group);\n    const builders = {\n        arrowhead: _vehicles_arrowhead_build__WEBPACK_IMPORTED_MODULE_0__.buildArrowhead,\n        octahedron: _vehicles_octahedron_build__WEBPACK_IMPORTED_MODULE_1__.buildOctahedron,\n        pyramid: _vehicles_pyramid_build__WEBPACK_IMPORTED_MODULE_2__.buildPyramid,\n        icosahedron: _vehicles_icosahedron_build__WEBPACK_IMPORTED_MODULE_3__.buildIcosahedron,\n        cube: _vehicles_cube_build__WEBPACK_IMPORTED_MODULE_4__.buildCube\n    };\n    let currentKey = initial;\n    let currentMesh = builders[currentKey]();\n    group.add(currentMesh);\n    const controller = (0,_vehicles_shared_simpleController__WEBPACK_IMPORTED_MODULE_5__.createController)(group, scene);\n    (_controller_refreshVehicleClearance = controller.refreshVehicleClearance) === null || _controller_refreshVehicleClearance === void 0 ? void 0 : _controller_refreshVehicleClearance.call(controller);\n    function setVehicle(key) {\n        var _controller_refreshVehicleClearance;\n        if (currentMesh) group.remove(currentMesh);\n        currentKey = key;\n        currentMesh = builders[currentKey]();\n        group.add(currentMesh);\n        (_controller_refreshVehicleClearance = controller.refreshVehicleClearance) === null || _controller_refreshVehicleClearance === void 0 ? void 0 : _controller_refreshVehicleClearance.call(controller);\n    }\n    function cycleVehicle() {\n        const keys = Object.keys(builders);\n        const i = keys.indexOf(currentKey);\n        setVehicle(keys[(i + 1) % keys.length]);\n    }\n    return {\n        group,\n        controller,\n        setVehicle,\n        cycleVehicle\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy92ZWhpY2xlcy9zaGFyZWQvcGxheWVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQThCO0FBQzZCO0FBQ0U7QUFDTjtBQUNRO0FBQ2Q7QUFDb0I7QUFFOUQsU0FBU08sYUFBYUMsT0FBK0QsRUFBRUMsS0FBa0I7UUFpQjlHQztJQWhCQSxNQUFNQyxRQUFRLElBQUlYLHdDQUFXO0lBQzdCUyxNQUFNSSxHQUFHLENBQUNGO0lBRVYsTUFBTUcsV0FBVztRQUNmQyxXQUFXZCxxRUFBY0E7UUFDekJlLFlBQVlkLHVFQUFlQTtRQUMzQmUsU0FBU2QsaUVBQVlBO1FBQ3JCZSxhQUFhZCx5RUFBZ0JBO1FBQzdCZSxNQUFNZCwyREFBU0E7SUFDakI7SUFFQSxJQUFJZSxhQUFhWjtJQUNqQixJQUFJYSxjQUFjUCxRQUFRLENBQUNNLFdBQVc7SUFDdENULE1BQU1FLEdBQUcsQ0FBQ1E7SUFFVixNQUFNWCxhQUFhSixtRkFBZ0JBLENBQUNLLE9BQU9GO0tBQzNDQyxzQ0FBQUEsV0FBV1ksdUJBQXVCLGNBQWxDWiwwREFBQUEseUNBQUFBO0lBRUEsU0FBU2EsV0FBV0MsR0FBMEI7WUFLNUNkO1FBSkEsSUFBSVcsYUFBYVYsTUFBTWMsTUFBTSxDQUFDSjtRQUM5QkQsYUFBYUk7UUFDYkgsY0FBY1AsUUFBUSxDQUFDTSxXQUFXO1FBQ2xDVCxNQUFNRSxHQUFHLENBQUNRO1NBQ1ZYLHNDQUFBQSxXQUFXWSx1QkFBdUIsY0FBbENaLDBEQUFBQSx5Q0FBQUE7SUFDRjtJQUVBLFNBQVNnQjtRQUNQLE1BQU1DLE9BQU9DLE9BQU9ELElBQUksQ0FBQ2I7UUFDekIsTUFBTWUsSUFBSUYsS0FBS0csT0FBTyxDQUFDVjtRQUN2QkcsV0FBV0ksSUFBSSxDQUFDLENBQUNFLElBQUUsS0FBR0YsS0FBS0ksTUFBTSxDQUFDO0lBQ3BDO0lBRUEsT0FBTztRQUFFcEI7UUFBT0Q7UUFBWWE7UUFBWUc7SUFBYTtBQUN2RCIsInNvdXJjZXMiOlsiL2FwcC9zcmMvdmVoaWNsZXMvc2hhcmVkL3BsYXllci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IGJ1aWxkQXJyb3doZWFkIH0gZnJvbSAnQC92ZWhpY2xlcy9hcnJvd2hlYWQvYnVpbGQnXG5pbXBvcnQgeyBidWlsZE9jdGFoZWRyb24gfSBmcm9tICdAL3ZlaGljbGVzL29jdGFoZWRyb24vYnVpbGQnXG5pbXBvcnQgeyBidWlsZFB5cmFtaWQgfSBmcm9tICdAL3ZlaGljbGVzL3B5cmFtaWQvYnVpbGQnXG5pbXBvcnQgeyBidWlsZEljb3NhaGVkcm9uIH0gZnJvbSAnQC92ZWhpY2xlcy9pY29zYWhlZHJvbi9idWlsZCdcbmltcG9ydCB7IGJ1aWxkQ3ViZSB9IGZyb20gJ0AvdmVoaWNsZXMvY3ViZS9idWlsZCdcbmltcG9ydCB7IGNyZWF0ZUNvbnRyb2xsZXIgfSBmcm9tICdAL3ZlaGljbGVzL3NoYXJlZC9zaW1wbGVDb250cm9sbGVyJ1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGxheWVyKGluaXRpYWw6J2Fycm93aGVhZCd8J29jdGFoZWRyb24nfCdweXJhbWlkJ3wnaWNvc2FoZWRyb24nfCdjdWJlJywgc2NlbmU6IFRIUkVFLlNjZW5lKXtcbiAgY29uc3QgZ3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKVxuICBzY2VuZS5hZGQoZ3JvdXApXG5cbiAgY29uc3QgYnVpbGRlcnMgPSB7XG4gICAgYXJyb3doZWFkOiBidWlsZEFycm93aGVhZCxcbiAgICBvY3RhaGVkcm9uOiBidWlsZE9jdGFoZWRyb24sXG4gICAgcHlyYW1pZDogYnVpbGRQeXJhbWlkLFxuICAgIGljb3NhaGVkcm9uOiBidWlsZEljb3NhaGVkcm9uLFxuICAgIGN1YmU6IGJ1aWxkQ3ViZVxuICB9XG5cbiAgbGV0IGN1cnJlbnRLZXkgPSBpbml0aWFsXG4gIGxldCBjdXJyZW50TWVzaCA9IGJ1aWxkZXJzW2N1cnJlbnRLZXldKClcbiAgZ3JvdXAuYWRkKGN1cnJlbnRNZXNoKVxuXG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjcmVhdGVDb250cm9sbGVyKGdyb3VwLCBzY2VuZSlcbiAgY29udHJvbGxlci5yZWZyZXNoVmVoaWNsZUNsZWFyYW5jZT8uKClcblxuICBmdW5jdGlvbiBzZXRWZWhpY2xlKGtleToga2V5b2YgdHlwZW9mIGJ1aWxkZXJzKXtcbiAgICBpZiAoY3VycmVudE1lc2gpIGdyb3VwLnJlbW92ZShjdXJyZW50TWVzaClcbiAgICBjdXJyZW50S2V5ID0ga2V5XG4gICAgY3VycmVudE1lc2ggPSBidWlsZGVyc1tjdXJyZW50S2V5XSgpXG4gICAgZ3JvdXAuYWRkKGN1cnJlbnRNZXNoKVxuICAgIGNvbnRyb2xsZXIucmVmcmVzaFZlaGljbGVDbGVhcmFuY2U/LigpXG4gIH1cblxuICBmdW5jdGlvbiBjeWNsZVZlaGljbGUoKXtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYnVpbGRlcnMpIGFzIEFycmF5PGtleW9mIHR5cGVvZiBidWlsZGVycz5cbiAgICBjb25zdCBpID0ga2V5cy5pbmRleE9mKGN1cnJlbnRLZXkpXG4gICAgc2V0VmVoaWNsZShrZXlzWyhpKzEpJWtleXMubGVuZ3RoXSlcbiAgfVxuXG4gIHJldHVybiB7IGdyb3VwLCBjb250cm9sbGVyLCBzZXRWZWhpY2xlLCBjeWNsZVZlaGljbGUgfVxufVxuIl0sIm5hbWVzIjpbIlRIUkVFIiwiYnVpbGRBcnJvd2hlYWQiLCJidWlsZE9jdGFoZWRyb24iLCJidWlsZFB5cmFtaWQiLCJidWlsZEljb3NhaGVkcm9uIiwiYnVpbGRDdWJlIiwiY3JlYXRlQ29udHJvbGxlciIsImNyZWF0ZVBsYXllciIsImluaXRpYWwiLCJzY2VuZSIsImNvbnRyb2xsZXIiLCJncm91cCIsIkdyb3VwIiwiYWRkIiwiYnVpbGRlcnMiLCJhcnJvd2hlYWQiLCJvY3RhaGVkcm9uIiwicHlyYW1pZCIsImljb3NhaGVkcm9uIiwiY3ViZSIsImN1cnJlbnRLZXkiLCJjdXJyZW50TWVzaCIsInJlZnJlc2hWZWhpY2xlQ2xlYXJhbmNlIiwic2V0VmVoaWNsZSIsImtleSIsInJlbW92ZSIsImN5Y2xlVmVoaWNsZSIsImtleXMiLCJPYmplY3QiLCJpIiwiaW5kZXhPZiIsImxlbmd0aCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/vehicles/shared/player.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/vehicles/shared/simpleController.ts":
/*!*************************************************!*\
  !*** ./src/vehicles/shared/simpleController.ts ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createController: () => (/* binding */ createController)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _weapons_gatling__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/weapons/gatling */ \"(app-pages-browser)/./src/weapons/gatling.ts\");\n/* harmony import */ var _weapons_neonLaser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/weapons/neonLaser */ \"(app-pages-browser)/./src/weapons/neonLaser.ts\");\n/* harmony import */ var _weapons_bomb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/weapons/bomb */ \"(app-pages-browser)/./src/weapons/bomb.ts\");\n/* harmony import */ var _weapons_visuals_homingMissileVisual__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/weapons/visuals/homingMissileVisual */ \"(app-pages-browser)/./src/weapons/visuals/homingMissileVisual.ts\");\n/* harmony import */ var _weapons_visuals_neonLaserVisual__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/weapons/visuals/neonLaserVisual */ \"(app-pages-browser)/./src/weapons/visuals/neonLaserVisual.ts\");\n/* harmony import */ var _weapons_meteorMissile__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/weapons/meteorMissile */ \"(app-pages-browser)/./src/weapons/meteorMissile.ts\");\n/* harmony import */ var _vehicles_shared_supportAbilities__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/vehicles/shared/supportAbilities */ \"(app-pages-browser)/./src/vehicles/shared/supportAbilities.ts\");\n/* harmony import */ var _vehicles_shared_abilityVisuals__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/vehicles/shared/abilityVisuals */ \"(app-pages-browser)/./src/vehicles/shared/abilityVisuals.ts\");\n\n\n\n\n\n\n\n\n\nfunction createController(group, scene) {\n    const vel = new three__WEBPACK_IMPORTED_MODULE_8__.Vector3(0, 0, 60);\n    const forward = new three__WEBPACK_IMPORTED_MODULE_8__.Vector3(0, 0, -1);\n    const weaponContext = {\n        position: new three__WEBPACK_IMPORTED_MODULE_8__.Vector3(),\n        forward: new three__WEBPACK_IMPORTED_MODULE_8__.Vector3(0, 0, -1),\n        dt: 0,\n        targets: []\n    };\n    let targetProvider = ()=>[];\n    const bounds = new three__WEBPACK_IMPORTED_MODULE_8__.Box3();\n    const size = new three__WEBPACK_IMPORTED_MODULE_8__.Vector3();\n    function computeLauncherClearance() {\n        bounds.setFromObject(group);\n        bounds.getSize(size);\n        const span = Math.max(size.x, size.y, size.z);\n        const distance = Math.max(5, span * 5);\n        meteorRedSystem.setLauncherClearance(distance);\n        meteorVioletSystem.setLauncherClearance(distance);\n    }\n    const gatling = (0,_weapons_gatling__WEBPACK_IMPORTED_MODULE_0__.createGatlingSystem)({\n        fireRate: 25,\n        spread: three__WEBPACK_IMPORTED_MODULE_8__.MathUtils.degToRad(1.5),\n        maxTracers: 32,\n        tracerLifeMs: 250,\n        ammo: 1200,\n        heatPerShot: 1,\n        coolRate: 12,\n        overheatThreshold: 120\n    });\n    const meteorRedSystem = (0,_weapons_meteorMissile__WEBPACK_IMPORTED_MODULE_5__.createMeteorMissileSystem)({\n        maxConcurrent: 2,\n        cooldownMs: 2200,\n        ammo: Number.POSITIVE_INFINITY,\n        ejectionDurationMs: 1000,\n        ejectionSpeed: 40,\n        burnSpeed: 220,\n        navigationConstant: 3.5,\n        detonationRadius: 6,\n        smokeTrailIntervalMs: 70,\n        maxLifetimeMs: 15000,\n        clearanceDistance: 30,\n        swayAmplitude: 24,\n        swayFrequency: 1.2\n    });\n    const meteorVioletSystem = (0,_weapons_meteorMissile__WEBPACK_IMPORTED_MODULE_5__.createMeteorMissileSystem)({\n        maxConcurrent: 2,\n        cooldownMs: 2200,\n        ammo: Number.POSITIVE_INFINITY,\n        ejectionDurationMs: 900,\n        ejectionSpeed: 42,\n        burnSpeed: 225,\n        navigationConstant: 3.6,\n        detonationRadius: 6,\n        smokeTrailIntervalMs: 70,\n        maxLifetimeMs: 15000,\n        clearanceDistance: 30,\n        swayAmplitude: 26,\n        swayFrequency: 1.25\n    });\n    const meteorRedVisual = (0,_weapons_visuals_homingMissileVisual__WEBPACK_IMPORTED_MODULE_3__.createHomingMissileVisual)(scene, {\n        body: 0xff4d4f,\n        emissive: 0xff826a,\n        trail: 0xffc2a1\n    });\n    const meteorVioletVisual = (0,_weapons_visuals_homingMissileVisual__WEBPACK_IMPORTED_MODULE_3__.createHomingMissileVisual)(scene, {\n        body: 0x8c54ff,\n        emissive: 0xca8dff,\n        trail: 0xd8b4ff\n    });\n    const laserSystem = (0,_weapons_neonLaser__WEBPACK_IMPORTED_MODULE_1__.createNeonLaserSystem)({\n        cooldownMs: 2000,\n        durationMs: 600,\n        range: 800,\n        attenuation: 0.002\n    });\n    const laserVisual = (0,_weapons_visuals_neonLaserVisual__WEBPACK_IMPORTED_MODULE_4__.createNeonLaserVisual)(scene, {\n        color: 0x61f6ff\n    });\n    const bombSystem = (0,_weapons_bomb__WEBPACK_IMPORTED_MODULE_2__.createBombSystem)({\n        maxConcurrent: 2,\n        ammo: 6,\n        fuseMs: 2500,\n        cooldownMs: 1500,\n        aoeRadius: 40,\n        craterRadius: 18,\n        debrisCount: 8,\n        gravity: 30\n    });\n    const abilitySystem = (0,_vehicles_shared_supportAbilities__WEBPACK_IMPORTED_MODULE_6__.createSupportAbilitySystem)();\n    const abilityVisuals = (0,_vehicles_shared_abilityVisuals__WEBPACK_IMPORTED_MODULE_7__.createAbilityVisuals)(group);\n    let baseSpeed = 60;\n    let effectiveSpeed = baseSpeed;\n    let activeSlot = 'METEOR_RED';\n    let ammo = gatling.ammo;\n    let missiles = Number.POSITIVE_INFINITY;\n    let laserCooldownMs = laserSystem.cooldownMs;\n    let bombArmed = bombSystem.isArmed;\n    let hull = abilitySystem.state.heal.hull;\n    let shieldActive = abilitySystem.state.shield.active;\n    let dashActive = abilitySystem.state.dash.active;\n    let ultimateActive = abilitySystem.state.ultimate.active;\n    let fireHeld = false;\n    let fireJustPressed = false;\n    let fireJustReleased = false;\n    const slotLabels = {\n        METEOR_RED: 'METEOR BVRAAM R',\n        METEOR_VIOLET: 'METEOR BVRAAM V',\n        LASER: 'NEON LASER',\n        BOMB: 'GRAV BOMB',\n        GATLING: 'GATLING',\n        SHIELD: 'SHIELD',\n        HEAL: 'HEAL',\n        DASH: 'DASH',\n        ULTIMATE: 'ULTIMATE'\n    };\n    computeLauncherClearance();\n    function update(dt, input, queryHeight) {\n        // Mouse steering: aim reticle in NDC controls yaw/pitch\n        const targetYaw = input.mouse.x * 0.6;\n        const targetPitch = input.mouse.y * 0.4;\n        group.rotation.y += (targetYaw - group.rotation.y) * (1 - Math.exp(-6 * dt));\n        group.rotation.x += (targetPitch - group.rotation.x) * (1 - Math.exp(-6 * dt));\n        // Keys\n        if (input.pressed('KeyW')) baseSpeed += 40 * dt;\n        if (input.pressed('KeyS')) baseSpeed -= 40 * dt;\n        if (input.pressed('ShiftLeft')) baseSpeed += 80 * dt;\n        if (input.pressed('KeyQ')) group.rotation.z += 1.2 * dt;\n        if (input.pressed('KeyE')) group.rotation.z -= 1.2 * dt;\n        baseSpeed = Math.max(10, Math.min(160, baseSpeed));\n        // Integrate\n        forward.set(0, 0, -1).applyEuler(group.rotation);\n        const dashBonus = abilitySystem.state.dash.active ? abilitySystem.state.dash.speedBonus : 0;\n        const ultimateBonus = abilitySystem.state.ultimate.active ? abilitySystem.state.dash.speedBonus * 0.5 : 0;\n        effectiveSpeed = baseSpeed + dashBonus + ultimateBonus;\n        vel.copy(forward).multiplyScalar(effectiveSpeed);\n        group.position.addScaledVector(vel, dt);\n        group.userData.speed = effectiveSpeed;\n        // Terrain floor constraint\n        const floor = queryHeight(group.position.x, group.position.z) + 6;\n        if (group.position.y < floor) {\n            group.position.y = floor;\n            vel.y = Math.abs(vel.y) * 0.2;\n        }\n        // Ceiling clamp\n        const ceiling = 2000;\n        if (group.position.y > ceiling) group.position.y = ceiling;\n        const previouslyHeld = fireHeld;\n        fireHeld = Boolean(input.pressed('Space'));\n        fireJustPressed = fireHeld && !previouslyHeld;\n        fireJustReleased = !fireHeld && previouslyHeld;\n        if (input.pressed('Digit1')) activeSlot = 'METEOR_RED';\n        if (input.pressed('Digit2')) activeSlot = 'METEOR_VIOLET';\n        if (input.pressed('Digit3')) activeSlot = 'LASER';\n        if (input.pressed('Digit4')) activeSlot = 'BOMB';\n        if (input.pressed('Digit5')) activeSlot = 'GATLING';\n        if (input.pressed('Digit6')) activeSlot = 'SHIELD';\n        if (input.pressed('Digit7')) activeSlot = 'HEAL';\n        if (input.pressed('Digit8')) activeSlot = 'DASH';\n        if (input.pressed('Digit9')) activeSlot = 'ULTIMATE';\n        weaponContext.position.copy(group.position);\n        weaponContext.forward.copy(forward);\n        weaponContext.dt = dt;\n        weaponContext.targets = targetProvider();\n        if (fireJustPressed) {\n            switch(activeSlot){\n                case 'METEOR_RED':\n                    //1.- Launch a crimson BVRAAM when the red slot is tapped.\n                    meteorRedSystem.tryFire(weaponContext);\n                    break;\n                case 'METEOR_VIOLET':\n                    //2.- Dispatch the violet BVRAAM variant with the same keystroke cadence.\n                    meteorVioletSystem.tryFire(weaponContext);\n                    break;\n                case 'LASER':\n                    laserSystem.fire(weaponContext);\n                    break;\n                case 'BOMB':\n                    bombSystem.fire({\n                        ...weaponContext,\n                        sampleGroundHeight: queryHeight\n                    });\n                    break;\n                case 'GATLING':\n                    break;\n                case 'SHIELD':\n                    abilitySystem.triggerShield();\n                    break;\n                case 'HEAL':\n                    abilitySystem.triggerHeal();\n                    break;\n                case 'DASH':\n                    abilitySystem.triggerDash();\n                    break;\n                case 'ULTIMATE':\n                    abilitySystem.triggerUltimate();\n                    break;\n            }\n        }\n        meteorRedSystem.update(weaponContext);\n        meteorVioletSystem.update(weaponContext);\n        meteorRedVisual.update(meteorRedSystem.missiles);\n        meteorVioletVisual.update(meteorVioletSystem.missiles);\n        if (activeSlot === 'GATLING') {\n            //4.- Advance the hitscan gun and respect trigger state when the slot is active.\n            gatling.update(weaponContext, fireHeld);\n        } else {\n            gatling.update(weaponContext, false);\n        }\n        if (activeSlot === 'LASER') {\n            if (fireHeld) {\n                laserSystem.sustain(weaponContext);\n            }\n            if (fireJustReleased) {\n                laserSystem.release();\n            }\n        } else if (laserSystem.state.active) {\n            laserSystem.release();\n        }\n        laserSystem.update(weaponContext);\n        //5.- Stretch and orient the neon beam according to the freshly sampled weapon state.\n        laserVisual.update(laserSystem.state);\n        bombSystem.update({\n            ...weaponContext,\n            sampleGroundHeight: queryHeight\n        });\n        // Cooldowns\n        ammo = gatling.ammo;\n        missiles = Number.POSITIVE_INFINITY;\n        laserCooldownMs = laserSystem.cooldownMs;\n        bombArmed = bombSystem.isArmed;\n        abilitySystem.update(dt);\n        abilityVisuals.update(abilitySystem.state, group);\n        hull = abilitySystem.state.heal.hull;\n        shieldActive = abilitySystem.state.shield.active;\n        dashActive = abilitySystem.state.dash.active;\n        ultimateActive = abilitySystem.state.ultimate.active;\n    }\n    function dispose() {\n        //6.- Tear down transient weapon meshes so hot swaps between vehicles stay safe.\n        meteorRedVisual.dispose();\n        meteorVioletVisual.dispose();\n        laserVisual.dispose();\n        abilityVisuals.dispose(group);\n    }\n    return {\n        update,\n        refreshVehicleClearance: computeLauncherClearance,\n        get speed () {\n            return effectiveSpeed;\n        },\n        get weaponName () {\n            return slotLabels[activeSlot];\n        },\n        get activeSlot () {\n            return activeSlot;\n        },\n        get ammo () {\n            return ammo;\n        },\n        get missiles () {\n            return missiles;\n        },\n        get laserCooldownMs () {\n            return laserCooldownMs;\n        },\n        get bombArmed () {\n            return bombArmed;\n        },\n        get abilityState () {\n            return abilitySystem.state;\n        },\n        get hull () {\n            return hull;\n        },\n        get shieldActive () {\n            return shieldActive;\n        },\n        get dashActive () {\n            return dashActive;\n        },\n        get ultimateActive () {\n            return ultimateActive;\n        },\n        setTargetProvider (provider) {\n            targetProvider = provider;\n        },\n        dispose\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy92ZWhpY2xlcy9zaGFyZWQvc2ltcGxlQ29udHJvbGxlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQThCO0FBQ3lCO0FBQ0k7QUFDVjtBQUNnQztBQUNSO0FBQ047QUFFWTtBQUNSO0FBYWhFLFNBQVNTLGlCQUFpQkMsS0FBa0IsRUFBRUMsS0FBa0I7SUFDckUsTUFBTUMsTUFBTSxJQUFJWiwwQ0FBYSxDQUFDLEdBQUUsR0FBRTtJQUNsQyxNQUFNYyxVQUFVLElBQUlkLDBDQUFhLENBQUMsR0FBRSxHQUFFLENBQUM7SUFDdkMsTUFBTWUsZ0JBQStCO1FBQ25DQyxVQUFVLElBQUloQiwwQ0FBYTtRQUMzQmMsU0FBUyxJQUFJZCwwQ0FBYSxDQUFDLEdBQUUsR0FBRSxDQUFDO1FBQ2hDaUIsSUFBSTtRQUNKQyxTQUFTLEVBQUU7SUFDYjtJQUNBLElBQUlDLGlCQUF1QyxJQUFNLEVBQUU7SUFFbkQsTUFBTUMsU0FBUyxJQUFJcEIsdUNBQVU7SUFDN0IsTUFBTXNCLE9BQU8sSUFBSXRCLDBDQUFhO0lBRTlCLFNBQVN1QjtRQUNQSCxPQUFPSSxhQUFhLENBQUNkO1FBQ3JCVSxPQUFPSyxPQUFPLENBQUNIO1FBQ2YsTUFBTUksT0FBT0MsS0FBS0MsR0FBRyxDQUFDTixLQUFLTyxDQUFDLEVBQUVQLEtBQUtRLENBQUMsRUFBRVIsS0FBS1MsQ0FBQztRQUM1QyxNQUFNQyxXQUFXTCxLQUFLQyxHQUFHLENBQUMsR0FBR0YsT0FBTztRQUNwQ08sZ0JBQWdCQyxvQkFBb0IsQ0FBQ0Y7UUFDckNHLG1CQUFtQkQsb0JBQW9CLENBQUNGO0lBQzFDO0lBRUEsTUFBTUksVUFBVW5DLHFFQUFtQkEsQ0FBQztRQUNsQ29DLFVBQVU7UUFDVkMsUUFBUXRDLDRDQUFlLENBQUN3QyxRQUFRLENBQUM7UUFDakNDLFlBQVk7UUFDWkMsY0FBYztRQUNkQyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsVUFBVTtRQUNWQyxtQkFBbUI7SUFDckI7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LElBQUl3QyxZQUFVO1lBQUUsT0FBT0E7UUFBUztRQUNoQyxJQUFJQyxtQkFBaUI7WUFBRSxPQUFPQTtRQUFnQjtRQUM5QyxJQUFJQyxhQUFXO1lBQUUsT0FBT0E7UUFBVTtRQUNsQyxJQUFJOEQsZ0JBQWM7WUFBRSxPQUFPckUsY0FBY1UsS0FBSztRQUFDO1FBQy9DLElBQUlELFFBQU07WUFBRSxPQUFPQTtRQUFLO1FBQ3hCLElBQUlHLGdCQUFjO1lBQUUsT0FBT0E7UUFBYTtRQUN4QyxJQUFJRyxjQUFZO1lBQUUsT0FBT0E7UUFBVztRQUNwQyxJQUFJRSxrQkFBZ0I7WUFBRSxPQUFPQTtRQUFlO1FBQzVDcUQsbUJBQWtCQyxRQUE4QjtZQUM5Q2xJLGlCQUFpQmtJO1FBQ25CO1FBQ0FMO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL2FwcC9zcmMvdmVoaWNsZXMvc2hhcmVkL3NpbXBsZUNvbnRyb2xsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBjcmVhdGVHYXRsaW5nU3lzdGVtIH0gZnJvbSAnQC93ZWFwb25zL2dhdGxpbmcnXG5pbXBvcnQgeyBjcmVhdGVOZW9uTGFzZXJTeXN0ZW0gfSBmcm9tICdAL3dlYXBvbnMvbmVvbkxhc2VyJ1xuaW1wb3J0IHsgY3JlYXRlQm9tYlN5c3RlbSB9IGZyb20gJ0Avd2VhcG9ucy9ib21iJ1xuaW1wb3J0IHsgY3JlYXRlSG9taW5nTWlzc2lsZVZpc3VhbCB9IGZyb20gJ0Avd2VhcG9ucy92aXN1YWxzL2hvbWluZ01pc3NpbGVWaXN1YWwnXG5pbXBvcnQgeyBjcmVhdGVOZW9uTGFzZXJWaXN1YWwgfSBmcm9tICdAL3dlYXBvbnMvdmlzdWFscy9uZW9uTGFzZXJWaXN1YWwnXG5pbXBvcnQgeyBjcmVhdGVNZXRlb3JNaXNzaWxlU3lzdGVtIH0gZnJvbSAnQC93ZWFwb25zL21ldGVvck1pc3NpbGUnXG5pbXBvcnQgdHlwZSB7IFdlYXBvbkNvbnRleHQsIFdlYXBvblRhcmdldCB9IGZyb20gJ0Avd2VhcG9ucy90eXBlcydcbmltcG9ydCB7IGNyZWF0ZVN1cHBvcnRBYmlsaXR5U3lzdGVtIH0gZnJvbSAnQC92ZWhpY2xlcy9zaGFyZWQvc3VwcG9ydEFiaWxpdGllcydcbmltcG9ydCB7IGNyZWF0ZUFiaWxpdHlWaXN1YWxzIH0gZnJvbSAnQC92ZWhpY2xlcy9zaGFyZWQvYWJpbGl0eVZpc3VhbHMnXG5cbnR5cGUgQWJpbGl0eVNsb3QgPVxuICB8ICdNRVRFT1JfUkVEJ1xuICB8ICdNRVRFT1JfVklPTEVUJ1xuICB8ICdMQVNFUidcbiAgfCAnQk9NQidcbiAgfCAnR0FUTElORydcbiAgfCAnU0hJRUxEJ1xuICB8ICdIRUFMJ1xuICB8ICdEQVNIJ1xuICB8ICdVTFRJTUFURSdcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRyb2xsZXIoZ3JvdXA6IFRIUkVFLkdyb3VwLCBzY2VuZTogVEhSRUUuU2NlbmUpe1xuICBjb25zdCB2ZWwgPSBuZXcgVEhSRUUuVmVjdG9yMygwLDAsNjApXG4gIGNvbnN0IGZvcndhcmQgPSBuZXcgVEhSRUUuVmVjdG9yMygwLDAsLTEpXG4gIGNvbnN0IHdlYXBvbkNvbnRleHQ6IFdlYXBvbkNvbnRleHQgPSB7XG4gICAgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKCksXG4gICAgZm9yd2FyZDogbmV3IFRIUkVFLlZlY3RvcjMoMCwwLC0xKSxcbiAgICBkdDogMCxcbiAgICB0YXJnZXRzOiBbXVxuICB9XG4gIGxldCB0YXJnZXRQcm92aWRlcjogKCkgPT4gV2VhcG9uVGFyZ2V0W10gPSAoKSA9PiBbXVxuXG4gIGNvbnN0IGJvdW5kcyA9IG5ldyBUSFJFRS5Cb3gzKClcbiAgY29uc3Qgc2l6ZSA9IG5ldyBUSFJFRS5WZWN0b3IzKClcblxuICBmdW5jdGlvbiBjb21wdXRlTGF1bmNoZXJDbGVhcmFuY2UoKXtcbiAgICBib3VuZHMuc2V0RnJvbU9iamVjdChncm91cClcbiAgICBib3VuZHMuZ2V0U2l6ZShzaXplKVxuICAgIGNvbnN0IHNwYW4gPSBNYXRoLm1heChzaXplLngsIHNpemUueSwgc2l6ZS56KVxuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5tYXgoNSwgc3BhbiAqIDUpXG4gICAgbWV0ZW9yUmVkU3lzdGVtLnNldExhdW5jaGVyQ2xlYXJhbmNlKGRpc3RhbmNlKVxuICAgIG1ldGVvclZpb2xldFN5c3RlbS5zZXRMYXVuY2hlckNsZWFyYW5jZShkaXN0YW5jZSlcbiAgfVxuXG4gIGNvbnN0IGdhdGxpbmcgPSBjcmVhdGVHYXRsaW5nU3lzdGVtKHtcbiAgICBmaXJlUmF0ZTogMjUsXG4gICAgc3ByZWFkOiBUSFJFRS5NYXRoVXRpbHMuZGVnVG9SYWQoMS41KSxcbiAgICBtYXhUcmFjZXJzOiAzMixcbiAgICB0cmFjZXJMaWZlTXM6IDI1MCxcbiAgICBhbW1vOiAxMjAwLFxuICAgIGhlYXRQZXJTaG90OiAxLFxuICAgIGNvb2xSYXRlOiAxMixcbiAgICBvdmVyaGVhdFRocmVzaG9sZDogMTIwLFxuICB9KVxuXG4gIGNvbnN0IG1ldGVvclJlZFN5c3RlbSA9IGNyZWF0ZU1ldGVvck1pc3NpbGVTeXN0ZW0oe1xuICAgIG1heENvbmN1cnJlbnQ6IDIsXG4gICAgY29vbGRvd25NczogMjIwMCxcbiAgICBhbW1vOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgZWplY3Rpb25EdXJhdGlvbk1zOiAxMDAwLFxuICAgIGVqZWN0aW9uU3BlZWQ6IDQwLFxuICAgIGJ1cm5TcGVlZDogMjIwLFxuICAgIG5hdmlnYXRpb25Db25zdGFudDogMy41LFxuICAgIGRldG9uYXRpb25SYWRpdXM6IDYsXG4gICAgc21va2VUcmFpbEludGVydmFsTXM6IDcwLFxuICAgIG1heExpZmV0aW1lTXM6IDE1MDAwLFxuICAgIGNsZWFyYW5jZURpc3RhbmNlOiAzMCxcbiAgICBzd2F5QW1wbGl0dWRlOiAyNCxcbiAgICBzd2F5RnJlcXVlbmN5OiAxLjIsXG4gIH0pXG5cbiAgY29uc3QgbWV0ZW9yVmlvbGV0U3lzdGVtID0gY3JlYXRlTWV0ZW9yTWlzc2lsZVN5c3RlbSh7XG4gICAgbWF4Q29uY3VycmVudDogMixcbiAgICBjb29sZG93bk1zOiAyMjAwLFxuICAgIGFtbW86IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICBlamVjdGlvbkR1cmF0aW9uTXM6IDkwMCxcbiAgICBlamVjdGlvblNwZWVkOiA0MixcbiAgICBidXJuU3BlZWQ6IDIyNSxcbiAgICBuYXZpZ2F0aW9uQ29uc3RhbnQ6IDMuNixcbiAgICBkZXRvbmF0aW9uUmFkaXVzOiA2LFxuICAgIHNtb2tlVHJhaWxJbnRlcnZhbE1zOiA3MCxcbiAgICBtYXhMaWZldGltZU1zOiAxNTAwMCxcbiAgICBjbGVhcmFuY2VEaXN0YW5jZTogMzAsXG4gICAgc3dheUFtcGxpdHVkZTogMjYsXG4gICAgc3dheUZyZXF1ZW5jeTogMS4yNSxcbiAgfSlcblxuICBjb25zdCBtZXRlb3JSZWRWaXN1YWwgPSBjcmVhdGVIb21pbmdNaXNzaWxlVmlzdWFsKHNjZW5lLCB7XG4gICAgYm9keTogMHhmZjRkNGYsXG4gICAgZW1pc3NpdmU6IDB4ZmY4MjZhLFxuICAgIHRyYWlsOiAweGZmYzJhMSxcbiAgfSlcblxuICBjb25zdCBtZXRlb3JWaW9sZXRWaXN1YWwgPSBjcmVhdGVIb21pbmdNaXNzaWxlVmlzdWFsKHNjZW5lLCB7XG4gICAgYm9keTogMHg4YzU0ZmYsXG4gICAgZW1pc3NpdmU6IDB4Y2E4ZGZmLFxuICAgIHRyYWlsOiAweGQ4YjRmZixcbiAgfSlcblxuICBjb25zdCBsYXNlclN5c3RlbSA9IGNyZWF0ZU5lb25MYXNlclN5c3RlbSh7XG4gICAgY29vbGRvd25NczogMjAwMCxcbiAgICBkdXJhdGlvbk1zOiA2MDAsXG4gICAgcmFuZ2U6IDgwMCxcbiAgICBhdHRlbnVhdGlvbjogMC4wMDIsXG4gIH0pXG5cbiAgY29uc3QgbGFzZXJWaXN1YWwgPSBjcmVhdGVOZW9uTGFzZXJWaXN1YWwoc2NlbmUsIHsgY29sb3I6IDB4NjFmNmZmIH0pXG5cbiAgY29uc3QgYm9tYlN5c3RlbSA9IGNyZWF0ZUJvbWJTeXN0ZW0oe1xuICAgIG1heENvbmN1cnJlbnQ6IDIsXG4gICAgYW1tbzogNixcbiAgICBmdXNlTXM6IDI1MDAsXG4gICAgY29vbGRvd25NczogMTUwMCxcbiAgICBhb2VSYWRpdXM6IDQwLFxuICAgIGNyYXRlclJhZGl1czogMTgsXG4gICAgZGVicmlzQ291bnQ6IDgsXG4gICAgZ3Jhdml0eTogMzAsXG4gIH0pXG5cbiAgY29uc3QgYWJpbGl0eVN5c3RlbSA9IGNyZWF0ZVN1cHBvcnRBYmlsaXR5U3lzdGVtKClcbiAgY29uc3QgYWJpbGl0eVZpc3VhbHMgPSBjcmVhdGVBYmlsaXR5VmlzdWFscyhncm91cClcblxuICBsZXQgYmFzZVNwZWVkID0gNjBcbiAgbGV0IGVmZmVjdGl2ZVNwZWVkID0gYmFzZVNwZWVkXG4gIGxldCBhY3RpdmVTbG90OiBBYmlsaXR5U2xvdCA9ICdNRVRFT1JfUkVEJ1xuICBsZXQgYW1tbyA9IGdhdGxpbmcuYW1tb1xuICBsZXQgbWlzc2lsZXMgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFlcbiAgbGV0IGxhc2VyQ29vbGRvd25NcyA9IGxhc2VyU3lzdGVtLmNvb2xkb3duTXNcbiAgbGV0IGJvbWJBcm1lZCA9IGJvbWJTeXN0ZW0uaXNBcm1lZFxuICBsZXQgaHVsbCA9IGFiaWxpdHlTeXN0ZW0uc3RhdGUuaGVhbC5odWxsXG4gIGxldCBzaGllbGRBY3RpdmUgPSBhYmlsaXR5U3lzdGVtLnN0YXRlLnNoaWVsZC5hY3RpdmVcbiAgbGV0IGRhc2hBY3RpdmUgPSBhYmlsaXR5U3lzdGVtLnN0YXRlLmRhc2guYWN0aXZlXG4gIGxldCB1bHRpbWF0ZUFjdGl2ZSA9IGFiaWxpdHlTeXN0ZW0uc3RhdGUudWx0aW1hdGUuYWN0aXZlXG4gIGxldCBmaXJlSGVsZCA9IGZhbHNlXG4gIGxldCBmaXJlSnVzdFByZXNzZWQgPSBmYWxzZVxuICBsZXQgZmlyZUp1c3RSZWxlYXNlZCA9IGZhbHNlXG4gIGNvbnN0IHNsb3RMYWJlbHM6IFJlY29yZDxBYmlsaXR5U2xvdCwgc3RyaW5nPiA9IHtcbiAgICBNRVRFT1JfUkVEOiAnTUVURU9SIEJWUkFBTSBSJyxcbiAgICBNRVRFT1JfVklPTEVUOiAnTUVURU9SIEJWUkFBTSBWJyxcbiAgICBMQVNFUjogJ05FT04gTEFTRVInLFxuICAgIEJPTUI6ICdHUkFWIEJPTUInLFxuICAgIEdBVExJTkc6ICdHQVRMSU5HJyxcbiAgICBTSElFTEQ6ICdTSElFTEQnLFxuICAgIEhFQUw6ICdIRUFMJyxcbiAgICBEQVNIOiAnREFTSCcsXG4gICAgVUxUSU1BVEU6ICdVTFRJTUFURScsXG4gIH1cblxuICBjb21wdXRlTGF1bmNoZXJDbGVhcmFuY2UoKVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZShkdDpudW1iZXIsIGlucHV0OmFueSwgcXVlcnlIZWlnaHQ6KHg6bnVtYmVyLHo6bnVtYmVyKT0+bnVtYmVyKXtcbiAgICAvLyBNb3VzZSBzdGVlcmluZzogYWltIHJldGljbGUgaW4gTkRDIGNvbnRyb2xzIHlhdy9waXRjaFxuICAgIGNvbnN0IHRhcmdldFlhdyA9IGlucHV0Lm1vdXNlLnggKiAwLjZcbiAgICBjb25zdCB0YXJnZXRQaXRjaCA9IGlucHV0Lm1vdXNlLnkgKiAwLjRcbiAgICBncm91cC5yb3RhdGlvbi55ICs9ICh0YXJnZXRZYXcgLSBncm91cC5yb3RhdGlvbi55KSAqICgxIC0gTWF0aC5leHAoLTYqZHQpKVxuICAgIGdyb3VwLnJvdGF0aW9uLnggKz0gKHRhcmdldFBpdGNoIC0gZ3JvdXAucm90YXRpb24ueCkgKiAoMSAtIE1hdGguZXhwKC02KmR0KSlcblxuICAgIC8vIEtleXNcbiAgICBpZiAoaW5wdXQucHJlc3NlZCgnS2V5VycpKSBiYXNlU3BlZWQgKz0gNDAqZHRcbiAgICBpZiAoaW5wdXQucHJlc3NlZCgnS2V5UycpKSBiYXNlU3BlZWQgLT0gNDAqZHRcbiAgICBpZiAoaW5wdXQucHJlc3NlZCgnU2hpZnRMZWZ0JykpIGJhc2VTcGVlZCArPSA4MCpkdFxuICAgIGlmIChpbnB1dC5wcmVzc2VkKCdLZXlRJykpIGdyb3VwLnJvdGF0aW9uLnogKz0gMS4yKmR0XG4gICAgaWYgKGlucHV0LnByZXNzZWQoJ0tleUUnKSkgZ3JvdXAucm90YXRpb24ueiAtPSAxLjIqZHRcbiAgICBiYXNlU3BlZWQgPSBNYXRoLm1heCgxMCwgTWF0aC5taW4oMTYwLCBiYXNlU3BlZWQpKVxuXG4gICAgLy8gSW50ZWdyYXRlXG4gICAgZm9yd2FyZC5zZXQoMCwwLC0xKS5hcHBseUV1bGVyKGdyb3VwLnJvdGF0aW9uKVxuICAgIGNvbnN0IGRhc2hCb251cyA9IGFiaWxpdHlTeXN0ZW0uc3RhdGUuZGFzaC5hY3RpdmUgPyBhYmlsaXR5U3lzdGVtLnN0YXRlLmRhc2guc3BlZWRCb251cyA6IDBcbiAgICBjb25zdCB1bHRpbWF0ZUJvbnVzID0gYWJpbGl0eVN5c3RlbS5zdGF0ZS51bHRpbWF0ZS5hY3RpdmUgPyBhYmlsaXR5U3lzdGVtLnN0YXRlLmRhc2guc3BlZWRCb251cyAqIDAuNSA6IDBcbiAgICBlZmZlY3RpdmVTcGVlZCA9IGJhc2VTcGVlZCArIGRhc2hCb251cyArIHVsdGltYXRlQm9udXNcbiAgICB2ZWwuY29weShmb3J3YXJkKS5tdWx0aXBseVNjYWxhcihlZmZlY3RpdmVTcGVlZClcbiAgICBncm91cC5wb3NpdGlvbi5hZGRTY2FsZWRWZWN0b3IodmVsLCBkdClcbiAgICA7KGdyb3VwIGFzIGFueSkudXNlckRhdGEuc3BlZWQgPSBlZmZlY3RpdmVTcGVlZFxuXG4gICAgLy8gVGVycmFpbiBmbG9vciBjb25zdHJhaW50XG4gICAgY29uc3QgZmxvb3IgPSBxdWVyeUhlaWdodChncm91cC5wb3NpdGlvbi54LCBncm91cC5wb3NpdGlvbi56KSArIDZcbiAgICBpZiAoZ3JvdXAucG9zaXRpb24ueSA8IGZsb29yKSB7XG4gICAgICBncm91cC5wb3NpdGlvbi55ID0gZmxvb3JcbiAgICAgIHZlbC55ID0gTWF0aC5hYnModmVsLnkpKjAuMlxuICAgIH1cblxuICAgIC8vIENlaWxpbmcgY2xhbXBcbiAgICBjb25zdCBjZWlsaW5nID0gMjAwMFxuICAgIGlmIChncm91cC5wb3NpdGlvbi55ID4gY2VpbGluZykgZ3JvdXAucG9zaXRpb24ueSA9IGNlaWxpbmdcblxuICAgIGNvbnN0IHByZXZpb3VzbHlIZWxkID0gZmlyZUhlbGRcbiAgICBmaXJlSGVsZCA9IEJvb2xlYW4oaW5wdXQucHJlc3NlZCgnU3BhY2UnKSlcbiAgICBmaXJlSnVzdFByZXNzZWQgPSBmaXJlSGVsZCAmJiAhcHJldmlvdXNseUhlbGRcbiAgICBmaXJlSnVzdFJlbGVhc2VkID0gIWZpcmVIZWxkICYmIHByZXZpb3VzbHlIZWxkXG5cbiAgICBpZiAoaW5wdXQucHJlc3NlZCgnRGlnaXQxJykpIGFjdGl2ZVNsb3QgPSAnTUVURU9SX1JFRCdcbiAgICBpZiAoaW5wdXQucHJlc3NlZCgnRGlnaXQyJykpIGFjdGl2ZVNsb3QgPSAnTUVURU9SX1ZJT0xFVCdcbiAgICBpZiAoaW5wdXQucHJlc3NlZCgnRGlnaXQzJykpIGFjdGl2ZVNsb3QgPSAnTEFTRVInXG4gICAgaWYgKGlucHV0LnByZXNzZWQoJ0RpZ2l0NCcpKSBhY3RpdmVTbG90ID0gJ0JPTUInXG4gICAgaWYgKGlucHV0LnByZXNzZWQoJ0RpZ2l0NScpKSBhY3RpdmVTbG90ID0gJ0dBVExJTkcnXG4gICAgaWYgKGlucHV0LnByZXNzZWQoJ0RpZ2l0NicpKSBhY3RpdmVTbG90ID0gJ1NISUVMRCdcbiAgICBpZiAoaW5wdXQucHJlc3NlZCgnRGlnaXQ3JykpIGFjdGl2ZVNsb3QgPSAnSEVBTCdcbiAgICBpZiAoaW5wdXQucHJlc3NlZCgnRGlnaXQ4JykpIGFjdGl2ZVNsb3QgPSAnREFTSCdcbiAgICBpZiAoaW5wdXQucHJlc3NlZCgnRGlnaXQ5JykpIGFjdGl2ZVNsb3QgPSAnVUxUSU1BVEUnXG5cbiAgICB3ZWFwb25Db250ZXh0LnBvc2l0aW9uLmNvcHkoZ3JvdXAucG9zaXRpb24pXG4gICAgd2VhcG9uQ29udGV4dC5mb3J3YXJkLmNvcHkoZm9yd2FyZClcbiAgICB3ZWFwb25Db250ZXh0LmR0ID0gZHRcbiAgICB3ZWFwb25Db250ZXh0LnRhcmdldHMgPSB0YXJnZXRQcm92aWRlcigpXG5cbiAgICBpZiAoZmlyZUp1c3RQcmVzc2VkKXtcbiAgICAgIHN3aXRjaCAoYWN0aXZlU2xvdCl7XG4gICAgICAgIGNhc2UgJ01FVEVPUl9SRUQnOlxuICAgICAgICAgIC8vMS4tIExhdW5jaCBhIGNyaW1zb24gQlZSQUFNIHdoZW4gdGhlIHJlZCBzbG90IGlzIHRhcHBlZC5cbiAgICAgICAgICBtZXRlb3JSZWRTeXN0ZW0udHJ5RmlyZSh3ZWFwb25Db250ZXh0KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ01FVEVPUl9WSU9MRVQnOlxuICAgICAgICAgIC8vMi4tIERpc3BhdGNoIHRoZSB2aW9sZXQgQlZSQUFNIHZhcmlhbnQgd2l0aCB0aGUgc2FtZSBrZXlzdHJva2UgY2FkZW5jZS5cbiAgICAgICAgICBtZXRlb3JWaW9sZXRTeXN0ZW0udHJ5RmlyZSh3ZWFwb25Db250ZXh0KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ0xBU0VSJzpcbiAgICAgICAgICBsYXNlclN5c3RlbS5maXJlKHdlYXBvbkNvbnRleHQpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnQk9NQic6XG4gICAgICAgICAgYm9tYlN5c3RlbS5maXJlKHsgLi4ud2VhcG9uQ29udGV4dCwgc2FtcGxlR3JvdW5kSGVpZ2h0OiBxdWVyeUhlaWdodCB9KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ0dBVExJTkcnOlxuICAgICAgICAgIC8vMy4tIEltbWVkaWF0ZSBlZmZlY3QgaGFuZGxlZCB0aHJvdWdoIHRoZSBjb250aW51b3VzIGZpcmUgYnJhbmNoLlxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ1NISUVMRCc6XG4gICAgICAgICAgYWJpbGl0eVN5c3RlbS50cmlnZ2VyU2hpZWxkKClcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdIRUFMJzpcbiAgICAgICAgICBhYmlsaXR5U3lzdGVtLnRyaWdnZXJIZWFsKClcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdEQVNIJzpcbiAgICAgICAgICBhYmlsaXR5U3lzdGVtLnRyaWdnZXJEYXNoKClcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdVTFRJTUFURSc6XG4gICAgICAgICAgYWJpbGl0eVN5c3RlbS50cmlnZ2VyVWx0aW1hdGUoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgbWV0ZW9yUmVkU3lzdGVtLnVwZGF0ZSh3ZWFwb25Db250ZXh0KVxuICAgIG1ldGVvclZpb2xldFN5c3RlbS51cGRhdGUod2VhcG9uQ29udGV4dClcbiAgICBtZXRlb3JSZWRWaXN1YWwudXBkYXRlKG1ldGVvclJlZFN5c3RlbS5taXNzaWxlcylcbiAgICBtZXRlb3JWaW9sZXRWaXN1YWwudXBkYXRlKG1ldGVvclZpb2xldFN5c3RlbS5taXNzaWxlcylcblxuICAgIGlmIChhY3RpdmVTbG90ID09PSAnR0FUTElORycpe1xuICAgICAgLy80Li0gQWR2YW5jZSB0aGUgaGl0c2NhbiBndW4gYW5kIHJlc3BlY3QgdHJpZ2dlciBzdGF0ZSB3aGVuIHRoZSBzbG90IGlzIGFjdGl2ZS5cbiAgICAgIGdhdGxpbmcudXBkYXRlKHdlYXBvbkNvbnRleHQsIGZpcmVIZWxkKVxuICAgIH0gZWxzZSB7XG4gICAgICBnYXRsaW5nLnVwZGF0ZSh3ZWFwb25Db250ZXh0LCBmYWxzZSlcbiAgICB9XG5cbiAgICBpZiAoYWN0aXZlU2xvdCA9PT0gJ0xBU0VSJyl7XG4gICAgICBpZiAoZmlyZUhlbGQpe1xuICAgICAgICBsYXNlclN5c3RlbS5zdXN0YWluKHdlYXBvbkNvbnRleHQpXG4gICAgICB9XG4gICAgICBpZiAoZmlyZUp1c3RSZWxlYXNlZCl7XG4gICAgICAgIGxhc2VyU3lzdGVtLnJlbGVhc2UoKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobGFzZXJTeXN0ZW0uc3RhdGUuYWN0aXZlKXtcbiAgICAgIGxhc2VyU3lzdGVtLnJlbGVhc2UoKVxuICAgIH1cbiAgICBsYXNlclN5c3RlbS51cGRhdGUod2VhcG9uQ29udGV4dClcbiAgICAvLzUuLSBTdHJldGNoIGFuZCBvcmllbnQgdGhlIG5lb24gYmVhbSBhY2NvcmRpbmcgdG8gdGhlIGZyZXNobHkgc2FtcGxlZCB3ZWFwb24gc3RhdGUuXG4gICAgbGFzZXJWaXN1YWwudXBkYXRlKGxhc2VyU3lzdGVtLnN0YXRlKVxuXG4gICAgYm9tYlN5c3RlbS51cGRhdGUoeyAuLi53ZWFwb25Db250ZXh0LCBzYW1wbGVHcm91bmRIZWlnaHQ6IHF1ZXJ5SGVpZ2h0IH0pXG5cbiAgICAvLyBDb29sZG93bnNcbiAgICBhbW1vID0gZ2F0bGluZy5hbW1vXG4gICAgbWlzc2lsZXMgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFlcbiAgICBsYXNlckNvb2xkb3duTXMgPSBsYXNlclN5c3RlbS5jb29sZG93bk1zXG4gICAgYm9tYkFybWVkID0gYm9tYlN5c3RlbS5pc0FybWVkXG4gICAgYWJpbGl0eVN5c3RlbS51cGRhdGUoZHQpXG4gICAgYWJpbGl0eVZpc3VhbHMudXBkYXRlKGFiaWxpdHlTeXN0ZW0uc3RhdGUsIGdyb3VwKVxuICAgIGh1bGwgPSBhYmlsaXR5U3lzdGVtLnN0YXRlLmhlYWwuaHVsbFxuICAgIHNoaWVsZEFjdGl2ZSA9IGFiaWxpdHlTeXN0ZW0uc3RhdGUuc2hpZWxkLmFjdGl2ZVxuICAgIGRhc2hBY3RpdmUgPSBhYmlsaXR5U3lzdGVtLnN0YXRlLmRhc2guYWN0aXZlXG4gICAgdWx0aW1hdGVBY3RpdmUgPSBhYmlsaXR5U3lzdGVtLnN0YXRlLnVsdGltYXRlLmFjdGl2ZVxuICB9XG5cbiAgZnVuY3Rpb24gZGlzcG9zZSgpe1xuICAgIC8vNi4tIFRlYXIgZG93biB0cmFuc2llbnQgd2VhcG9uIG1lc2hlcyBzbyBob3Qgc3dhcHMgYmV0d2VlbiB2ZWhpY2xlcyBzdGF5IHNhZmUuXG4gICAgbWV0ZW9yUmVkVmlzdWFsLmRpc3Bvc2UoKVxuICAgIG1ldGVvclZpb2xldFZpc3VhbC5kaXNwb3NlKClcbiAgICBsYXNlclZpc3VhbC5kaXNwb3NlKClcbiAgICBhYmlsaXR5VmlzdWFscy5kaXNwb3NlKGdyb3VwKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB1cGRhdGUsXG4gICAgcmVmcmVzaFZlaGljbGVDbGVhcmFuY2U6IGNvbXB1dGVMYXVuY2hlckNsZWFyYW5jZSxcbiAgICBnZXQgc3BlZWQoKXsgcmV0dXJuIGVmZmVjdGl2ZVNwZWVkIH0sXG4gICAgZ2V0IHdlYXBvbk5hbWUoKXsgcmV0dXJuIHNsb3RMYWJlbHNbYWN0aXZlU2xvdF0gfSxcbiAgICBnZXQgYWN0aXZlU2xvdCgpeyByZXR1cm4gYWN0aXZlU2xvdCB9LFxuICAgIGdldCBhbW1vKCl7IHJldHVybiBhbW1vIH0sXG4gICAgZ2V0IG1pc3NpbGVzKCl7IHJldHVybiBtaXNzaWxlcyB9LFxuICAgIGdldCBsYXNlckNvb2xkb3duTXMoKXsgcmV0dXJuIGxhc2VyQ29vbGRvd25NcyB9LFxuICAgIGdldCBib21iQXJtZWQoKXsgcmV0dXJuIGJvbWJBcm1lZCB9LFxuICAgIGdldCBhYmlsaXR5U3RhdGUoKXsgcmV0dXJuIGFiaWxpdHlTeXN0ZW0uc3RhdGUgfSxcbiAgICBnZXQgaHVsbCgpeyByZXR1cm4gaHVsbCB9LFxuICAgIGdldCBzaGllbGRBY3RpdmUoKXsgcmV0dXJuIHNoaWVsZEFjdGl2ZSB9LFxuICAgIGdldCBkYXNoQWN0aXZlKCl7IHJldHVybiBkYXNoQWN0aXZlIH0sXG4gICAgZ2V0IHVsdGltYXRlQWN0aXZlKCl7IHJldHVybiB1bHRpbWF0ZUFjdGl2ZSB9LFxuICAgIHNldFRhcmdldFByb3ZpZGVyKHByb3ZpZGVyOiAoKSA9PiBXZWFwb25UYXJnZXRbXSl7XG4gICAgICB0YXJnZXRQcm92aWRlciA9IHByb3ZpZGVyXG4gICAgfSxcbiAgICBkaXNwb3NlLFxuICB9XG59XG4iXSwibmFtZXMiOlsiVEhSRUUiLCJjcmVhdGVHYXRsaW5nU3lzdGVtIiwiY3JlYXRlTmVvbkxhc2VyU3lzdGVtIiwiY3JlYXRlQm9tYlN5c3RlbSIsImNyZWF0ZUhvbWluZ01pc3NpbGVWaXN1YWwiLCJjcmVhdGVOZW9uTGFzZXJWaXN1YWwiLCJjcmVhdGVNZXRlb3JNaXNzaWxlU3lzdGVtIiwiY3JlYXRlU3VwcG9ydEFiaWxpdHlTeXN0ZW0iLCJjcmVhdGVBYmlsaXR5VmlzdWFscyIsImNyZWF0ZUNvbnRyb2xsZXIiLCJncm91cCIsInNjZW5lIiwidmVsIiwiVmVjdG9yMyIsImZvcndhcmQiLCJ3ZWFwb25Db250ZXh0IiwicG9zaXRpb24iLCJkdCIsInRhcmdldHMiLCJ0YXJnZXRQcm92aWRlciIsImJvdW5kcyIsIkJveDMiLCJzaXplIiwiY29tcHV0ZUxhdW5jaGVyQ2xlYXJhbmNlIiwic2V0RnJvbU9iamVjdCIsImdldFNpemUiLCJzcGFuIiwiTWF0aCIsIm1heCIsIngiLCJ5IiwieiIsImRpc3RhbmNlIiwibWV0ZW9yUmVkU3lzdGVtIiwic2V0TGF1bmNoZXJDbGVhcmFuY2UiLCJtZXRlb3JWaW9sZXRTeXN0ZW0iLCJnYXRsaW5nIiwiZmlyZVJhdGUiLCJzcHJlYWQiLCJNYXRoVXRpbHMiLCJkZWdUb1JhZCIsIm1heFRyYWNlcnMiLCJ0cmFjZXJMaWZlTXMiLCJhbW1vIiwiaGVhdFBlclNob3QiLCJjb29sUmF0ZSIsIm92ZXJoZWF0VGhyZXNob2xkIiwibWF4Q29uY3VycmVudCIsImNvb2xkb3duTXMiLCJOdW1iZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsImVqZWN0aW9uRHVyYXRpb25NcyIsImVqZWN0aW9uU3BlZWQiLCJidXJuU3BlZWQiLCJuYXZpZ2F0aW9uQ29uc3RhbnQiLCJkZXRvbmF0aW9uUmFkaXVzIiwic21va2VUcmFpbEludGVydmFsTXMiLCJtYXhMaWZldGltZU1zIiwiY2xlYXJhbmNlRGlzdGFuY2UiLCJzd2F5QW1wbGl0dWRlIiwic3dheUZyZXF1ZW5jeSIsIm1ldGVvclJlZFZpc3VhbCIsImJvZHkiLCJlbWlzc2l2ZSIsInRyYWlsIiwibWV0ZW9yVmlvbGV0VmlzdWFsIiwibGFzZXJTeXN0ZW0iLCJkdXJhdGlvbk1zIiwicmFuZ2UiLCJhdHRlbnVhdGlvbiIsImxhc2VyVmlzdWFsIiwiY29sb3IiLCJib21iU3lzdGVtIiwiZnVzZU1zIiwiYW9lUmFkaXVzIiwiY3JhdGVyUmFkaXVzIiwiZGVicmlzQ291bnQiLCJncmF2aXR5IiwiYWJpbGl0eVN5c3RlbSIsImFiaWxpdHlWaXN1YWxzIiwiYmFzZVNwZWVkIiwiZWZmZWN0aXZlU3BlZWQiLCJhY3RpdmVTbG90IiwibWlzc2lsZXMiLCJsYXNlckNvb2xkb3duTXMiLCJib21iQXJtZWQiLCJpc0FybWVkIiwiaHVsbCIsInN0YXRlIiwiaGVhbCIsInNoaWVsZEFjdGl2ZSIsInNoaWVsZCIsImFjdGl2ZSIsImRhc2hBY3RpdmUiLCJkYXNoIiwidWx0aW1hdGVBY3RpdmUiLCJ1bHRpbWF0ZSIsImZpcmVIZWxkIiwiZmlyZUp1c3RQcmVzc2VkIiwiZmlyZUp1c3RSZWxlYXNlZCIsInNsb3RMYWJlbHMiLCJNRVRFT1JfUkVEIiwiTUVURU9SX1ZJT0xFVCIsIkxBU0VSIiwiQk9NQiIsIkdBVExJTkciLCJTSElFTEQiLCJIRUFMIiwiREFTSCIsIlVMVElNQVRFIiwidXBkYXRlIiwiaW5wdXQiLCJxdWVyeUhlaWdodCIsInRhcmdldFlhdyIsIm1vdXNlIiwidGFyZ2V0UGl0Y2giLCJyb3RhdGlvbiIsImV4cCIsInByZXNzZWQiLCJtaW4iLCJzZXQiLCJhcHBseUV1bGVyIiwiZGFzaEJvbnVzIiwic3BlZWRCb251cyIsInVsdGltYXRlQm9udXMiLCJjb3B5IiwibXVsdGlwbHlTY2FsYXIiLCJhZGRTY2FsZWRWZWN0b3IiLCJ1c2VyRGF0YSIsInNwZWVkIiwiZmxvb3IiLCJhYnMiLCJjZWlsaW5nIiwicHJldmlvdXNseUhlbGQiLCJCb29sZWFuIiwidHJ5RmlyZSIsImZpcmUiLCJzYW1wbGVHcm91bmRIZWlnaHQiLCJ0cmlnZ2VyU2hpZWxkIiwidHJpZ2dlckhlYWwiLCJ0cmlnZ2VyRGFzaCIsInRyaWdnZXJVbHRpbWF0ZSIsInN1c3RhaW4iLCJyZWxlYXNlIiwiZGlzcG9zZSIsInJlZnJlc2hWZWhpY2xlQ2xlYXJhbmNlIiwid2VhcG9uTmFtZSIsImFiaWxpdHlTdGF0ZSIsInNldFRhcmdldFByb3ZpZGVyIiwicHJvdmlkZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/vehicles/shared/simpleController.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/weapons/meteorMissile.ts":
/*!**************************************!*\
  !*** ./src/weapons/meteorMissile.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createMeteorMissileSystem: () => (/* binding */ createMeteorMissileSystem)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.module.js\");\n\nconst WORLD_UP = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 1, 0);\nconst NAV_EPSILON = 0.0001;\nconst IMPACT_LIFETIME_MS = 4000;\nfunction createMeteorMissileSystem(options) {\n    const missiles = [];\n    const impacts = [];\n    let ammo = options.ammo;\n    let cooldownMs = 0;\n    let idCounter = 0;\n    var _options_clearanceDistance;\n    let clearanceDistance = Math.max(1, (_options_clearanceDistance = options.clearanceDistance) !== null && _options_clearanceDistance !== void 0 ? _options_clearanceDistance : 12);\n    var _options_swayAmplitude;\n    const swayAmplitude = (_options_swayAmplitude = options.swayAmplitude) !== null && _options_swayAmplitude !== void 0 ? _options_swayAmplitude : 20;\n    var _options_swayFrequency;\n    const swayFrequency = (_options_swayFrequency = options.swayFrequency) !== null && _options_swayFrequency !== void 0 ? _options_swayFrequency : 1.1;\n    const forwardTmp = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const los = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const relVel = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const navAccel = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const toTarget = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const right = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    const sway = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    //1.- Sort every live contact that sits ahead of the shooter so rails see the full stack of threats.\n    function acquireFrontTargets(context, origin) {\n        const ranked = [];\n        for (const candidate of context.targets){\n            if (!candidate.alive) continue;\n            toTarget.copy(candidate.position).sub(origin);\n            const distance = toTarget.length();\n            if (distance < NAV_EPSILON) continue;\n            toTarget.normalize();\n            if (toTarget.dot(context.forward) <= 0) continue;\n            ranked.push({\n                target: candidate,\n                distance\n            });\n        }\n        ranked.sort((a, b)=>a.distance - b.distance);\n        return ranked.map((entry)=>entry.target);\n    }\n    function refreshSwayAxis(missile) {\n        missile.swayAxis.copy(missile.referenceForward).cross(WORLD_UP);\n        if (missile.swayAxis.lengthSq() < NAV_EPSILON) {\n            missile.swayAxis.set(1, 0, 0);\n        }\n        missile.swayAxis.normalize();\n    }\n    function igniteMissile(missile, context) {\n        missile.stage = 'burning';\n        missile.stageMs = 0;\n        missile.swayTime = 0;\n        const ranked = acquireFrontTargets(context, missile.position);\n        var _ranked_;\n        const target = (_ranked_ = ranked[0]) !== null && _ranked_ !== void 0 ? _ranked_ : null;\n        var _target_id;\n        missile.targetId = (_target_id = target === null || target === void 0 ? void 0 : target.id) !== null && _target_id !== void 0 ? _target_id : null;\n        if (target) {\n            los.copy(target.position).sub(missile.position);\n            if (los.lengthSq() > NAV_EPSILON) {\n                los.normalize();\n                missile.velocity.copy(los).multiplyScalar(options.burnSpeed);\n                missile.referenceForward.copy(los);\n            }\n        } else {\n            missile.velocity.copy(missile.referenceForward).multiplyScalar(options.burnSpeed);\n        }\n        refreshSwayAxis(missile);\n    }\n    function registerImpact(missile, target) {\n        if (target) {\n            target.alive = false;\n            target.onFire = true;\n            target.falling = true;\n            target.velocity.y = Math.min(target.velocity.y, -options.burnSpeed * 0.25);\n        }\n        var _target_id;\n        impacts.push({\n            id: missile.id,\n            targetId: (_target_id = target === null || target === void 0 ? void 0 : target.id) !== null && _target_id !== void 0 ? _target_id : null,\n            center: missile.position.clone(),\n            ageMs: 0\n        });\n        if (impacts.length > 24) {\n            impacts.splice(0, impacts.length - 24);\n        }\n    }\n    function detonate(index) {\n        missiles.splice(index, 1);\n    }\n    function update(context) {\n        //2.- Reduce cooldown and age explosion decals so follow-up salvos stay in sync with HUD timers.\n        if (cooldownMs > 0) {\n            cooldownMs = Math.max(0, cooldownMs - context.dt * 1000);\n        }\n        for(let i = impacts.length - 1; i >= 0; i--){\n            const impact = impacts[i];\n            impact.ageMs += context.dt * 1000;\n            if (impact.ageMs > IMPACT_LIFETIME_MS) {\n                impacts.splice(i, 1);\n            }\n        }\n        for(let i = missiles.length - 1; i >= 0; i--){\n            const missile = missiles[i];\n            missile.lifetimeMs += context.dt * 1000;\n            missile.stageMs += context.dt * 1000;\n            if (missile.lifetimeMs > options.maxLifetimeMs) {\n                detonate(i);\n                continue;\n            }\n            if (missile.stage === 'ejecting') {\n                const travel = options.ejectionSpeed * context.dt;\n                missile.position.addScaledVector(missile.ejectionDirection, travel);\n                missile.velocity.copy(missile.ejectionDirection).multiplyScalar(options.ejectionSpeed);\n                missile.ejectionTravel += travel;\n                if (missile.ejectionTravel >= clearanceDistance || missile.stageMs >= options.ejectionDurationMs) {\n                    igniteMissile(missile, context);\n                }\n            } else {\n                missile.swayTime += context.dt;\n                var _context_targets_find;\n                let target = (_context_targets_find = context.targets.find((t)=>t.id === missile.targetId && t.alive)) !== null && _context_targets_find !== void 0 ? _context_targets_find : null;\n                if (!target) {\n                    const ranked = acquireFrontTargets(context, missile.position);\n                    var _ranked_;\n                    target = (_ranked_ = ranked[0]) !== null && _ranked_ !== void 0 ? _ranked_ : null;\n                    var _target_id;\n                    missile.targetId = (_target_id = target === null || target === void 0 ? void 0 : target.id) !== null && _target_id !== void 0 ? _target_id : null;\n                }\n                let hasTarget = false;\n                if (target) {\n                    los.copy(target.position).sub(missile.position);\n                    const distance = los.length();\n                    if (distance < options.detonationRadius) {\n                        registerImpact(missile, target);\n                        detonate(i);\n                        continue;\n                    }\n                    los.normalize();\n                    relVel.copy(target.velocity).sub(missile.velocity);\n                    navAccel.copy(relVel.cross(los).cross(los)).multiplyScalar(options.navigationConstant);\n                    missile.velocity.addScaledVector(navAccel, context.dt);\n                    hasTarget = true;\n                }\n                missile.referenceForward.copy(missile.velocity).normalize();\n                refreshSwayAxis(missile);\n                if (hasTarget) {\n                    const phase = Math.sin(missile.swayTime * swayFrequency * Math.PI * 2);\n                    sway.copy(missile.swayAxis).multiplyScalar(phase * swayAmplitude * context.dt);\n                    missile.velocity.add(sway);\n                    missile.velocity.setLength(options.burnSpeed);\n                } else {\n                    missile.velocity.copy(missile.referenceForward).multiplyScalar(options.burnSpeed);\n                }\n            }\n            missile.position.addScaledVector(missile.velocity, context.dt);\n            if (missile.stage === 'burning') {\n                for (const candidate of context.targets){\n                    if (!candidate.alive) continue;\n                    const distance = candidate.position.distanceTo(missile.position);\n                    if (distance < options.detonationRadius) {\n                        registerImpact(missile, candidate);\n                        detonate(i);\n                        break;\n                    }\n                }\n                if (!missiles[i]) continue;\n            }\n            missile.smokeAccumulatorMs += context.dt * 1000;\n            const shouldEmit = missile.stage === 'burning';\n            if (shouldEmit && missile.smokeAccumulatorMs >= options.smokeTrailIntervalMs) {\n                //3.- Drop contrail markers to draw the powered flight path with a simple line strip.\n                missile.smokeAccumulatorMs = 0;\n                missile.smokeTrail.push(missile.position.clone());\n                if (missile.smokeTrail.length > 32) {\n                    missile.smokeTrail.shift();\n                }\n            }\n        }\n    }\n    function tryFire(context) {\n        if (ammo <= 0) return {\n            fired: false,\n            reason: 'empty'\n        };\n        if (cooldownMs > 0) return {\n            fired: false,\n            reason: 'cooldown'\n        };\n        if (missiles.length >= options.maxConcurrent) return {\n            fired: false,\n            reason: 'pool'\n        };\n        forwardTmp.copy(context.forward);\n        if (forwardTmp.lengthSq() < NAV_EPSILON) {\n            forwardTmp.set(0, 0, -1);\n        }\n        forwardTmp.normalize();\n        right.copy(forwardTmp).cross(WORLD_UP);\n        if (right.lengthSq() < NAV_EPSILON) {\n            right.set(1, 0, 0);\n        }\n        right.normalize();\n        const missile = {\n            id: ++idCounter,\n            position: context.position.clone().addScaledVector(right, clearanceDistance * 0.6),\n            velocity: forwardTmp.clone().multiplyScalar(options.ejectionSpeed),\n            targetId: null,\n            lifetimeMs: 0,\n            smokeTrail: [],\n            smokeAccumulatorMs: 0,\n            stage: 'ejecting',\n            stageMs: 0,\n            referenceForward: forwardTmp.clone(),\n            ejectionDirection: forwardTmp.clone(),\n            ejectionTravel: 0,\n            swayTime: 0,\n            swayAxis: right.clone()\n        };\n        missiles.push(missile);\n        ammo -= 1;\n        cooldownMs = options.cooldownMs;\n        return {\n            fired: true,\n            missile\n        };\n    }\n    function setLauncherClearance(distance) {\n        clearanceDistance = Math.max(1, distance);\n    }\n    return {\n        update,\n        tryFire,\n        setLauncherClearance,\n        get ammo () {\n            return ammo;\n        },\n        get cooldownMs () {\n            return cooldownMs;\n        },\n        get activeCount () {\n            return missiles.length;\n        },\n        get missiles () {\n            return missiles;\n        },\n        get impacts () {\n            return impacts;\n        }\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy93ZWFwb25zL21ldGVvck1pc3NpbGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBOEI7QUFHOUIsTUFBTUMsV0FBVyxJQUFJRCwwQ0FBYSxDQUFDLEdBQUcsR0FBRztBQUN6QyxNQUFNRyxjQUFjO0FBQ3BCLE1BQU1DLHFCQUFxQjtBQWdEcEIsU0FBU0MsMEJBQTBCQyxPQUE2QjtJQUNyRSxNQUFNQyxXQUFpQyxFQUFFO0lBQ3pDLE1BQU1DLFVBQWlDLEVBQUU7SUFDekMsSUFBSUMsT0FBT0gsUUFBUUcsSUFBSTtJQUN2QixJQUFJQyxhQUFhO0lBQ2pCLElBQUlDLFlBQVk7UUFDb0JMO0lBQXBDLElBQUlNLG9CQUFvQkMsS0FBS0MsR0FBRyxDQUFDLEdBQUdSLENBQUFBLDZCQUFBQSxRQUFRTSxpQkFBaUIsY0FBekJOLHdDQUFBQSw2QkFBNkI7UUFDM0NBO0lBQXRCLE1BQU1TLGdCQUFnQlQsQ0FBQUEseUJBQUFBLFFBQVFTLGFBQWEsY0FBckJULG9DQUFBQSx5QkFBeUI7UUFDekJBO0lBQXRCLE1BQU1VLGdCQUFnQlYsQ0FBQUEseUJBQUFBLFFBQVFVLGFBQWEsY0FBckJWLG9DQUFBQSx5QkFBeUI7SUFFL0MsTUFBTVcsYUFBYSxJQUFJakIsMENBQWE7SUFDcEMsTUFBTWtCLE1BQU0sSUFBSWxCLDBDQUFhO0lBQzdCLE1BQU1tQixTQUFTLElBQUluQiwwQ0FBYTtJQUNoQyxNQUFNb0IsV0FBVyxJQUFJcEIsMENBQWE7SUFDbEMsTUFBTXFCLFdBQVcsSUFBSXJCLDBDQUFhO0lBQ2xDLE1BQU1zQixRQUFRLElBQUl0QiwwQ0FBYTtJQUMvQixNQUFNdUIsT0FBTyxJQUFJdkIsMENBQWE7SUFJOUIsb0dBQW9HO0lBQ3BHLFNBQVN3QixvQkFBb0JDLE9BQXNCLEVBQUVDLE1BQXFCO1FBQ3hFLE1BQU1DLFNBQXlCLEVBQUU7UUFDakMsS0FBSyxNQUFNQyxhQUFhSCxRQUFRSSxPQUFPLENBQUM7WUFDdEMsSUFBSSxDQUFDRCxV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O1lBQ2xDVyxJQUFJLEVBQUUvQztZQUNOcUIsVUFBVVAsUUFBUU8sUUFBUSxDQUFDb0MsS0FBSyxHQUFHYSxlQUFlLENBQUMzRCxPQUFPVixvQkFBb0I7WUFDOUUrQyxVQUFVMUMsV0FBV21ELEtBQUssR0FBR1IsY0FBYyxDQUFDdEQsUUFBUTBFLGFBQWE7WUFDakV2QixVQUFVO1lBQ1ZvQixZQUFZO1lBQ1pzQixZQUFZLEVBQUU7WUFDZEgsb0JBQW9CO1lBQ3BCMUMsT0FBTztZQUNQQyxTQUFTO1lBQ1ROLGtCQUFrQmhDLFdBQVdtRCxLQUFLO1lBQ2xDYyxtQkFBbUJqRSxXQUFXbUQsS0FBSztZQUNuQ2UsZ0JBQWdCO1lBQ2hCM0IsVUFBVTtZQUNWUixVQUFVMUIsTUFBTThDLEtBQUs7UUFDdkI7UUFFQTdELFNBQVNnQyxJQUFJLENBQUNRO1FBQ2R0QyxRQUFRO1FBQ1JDLGFBQWFKLFFBQVFJLFVBQVU7UUFDL0IsT0FBTztZQUFFNEYsT0FBTztZQUFNdkQ7UUFBUTtJQUNoQztJQUVBLFNBQVMwRCxxQkFBcUJ2RSxRQUFnQjtRQUM1Q3RCLG9CQUFvQkMsS0FBS0MsR0FBRyxDQUFDLEdBQUdvQjtJQUNsQztJQUVBLE9BQU87UUFDTHVDO1FBQ0E0QjtRQUNBSTtRQUNBLElBQUloRyxRQUFNO1lBQUUsT0FBT0E7UUFBSztRQUN4QixJQUFJQyxjQUFZO1lBQUUsT0FBT0E7UUFBVztRQUNwQyxJQUFJZ0csZUFBYTtZQUFFLE9BQU9uRyxTQUFTNEIsTUFBTTtRQUFDO1FBQzFDLElBQUk1QixZQUFVO1lBQUUsT0FBT0E7UUFBUztRQUNoQyxJQUFJQyxXQUFTO1lBQUUsT0FBT0E7UUFBUTtJQUNoQztBQUNGIiwic291cmNlcyI6WyIvYXBwL3NyYy93ZWFwb25zL21ldGVvck1pc3NpbGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBXZWFwb25Db250ZXh0LCBXZWFwb25UYXJnZXQgfSBmcm9tICdAL3dlYXBvbnMvdHlwZXMnXG5cbmNvbnN0IFdPUkxEX1VQID0gbmV3IFRIUkVFLlZlY3RvcjMoMCwgMSwgMClcbmNvbnN0IE5BVl9FUFNJTE9OID0gMC4wMDAxXG5jb25zdCBJTVBBQ1RfTElGRVRJTUVfTVMgPSA0MDAwXG5cbmV4cG9ydCB0eXBlIE1ldGVvck1pc3NpbGVPcHRpb25zID0ge1xuICBtYXhDb25jdXJyZW50OiBudW1iZXJcbiAgY29vbGRvd25NczogbnVtYmVyXG4gIGFtbW86IG51bWJlclxuICBlamVjdGlvbkR1cmF0aW9uTXM6IG51bWJlclxuICBlamVjdGlvblNwZWVkOiBudW1iZXJcbiAgYnVyblNwZWVkOiBudW1iZXJcbiAgbmF2aWdhdGlvbkNvbnN0YW50OiBudW1iZXJcbiAgZGV0b25hdGlvblJhZGl1czogbnVtYmVyXG4gIHNtb2tlVHJhaWxJbnRlcnZhbE1zOiBudW1iZXJcbiAgbWF4TGlmZXRpbWVNczogbnVtYmVyXG4gIGNsZWFyYW5jZURpc3RhbmNlPzogbnVtYmVyXG4gIHN3YXlBbXBsaXR1ZGU/OiBudW1iZXJcbiAgc3dheUZyZXF1ZW5jeT86IG51bWJlclxufVxuXG5leHBvcnQgdHlwZSBNZXRlb3JNaXNzaWxlU3RhdGUgPSB7XG4gIGlkOiBudW1iZXJcbiAgcG9zaXRpb246IFRIUkVFLlZlY3RvcjNcbiAgdmVsb2NpdHk6IFRIUkVFLlZlY3RvcjNcbiAgdGFyZ2V0SWQ6IHN0cmluZyB8IG51bGxcbiAgbGlmZXRpbWVNczogbnVtYmVyXG4gIHNtb2tlVHJhaWw6IFRIUkVFLlZlY3RvcjNbXVxuICBzbW9rZUFjY3VtdWxhdG9yTXM6IG51bWJlclxuICBzdGFnZTogJ2VqZWN0aW5nJyB8ICdidXJuaW5nJ1xuICBzdGFnZU1zOiBudW1iZXJcbiAgcmVmZXJlbmNlRm9yd2FyZDogVEhSRUUuVmVjdG9yM1xuICBlamVjdGlvbkRpcmVjdGlvbjogVEhSRUUuVmVjdG9yM1xuICBlamVjdGlvblRyYXZlbDogbnVtYmVyXG4gIHN3YXlUaW1lOiBudW1iZXJcbiAgc3dheUF4aXM6IFRIUkVFLlZlY3RvcjNcbn1cblxuZXhwb3J0IHR5cGUgTWV0ZW9yTWlzc2lsZUltcGFjdCA9IHtcbiAgaWQ6IG51bWJlclxuICB0YXJnZXRJZDogc3RyaW5nIHwgbnVsbFxuICBjZW50ZXI6IFRIUkVFLlZlY3RvcjNcbiAgYWdlTXM6IG51bWJlclxufVxuXG5leHBvcnQgdHlwZSBNZXRlb3JNaXNzaWxlRmlyZVJlc3VsdCA9IHtcbiAgZmlyZWQ6IGJvb2xlYW5cbiAgbWlzc2lsZT86IE1ldGVvck1pc3NpbGVTdGF0ZVxuICByZWFzb24/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1ldGVvck1pc3NpbGVTeXN0ZW0ob3B0aW9uczogTWV0ZW9yTWlzc2lsZU9wdGlvbnMpe1xuICBjb25zdCBtaXNzaWxlczogTWV0ZW9yTWlzc2lsZVN0YXRlW10gPSBbXVxuICBjb25zdCBpbXBhY3RzOiBNZXRlb3JNaXNzaWxlSW1wYWN0W10gPSBbXVxuICBsZXQgYW1tbyA9IG9wdGlvbnMuYW1tb1xuICBsZXQgY29vbGRvd25NcyA9IDBcbiAgbGV0IGlkQ291bnRlciA9IDBcbiAgbGV0IGNsZWFyYW5jZURpc3RhbmNlID0gTWF0aC5tYXgoMSwgb3B0aW9ucy5jbGVhcmFuY2VEaXN0YW5jZSA/PyAxMilcbiAgY29uc3Qgc3dheUFtcGxpdHVkZSA9IG9wdGlvbnMuc3dheUFtcGxpdHVkZSA/PyAyMFxuICBjb25zdCBzd2F5RnJlcXVlbmN5ID0gb3B0aW9ucy5zd2F5RnJlcXVlbmN5ID8/IDEuMVxuXG4gIGNvbnN0IGZvcndhcmRUbXAgPSBuZXcgVEhSRUUuVmVjdG9yMygpXG4gIGNvbnN0IGxvcyA9IG5ldyBUSFJFRS5WZWN0b3IzKClcbiAgY29uc3QgcmVsVmVsID0gbmV3IFRIUkVFLlZlY3RvcjMoKVxuICBjb25zdCBuYXZBY2NlbCA9IG5ldyBUSFJFRS5WZWN0b3IzKClcbiAgY29uc3QgdG9UYXJnZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpXG4gIGNvbnN0IHJpZ2h0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKVxuICBjb25zdCBzd2F5ID0gbmV3IFRIUkVFLlZlY3RvcjMoKVxuXG4gIHR5cGUgUmFua2VkVGFyZ2V0ID0geyB0YXJnZXQ6IFdlYXBvblRhcmdldCwgZGlzdGFuY2U6IG51bWJlciB9XG5cbiAgLy8xLi0gU29ydCBldmVyeSBsaXZlIGNvbnRhY3QgdGhhdCBzaXRzIGFoZWFkIG9mIHRoZSBzaG9vdGVyIHNvIHJhaWxzIHNlZSB0aGUgZnVsbCBzdGFjayBvZiB0aHJlYXRzLlxuICBmdW5jdGlvbiBhY3F1aXJlRnJvbnRUYXJnZXRzKGNvbnRleHQ6IFdlYXBvbkNvbnRleHQsIG9yaWdpbjogVEhSRUUuVmVjdG9yMyk6IFdlYXBvblRhcmdldFtdIHtcbiAgICBjb25zdCByYW5rZWQ6IFJhbmtlZFRhcmdldFtdID0gW11cbiAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBjb250ZXh0LnRhcmdldHMpe1xuICAgICAgaWYgKCFjYW5kaWRhdGUuYWxpdmUpIGNvbnRpbnVlXG4gICAgICB0b1RhcmdldC5jb3B5KGNhbmRpZGF0ZS5wb3NpdGlvbikuc3ViKG9yaWdpbilcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gdG9UYXJnZXQubGVuZ3RoKClcbiAgICAgIGlmIChkaXN0YW5jZSA8IE5BVl9FUFNJTE9OKSBjb250aW51ZVxuICAgICAgdG9UYXJnZXQubm9ybWFsaXplKClcbiAgICAgIGlmICh0b1RhcmdldC5kb3QoY29udGV4dC5mb3J3YXJkKSA8PSAwKSBjb250aW51ZVxuICAgICAgcmFua2VkLnB1c2goeyB0YXJnZXQ6IGNhbmRpZGF0ZSwgZGlzdGFuY2UgfSlcbiAgICB9XG4gICAgcmFua2VkLnNvcnQoKGEsIGIpID0+IGEuZGlzdGFuY2UgLSBiLmRpc3RhbmNlKVxuICAgIHJldHVybiByYW5rZWQubWFwKGVudHJ5ID0+IGVudHJ5LnRhcmdldClcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZnJlc2hTd2F5QXhpcyhtaXNzaWxlOiBNZXRlb3JNaXNzaWxlU3RhdGUpe1xuICAgIG1pc3NpbGUuc3dheUF4aXMuY29weShtaXNzaWxlLnJlZmVyZW5jZUZvcndhcmQpLmNyb3NzKFdPUkxEX1VQKVxuICAgIGlmIChtaXNzaWxlLnN3YXlBeGlzLmxlbmd0aFNxKCkgPCBOQVZfRVBTSUxPTil7XG4gICAgICBtaXNzaWxlLnN3YXlBeGlzLnNldCgxLCAwLCAwKVxuICAgIH1cbiAgICBtaXNzaWxlLnN3YXlBeGlzLm5vcm1hbGl6ZSgpXG4gIH1cblxuICBmdW5jdGlvbiBpZ25pdGVNaXNzaWxlKG1pc3NpbGU6IE1ldGVvck1pc3NpbGVTdGF0ZSwgY29udGV4dDogV2VhcG9uQ29udGV4dCl7XG4gICAgbWlzc2lsZS5zdGFnZSA9ICdidXJuaW5nJ1xuICAgIG1pc3NpbGUuc3RhZ2VNcyA9IDBcbiAgICBtaXNzaWxlLnN3YXlUaW1lID0gMFxuICAgIGNvbnN0IHJhbmtlZCA9IGFjcXVpcmVGcm9udFRhcmdldHMoY29udGV4dCwgbWlzc2lsZS5wb3NpdGlvbilcbiAgICBjb25zdCB0YXJnZXQgPSByYW5rZWRbMF0gPz8gbnVsbFxuICAgIG1pc3NpbGUudGFyZ2V0SWQgPSB0YXJnZXQ/LmlkID8/IG51bGxcbiAgICBpZiAodGFyZ2V0KXtcbiAgICAgIGxvcy5jb3B5KHRhcmdldC5wb3NpdGlvbikuc3ViKG1pc3NpbGUucG9zaXRpb24pXG4gICAgICBpZiAobG9zLmxlbmd0aFNxKCkgPiBOQVZfRVBTSUxPTil7XG4gICAgICAgIGxvcy5ub3JtYWxpemUoKVxuICAgICAgICBtaXNzaWxlLnZlbG9jaXR5LmNvcHkobG9zKS5tdWx0aXBseVNjYWxhcihvcHRpb25zLmJ1cm5TcGVlZClcbiAgICAgICAgbWlzc2lsZS5yZWZlcmVuY2VGb3J3YXJkLmNvcHkobG9zKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtaXNzaWxlLnZlbG9jaXR5LmNvcHkobWlzc2lsZS5yZWZlcmVuY2VGb3J3YXJkKS5tdWx0aXBseVNjYWxhcihvcHRpb25zLmJ1cm5TcGVlZClcbiAgICB9XG4gICAgcmVmcmVzaFN3YXlBeGlzKG1pc3NpbGUpXG4gIH1cblxuICBmdW5jdGlvbiByZWdpc3RlckltcGFjdChtaXNzaWxlOiBNZXRlb3JNaXNzaWxlU3RhdGUsIHRhcmdldDogV2VhcG9uVGFyZ2V0IHwgbnVsbCl7XG4gICAgaWYgKHRhcmdldCl7XG4gICAgICB0YXJnZXQuYWxpdmUgPSBmYWxzZVxuICAgICAgdGFyZ2V0Lm9uRmlyZSA9IHRydWVcbiAgICAgIHRhcmdldC5mYWxsaW5nID0gdHJ1ZVxuICAgICAgdGFyZ2V0LnZlbG9jaXR5LnkgPSBNYXRoLm1pbih0YXJnZXQudmVsb2NpdHkueSwgLW9wdGlvbnMuYnVyblNwZWVkICogMC4yNSlcbiAgICB9XG4gICAgaW1wYWN0cy5wdXNoKHtcbiAgICAgIGlkOiBtaXNzaWxlLmlkLFxuICAgICAgdGFyZ2V0SWQ6IHRhcmdldD8uaWQgPz8gbnVsbCxcbiAgICAgIGNlbnRlcjogbWlzc2lsZS5wb3NpdGlvbi5jbG9uZSgpLFxuICAgICAgYWdlTXM6IDAsXG4gICAgfSlcbiAgICBpZiAoaW1wYWN0cy5sZW5ndGggPiAyNCl7XG4gICAgICBpbXBhY3RzLnNwbGljZSgwLCBpbXBhY3RzLmxlbmd0aCAtIDI0KVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRldG9uYXRlKGluZGV4OiBudW1iZXIpe1xuICAgIG1pc3NpbGVzLnNwbGljZShpbmRleCwgMSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZShjb250ZXh0OiBXZWFwb25Db250ZXh0KXtcbiAgICAvLzIuLSBSZWR1Y2UgY29vbGRvd24gYW5kIGFnZSBleHBsb3Npb24gZGVjYWxzIHNvIGZvbGxvdy11cCBzYWx2b3Mgc3RheSBpbiBzeW5jIHdpdGggSFVEIHRpbWVycy5cbiAgICBpZiAoY29vbGRvd25NcyA+IDApe1xuICAgICAgY29vbGRvd25NcyA9IE1hdGgubWF4KDAsIGNvb2xkb3duTXMgLSBjb250ZXh0LmR0ICogMTAwMClcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IGltcGFjdHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pe1xuICAgICAgY29uc3QgaW1wYWN0ID0gaW1wYWN0c1tpXVxuICAgICAgaW1wYWN0LmFnZU1zICs9IGNvbnRleHQuZHQgKiAxMDAwXG4gICAgICBpZiAoaW1wYWN0LmFnZU1zID4gSU1QQUNUX0xJRkVUSU1FX01TKXtcbiAgICAgICAgaW1wYWN0cy5zcGxpY2UoaSwgMSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gbWlzc2lsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pe1xuICAgICAgY29uc3QgbWlzc2lsZSA9IG1pc3NpbGVzW2ldXG4gICAgICBtaXNzaWxlLmxpZmV0aW1lTXMgKz0gY29udGV4dC5kdCAqIDEwMDBcbiAgICAgIG1pc3NpbGUuc3RhZ2VNcyArPSBjb250ZXh0LmR0ICogMTAwMFxuXG4gICAgICBpZiAobWlzc2lsZS5saWZldGltZU1zID4gb3B0aW9ucy5tYXhMaWZldGltZU1zKXtcbiAgICAgICAgZGV0b25hdGUoaSlcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgaWYgKG1pc3NpbGUuc3RhZ2UgPT09ICdlamVjdGluZycpe1xuICAgICAgICBjb25zdCB0cmF2ZWwgPSBvcHRpb25zLmVqZWN0aW9uU3BlZWQgKiBjb250ZXh0LmR0XG4gICAgICAgIG1pc3NpbGUucG9zaXRpb24uYWRkU2NhbGVkVmVjdG9yKG1pc3NpbGUuZWplY3Rpb25EaXJlY3Rpb24sIHRyYXZlbClcbiAgICAgICAgbWlzc2lsZS52ZWxvY2l0eS5jb3B5KG1pc3NpbGUuZWplY3Rpb25EaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKG9wdGlvbnMuZWplY3Rpb25TcGVlZClcbiAgICAgICAgbWlzc2lsZS5lamVjdGlvblRyYXZlbCArPSB0cmF2ZWxcbiAgICAgICAgaWYgKG1pc3NpbGUuZWplY3Rpb25UcmF2ZWwgPj0gY2xlYXJhbmNlRGlzdGFuY2UgfHwgbWlzc2lsZS5zdGFnZU1zID49IG9wdGlvbnMuZWplY3Rpb25EdXJhdGlvbk1zKXtcbiAgICAgICAgICBpZ25pdGVNaXNzaWxlKG1pc3NpbGUsIGNvbnRleHQpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pc3NpbGUuc3dheVRpbWUgKz0gY29udGV4dC5kdFxuICAgICAgICBsZXQgdGFyZ2V0ID0gY29udGV4dC50YXJnZXRzLmZpbmQodCA9PiB0LmlkID09PSBtaXNzaWxlLnRhcmdldElkICYmIHQuYWxpdmUpID8/IG51bGxcbiAgICAgICAgaWYgKCF0YXJnZXQpe1xuICAgICAgICAgIGNvbnN0IHJhbmtlZCA9IGFjcXVpcmVGcm9udFRhcmdldHMoY29udGV4dCwgbWlzc2lsZS5wb3NpdGlvbilcbiAgICAgICAgICB0YXJnZXQgPSByYW5rZWRbMF0gPz8gbnVsbFxuICAgICAgICAgIG1pc3NpbGUudGFyZ2V0SWQgPSB0YXJnZXQ/LmlkID8/IG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoYXNUYXJnZXQgPSBmYWxzZVxuICAgICAgICBpZiAodGFyZ2V0KXtcbiAgICAgICAgICBsb3MuY29weSh0YXJnZXQucG9zaXRpb24pLnN1YihtaXNzaWxlLnBvc2l0aW9uKVxuICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gbG9zLmxlbmd0aCgpXG4gICAgICAgICAgaWYgKGRpc3RhbmNlIDwgb3B0aW9ucy5kZXRvbmF0aW9uUmFkaXVzKXtcbiAgICAgICAgICAgIHJlZ2lzdGVySW1wYWN0KG1pc3NpbGUsIHRhcmdldClcbiAgICAgICAgICAgIGRldG9uYXRlKGkpXG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBsb3Mubm9ybWFsaXplKClcbiAgICAgICAgICByZWxWZWwuY29weSh0YXJnZXQudmVsb2NpdHkpLnN1YihtaXNzaWxlLnZlbG9jaXR5KVxuICAgICAgICAgIG5hdkFjY2VsLmNvcHkocmVsVmVsLmNyb3NzKGxvcykuY3Jvc3MobG9zKSkubXVsdGlwbHlTY2FsYXIob3B0aW9ucy5uYXZpZ2F0aW9uQ29uc3RhbnQpXG4gICAgICAgICAgbWlzc2lsZS52ZWxvY2l0eS5hZGRTY2FsZWRWZWN0b3IobmF2QWNjZWwsIGNvbnRleHQuZHQpXG4gICAgICAgICAgaGFzVGFyZ2V0ID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgbWlzc2lsZS5yZWZlcmVuY2VGb3J3YXJkLmNvcHkobWlzc2lsZS52ZWxvY2l0eSkubm9ybWFsaXplKClcbiAgICAgICAgcmVmcmVzaFN3YXlBeGlzKG1pc3NpbGUpXG4gICAgICAgIGlmIChoYXNUYXJnZXQpe1xuICAgICAgICAgIGNvbnN0IHBoYXNlID0gTWF0aC5zaW4obWlzc2lsZS5zd2F5VGltZSAqIHN3YXlGcmVxdWVuY3kgKiBNYXRoLlBJICogMilcbiAgICAgICAgICBzd2F5LmNvcHkobWlzc2lsZS5zd2F5QXhpcykubXVsdGlwbHlTY2FsYXIocGhhc2UgKiBzd2F5QW1wbGl0dWRlICogY29udGV4dC5kdClcbiAgICAgICAgICBtaXNzaWxlLnZlbG9jaXR5LmFkZChzd2F5KVxuICAgICAgICAgIG1pc3NpbGUudmVsb2NpdHkuc2V0TGVuZ3RoKG9wdGlvbnMuYnVyblNwZWVkKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1pc3NpbGUudmVsb2NpdHkuY29weShtaXNzaWxlLnJlZmVyZW5jZUZvcndhcmQpLm11bHRpcGx5U2NhbGFyKG9wdGlvbnMuYnVyblNwZWVkKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1pc3NpbGUucG9zaXRpb24uYWRkU2NhbGVkVmVjdG9yKG1pc3NpbGUudmVsb2NpdHksIGNvbnRleHQuZHQpXG5cbiAgICAgIGlmIChtaXNzaWxlLnN0YWdlID09PSAnYnVybmluZycpe1xuICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBjb250ZXh0LnRhcmdldHMpe1xuICAgICAgICAgIGlmICghY2FuZGlkYXRlLmFsaXZlKSBjb250aW51ZVxuICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gY2FuZGlkYXRlLnBvc2l0aW9uLmRpc3RhbmNlVG8obWlzc2lsZS5wb3NpdGlvbilcbiAgICAgICAgICBpZiAoZGlzdGFuY2UgPCBvcHRpb25zLmRldG9uYXRpb25SYWRpdXMpe1xuICAgICAgICAgICAgcmVnaXN0ZXJJbXBhY3QobWlzc2lsZSwgY2FuZGlkYXRlKVxuICAgICAgICAgICAgZGV0b25hdGUoaSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghbWlzc2lsZXNbaV0pIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIG1pc3NpbGUuc21va2VBY2N1bXVsYXRvck1zICs9IGNvbnRleHQuZHQgKiAxMDAwXG4gICAgICBjb25zdCBzaG91bGRFbWl0ID0gbWlzc2lsZS5zdGFnZSA9PT0gJ2J1cm5pbmcnXG4gICAgICBpZiAoc2hvdWxkRW1pdCAmJiBtaXNzaWxlLnNtb2tlQWNjdW11bGF0b3JNcyA+PSBvcHRpb25zLnNtb2tlVHJhaWxJbnRlcnZhbE1zKXtcbiAgICAgICAgLy8zLi0gRHJvcCBjb250cmFpbCBtYXJrZXJzIHRvIGRyYXcgdGhlIHBvd2VyZWQgZmxpZ2h0IHBhdGggd2l0aCBhIHNpbXBsZSBsaW5lIHN0cmlwLlxuICAgICAgICBtaXNzaWxlLnNtb2tlQWNjdW11bGF0b3JNcyA9IDBcbiAgICAgICAgbWlzc2lsZS5zbW9rZVRyYWlsLnB1c2gobWlzc2lsZS5wb3NpdGlvbi5jbG9uZSgpKVxuICAgICAgICBpZiAobWlzc2lsZS5zbW9rZVRyYWlsLmxlbmd0aCA+IDMyKXtcbiAgICAgICAgICBtaXNzaWxlLnNtb2tlVHJhaWwuc2hpZnQoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5RmlyZShjb250ZXh0OiBXZWFwb25Db250ZXh0KTogTWV0ZW9yTWlzc2lsZUZpcmVSZXN1bHR7XG4gICAgaWYgKGFtbW8gPD0gMCkgcmV0dXJuIHsgZmlyZWQ6IGZhbHNlLCByZWFzb246ICdlbXB0eScgfVxuICAgIGlmIChjb29sZG93bk1zID4gMCkgcmV0dXJuIHsgZmlyZWQ6IGZhbHNlLCByZWFzb246ICdjb29sZG93bicgfVxuICAgIGlmIChtaXNzaWxlcy5sZW5ndGggPj0gb3B0aW9ucy5tYXhDb25jdXJyZW50KSByZXR1cm4geyBmaXJlZDogZmFsc2UsIHJlYXNvbjogJ3Bvb2wnIH1cblxuICAgIGZvcndhcmRUbXAuY29weShjb250ZXh0LmZvcndhcmQpXG4gICAgaWYgKGZvcndhcmRUbXAubGVuZ3RoU3EoKSA8IE5BVl9FUFNJTE9OKXtcbiAgICAgIGZvcndhcmRUbXAuc2V0KDAsIDAsIC0xKVxuICAgIH1cbiAgICBmb3J3YXJkVG1wLm5vcm1hbGl6ZSgpXG4gICAgcmlnaHQuY29weShmb3J3YXJkVG1wKS5jcm9zcyhXT1JMRF9VUClcbiAgICBpZiAocmlnaHQubGVuZ3RoU3EoKSA8IE5BVl9FUFNJTE9OKXtcbiAgICAgIHJpZ2h0LnNldCgxLCAwLCAwKVxuICAgIH1cbiAgICByaWdodC5ub3JtYWxpemUoKVxuXG4gICAgY29uc3QgbWlzc2lsZTogTWV0ZW9yTWlzc2lsZVN0YXRlID0ge1xuICAgICAgaWQ6ICsraWRDb3VudGVyLFxuICAgICAgcG9zaXRpb246IGNvbnRleHQucG9zaXRpb24uY2xvbmUoKS5hZGRTY2FsZWRWZWN0b3IocmlnaHQsIGNsZWFyYW5jZURpc3RhbmNlICogMC42KSxcbiAgICAgIHZlbG9jaXR5OiBmb3J3YXJkVG1wLmNsb25lKCkubXVsdGlwbHlTY2FsYXIob3B0aW9ucy5lamVjdGlvblNwZWVkKSxcbiAgICAgIHRhcmdldElkOiBudWxsLFxuICAgICAgbGlmZXRpbWVNczogMCxcbiAgICAgIHNtb2tlVHJhaWw6IFtdLFxuICAgICAgc21va2VBY2N1bXVsYXRvck1zOiAwLFxuICAgICAgc3RhZ2U6ICdlamVjdGluZycsXG4gICAgICBzdGFnZU1zOiAwLFxuICAgICAgcmVmZXJlbmNlRm9yd2FyZDogZm9yd2FyZFRtcC5jbG9uZSgpLFxuICAgICAgZWplY3Rpb25EaXJlY3Rpb246IGZvcndhcmRUbXAuY2xvbmUoKSxcbiAgICAgIGVqZWN0aW9uVHJhdmVsOiAwLFxuICAgICAgc3dheVRpbWU6IDAsXG4gICAgICBzd2F5QXhpczogcmlnaHQuY2xvbmUoKSxcbiAgICB9XG5cbiAgICBtaXNzaWxlcy5wdXNoKG1pc3NpbGUpXG4gICAgYW1tbyAtPSAxXG4gICAgY29vbGRvd25NcyA9IG9wdGlvbnMuY29vbGRvd25Nc1xuICAgIHJldHVybiB7IGZpcmVkOiB0cnVlLCBtaXNzaWxlIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldExhdW5jaGVyQ2xlYXJhbmNlKGRpc3RhbmNlOiBudW1iZXIpe1xuICAgIGNsZWFyYW5jZURpc3RhbmNlID0gTWF0aC5tYXgoMSwgZGlzdGFuY2UpXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHVwZGF0ZSxcbiAgICB0cnlGaXJlLFxuICAgIHNldExhdW5jaGVyQ2xlYXJhbmNlLFxuICAgIGdldCBhbW1vKCl7IHJldHVybiBhbW1vIH0sXG4gICAgZ2V0IGNvb2xkb3duTXMoKXsgcmV0dXJuIGNvb2xkb3duTXMgfSxcbiAgICBnZXQgYWN0aXZlQ291bnQoKXsgcmV0dXJuIG1pc3NpbGVzLmxlbmd0aCB9LFxuICAgIGdldCBtaXNzaWxlcygpeyByZXR1cm4gbWlzc2lsZXMgfSxcbiAgICBnZXQgaW1wYWN0cygpeyByZXR1cm4gaW1wYWN0cyB9LFxuICB9XG59XG4iXSwibmFtZXMiOlsiVEhSRUUiLCJXT1JMRF9VUCIsIlZlY3RvcjMiLCJOQVZfRVBTSUxPTiIsIklNUEFDVF9MSUZFVElNRV9NUyIsImNyZWF0ZU1ldGVvck1pc3NpbGVTeXN0ZW0iLCJvcHRpb25zIiwibWlzc2lsZXMiLCJpbXBhY3RzIiwiYW1tbyIsImNvb2xkb3duTXMiLCJpZENvdW50ZXIiLCJjbGVhcmFuY2VEaXN0YW5jZSIsIk1hdGgiLCJtYXgiLCJzd2F5QW1wbGl0dWRlIiwic3dheUZyZXF1ZW5jeSIsImZvcndhcmRUbXAiLCJsb3MiLCJyZWxWZWwiLCJuYXZBY2NlbCIsInRvVGFyZ2V0IiwicmlnaHQiLCJzd2F5IiwiYWNxdWlyZUZyb250VGFyZ2V0cyIsImNvbnRleHQiLCJvcmlnaW4iLCJyYW5rZWQiLCJjYW5kaWRhdGUiLCJ0YXJnZXRzIiwiYWxpdmUiLCJjb3B5IiwicG9zaXRpb24iLCJzdWIiLCJkaXN0YW5jZSIsImxlbmd0aCIsIm5vcm1hbGl6ZSIsImRvdCIsImZvcndhcmQiLCJwdXNoIiwidGFyZ2V0Iiwic29ydCIsImEiLCJiIiwibWFwIiwiZW50cnkiLCJyZWZyZXNoU3dheUF4aXMiLCJtaXNzaWxlIiwic3dheUF4aXMiLCJyZWZlcmVuY2VGb3J3YXJkIiwiY3Jvc3MiLCJsZW5ndGhTcSIsInNldCIsImlnbml0ZU1pc3NpbGUiLCJzdGFnZSIsInN0YWdlTXMiLCJzd2F5VGltZSIsInRhcmdldElkIiwiaWQiLCJ2ZWxvY2l0eSIsIm11bHRpcGx5U2NhbGFyIiwiYnVyblNwZWVkIiwicmVnaXN0ZXJJbXBhY3QiLCJvbkZpcmUiLCJmYWxsaW5nIiwieSIsIm1pbiIsImNlbnRlciIsImNsb25lIiwiYWdlTXMiLCJzcGxpY2UiLCJkZXRvbmF0ZSIsImluZGV4IiwidXBkYXRlIiwiZHQiLCJpIiwiaW1wYWN0IiwibGlmZXRpbWVNcyIsIm1heExpZmV0aW1lTXMiLCJ0cmF2ZWwiLCJlamVjdGlvblNwZWVkIiwiYWRkU2NhbGVkVmVjdG9yIiwiZWplY3Rpb25EaXJlY3Rpb24iLCJlamVjdGlvblRyYXZlbCIsImVqZWN0aW9uRHVyYXRpb25NcyIsImZpbmQiLCJ0IiwiaGFzVGFyZ2V0IiwiZGV0b25hdGlvblJhZGl1cyIsIm5hdmlnYXRpb25Db25zdGFudCIsInBoYXNlIiwic2luIiwiUEkiLCJhZGQiLCJzZXRMZW5ndGgiLCJkaXN0YW5jZVRvIiwic21va2VBY2N1bXVsYXRvck1zIiwic2hvdWxkRW1pdCIsInNtb2tlVHJhaWxJbnRlcnZhbE1zIiwic21va2VUcmFpbCIsInNoaWZ0IiwidHJ5RmlyZSIsImZpcmVkIiwicmVhc29uIiwibWF4Q29uY3VycmVudCIsInNldExhdW5jaGVyQ2xlYXJhbmNlIiwiYWN0aXZlQ291bnQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/weapons/meteorMissile.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/weapons/visuals/homingMissileVisual.ts":
/*!****************************************************!*\
  !*** ./src/weapons/visuals/homingMissileVisual.ts ***!
  \****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHomingMissileVisual: () => (/* binding */ createHomingMissileVisual)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.module.js\");\n\nconst BASE_FORWARD = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, 1);\nconst TMP_FORWARD = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\nfunction createHomingMissileVisual(scene) {\n    let palette = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n        body: 0xd36f39,\n        emissive: 0xff6b2f,\n        trail: 0xffc48a\n    };\n    const group = new three__WEBPACK_IMPORTED_MODULE_0__.Group();\n    scene.add(group);\n    const bodyMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial({\n        color: palette.body,\n        metalness: 0.35,\n        roughness: 0.4,\n        emissive: new three__WEBPACK_IMPORTED_MODULE_0__.Color(palette.emissive),\n        emissiveIntensity: 0.4\n    });\n    const finMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial({\n        color: 0x333845,\n        metalness: 0.15,\n        roughness: 0.6\n    });\n    const trailMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.LineBasicMaterial({\n        color: palette.trail,\n        transparent: true,\n        opacity: 0.55,\n        blending: three__WEBPACK_IMPORTED_MODULE_0__.AdditiveBlending\n    });\n    const bodyGeometry = new three__WEBPACK_IMPORTED_MODULE_0__.CylinderGeometry(0.25, 0.32, 1.4, 10, 1, true);\n    const noseGeometry = new three__WEBPACK_IMPORTED_MODULE_0__.ConeGeometry(0.32, 0.7, 10, 1);\n    const finGeometry = new three__WEBPACK_IMPORTED_MODULE_0__.BoxGeometry(0.05, 0.4, 0.25);\n    const flameGeometry = new three__WEBPACK_IMPORTED_MODULE_0__.ConeGeometry(0.18, 0.9, 12, 1);\n    const smokeGeometry = new three__WEBPACK_IMPORTED_MODULE_0__.CylinderGeometry(0.08, 0.22, 1.4, 8, 1, true);\n    const flameMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshBasicMaterial({\n        color: palette.emissive,\n        transparent: true,\n        opacity: 0.9,\n        blending: three__WEBPACK_IMPORTED_MODULE_0__.AdditiveBlending\n    });\n    const smokeMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshBasicMaterial({\n        color: 0x444f63,\n        transparent: true,\n        opacity: 0.45,\n        depthWrite: false,\n        blending: three__WEBPACK_IMPORTED_MODULE_0__.NormalBlending,\n        side: three__WEBPACK_IMPORTED_MODULE_0__.DoubleSide\n    });\n    const renderStates = new Map();\n    function buildMissile() {\n        //1.- Construct a reusable missile rig so pooled projectiles share GPU buffers.\n        const missileGroup = new three__WEBPACK_IMPORTED_MODULE_0__.Group();\n        const body = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(bodyGeometry, bodyMaterial);\n        body.rotation.x = Math.PI / 2;\n        missileGroup.add(body);\n        const nose = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(noseGeometry, bodyMaterial);\n        nose.position.z = -1;\n        missileGroup.add(nose);\n        for(let i = 0; i < 4; i++){\n            const fin = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(finGeometry, finMaterial);\n            fin.position.set(0, Math.sin(i * Math.PI / 2) * 0.35, Math.cos(i * Math.PI / 2) * 0.35);\n            fin.rotation.x = Math.PI / 2;\n            fin.rotation.y = i * Math.PI / 2;\n            missileGroup.add(fin);\n        }\n        const trailGeometry = new three__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry();\n        const trail = new three__WEBPACK_IMPORTED_MODULE_0__.Line(trailGeometry, trailMaterial);\n        missileGroup.add(trail);\n        const flame = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(flameGeometry, flameMaterial);\n        flame.position.z = 0.75;\n        flame.rotation.x = Math.PI;\n        missileGroup.add(flame);\n        const smoke = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(smokeGeometry, smokeMaterial.clone());\n        smoke.position.z = 0.9;\n        smoke.rotation.x = Math.PI / 2;\n        missileGroup.add(smoke);\n        group.add(missileGroup);\n        return {\n            mesh: missileGroup,\n            trail,\n            flame,\n            smoke\n        };\n    }\n    function update(missiles) {\n        const seen = new Set();\n        for (const missile of missiles){\n            seen.add(missile.id);\n            let renderState = renderStates.get(missile.id);\n            if (!renderState) {\n                //2.- Spawn a visual shell when the simulation reports a new missile instance.\n                renderState = buildMissile();\n                renderStates.set(missile.id, renderState);\n            }\n            //3.- Snap the rig to the authoritative kinematic state generated by the weapon logic.\n            renderState.mesh.position.copy(missile.position);\n            TMP_FORWARD.copy(missile.velocity);\n            if (TMP_FORWARD.lengthSq() < 1e-6) {\n                TMP_FORWARD.set(0, 0, 1);\n            }\n            TMP_FORWARD.normalize();\n            renderState.mesh.quaternion.setFromUnitVectors(BASE_FORWARD, TMP_FORWARD);\n            const burning = missile.stage === 'burning';\n            renderState.flame.visible = burning;\n            renderState.smoke.visible = burning;\n            if (burning) {\n                var _missile_stageMs;\n                const stageMs = (_missile_stageMs = missile.stageMs) !== null && _missile_stageMs !== void 0 ? _missile_stageMs : 0;\n                const intensity = Math.min(1, stageMs / 400);\n                renderState.flame.scale.setScalar(0.7 + intensity * 0.6);\n                renderState.smoke.scale.set(1 + intensity * 0.8, 1 + intensity * 0.8, 1);\n                const smokeMat = renderState.smoke.material;\n                smokeMat.opacity = 0.3 + intensity * 0.3;\n            }\n            //4.- Rebuild the exhaust ribbon so contrails appear where guidance history says they were.\n            const points = missile.smokeTrail.length > 0 ? missile.smokeTrail : [\n                missile.position\n            ];\n            renderState.trail.geometry.setFromPoints(points);\n        }\n        for (const [id, renderState] of renderStates){\n            if (seen.has(id)) continue;\n            //5.- Clean up visuals for detonated missiles to keep the pool lean.\n            group.remove(renderState.mesh);\n            renderState.trail.geometry.dispose();\n            renderStates.delete(id);\n        }\n    }\n    function dispose() {\n        //6.- Release pooled assets when the owning controller tears down the weapon systems.\n        for (const [, renderState] of renderStates){\n            group.remove(renderState.mesh);\n            renderState.trail.geometry.dispose();\n        }\n        renderStates.clear();\n        scene.remove(group);\n        bodyGeometry.dispose();\n        noseGeometry.dispose();\n        finGeometry.dispose();\n        flameGeometry.dispose();\n        smokeGeometry.dispose();\n        bodyMaterial.dispose();\n        finMaterial.dispose();\n        trailMaterial.dispose();\n        flameMaterial.dispose();\n        smokeMaterial.dispose();\n    }\n    return {\n        update,\n        dispose,\n        group\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy93ZWFwb25zL3Zpc3VhbHMvaG9taW5nTWlzc2lsZVZpc3VhbC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUE4QjtBQVM5QixNQUFNQyxlQUFlLElBQUlELDBDQUFhLENBQUMsR0FBRyxHQUFHO0FBQzdDLE1BQU1HLGNBQWMsSUFBSUgsMENBQWE7QUFvQjlCLFNBQVNJLDBCQUEwQkMsS0FBa0I7UUFBRUMsVUFBQUEsaUVBQTBCO1FBQ3RGQyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsT0FBTztJQUNUO0lBQ0UsTUFBTUMsUUFBUSxJQUFJVix3Q0FBVztJQUM3QkssTUFBTU8sR0FBRyxDQUFDRjtJQUVWLE1BQU1HLGVBQWUsSUFBSWIsdURBQTBCLENBQUM7UUFDbERlLE9BQU9ULFFBQVFDLElBQUk7UUFDbkJTLFdBQVc7UUFDWEMsV0FBVztRQUNYVCxVQUFVLElBQUlSLHdDQUFXLENBQUNNLFFBQVFFLFFBQVE7UUFDMUNXLG1CQUFtQjtJQUNyQjtJQUNBLE1BQU1DLGNBQWMsSUFBSXBCLHVEQUEwQixDQUFDO1FBQUVlLE9BQU87UUFBVUMsV0FBVztRQUFNQyxXQUFXO0lBQUk7SUFDdEcsTUFBTUksZ0JBQWdCLElBQUlyQixvREFBdUIsQ0FBQztRQUNoRGUsT0FBT1QsUUFBUUcsS0FBSztRQUNwQmMsYUFBYTtRQUNiQyxTQUFTO1FBQ1RDLFVBQVV6QixtREFBc0I7SUFDbEM7SUFFQSxNQUFNMkIsZUFBZSxJQUFJM0IsbURBQXNCLENBQUMsTUFBTSxNQUFNLEtBQUssSUFBSSxHQUFHO0lBQ3hFLE1BQU02QixlQUFlLElBQUk3QiwrQ0FBa0IsQ0FBQyxNQUFNLEtBQUssSUFBSTtJQUMzRCxNQUFNK0IsY0FBYyxJQUFJL0IsOENBQWlCLENBQUMsTUFBTSxLQUFLO0lBQ3JELE1BQU1pQyxnQkFBZ0IsSUFBSWpDLCtDQUFrQixDQUFDLE1BQU0sS0FBSyxJQUFJO0lBQzVELE1BQU1rQyxnQkFBZ0IsSUFBSWxDLG1EQUFzQixDQUFDLE1B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LFlBQVlQLElBQUk7WUFDN0JPLFlBQVloRSxLQUFLLENBQUNxRixRQUFRLENBQUNJLE9BQU87WUFDbEN4RCxhQUFheUQsTUFBTSxDQUFDM0I7UUFDdEI7SUFDRjtJQUVBLFNBQVMwQjtRQUNQLHFGQUFxRjtRQUNyRixLQUFLLE1BQU0sR0FBR3pCLFlBQVksSUFBSS9CLGFBQWM7WUFDMUNoQyxNQUFNdUYsTUFBTSxDQUFDeEIsWUFBWVAsSUFBSTtZQUM3Qk8sWUFBWWhFLEtBQUssQ0FBQ3FGLFFBQVEsQ0FBQ0ksT0FBTztRQUNwQztRQUNBeEQsYUFBYTBELEtBQUs7UUFDbEIvRixNQUFNNEYsTUFBTSxDQUFDdkY7UUFDYmlCLGFBQWF1RSxPQUFPO1FBQ3BCckUsYUFBYXFFLE9BQU87UUFDcEJuRSxZQUFZbUUsT0FBTztRQUNuQmpFLGNBQWNpRSxPQUFPO1FBQ3JCaEUsY0FBY2dFLE9BQU87UUFDckJyRixhQUFhcUYsT0FBTztRQUNwQjlFLFlBQVk4RSxPQUFPO1FBQ25CN0UsY0FBYzZFLE9BQU87UUFDckIvRCxjQUFjK0QsT0FBTztRQUNyQjdELGNBQWM2RCxPQUFPO0lBQ3ZCO0lBRUEsT0FBTztRQUFFL0I7UUFBUStCO1FBQVN4RjtJQUFNO0FBQ2xDIiwic291cmNlcyI6WyIvYXBwL3NyYy93ZWFwb25zL3Zpc3VhbHMvaG9taW5nTWlzc2lsZVZpc3VhbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSdcbmltcG9ydCB0eXBlIHsgSG9taW5nTWlzc2lsZVN0YXRlIH0gZnJvbSAnQC93ZWFwb25zL2hvbWluZ01pc3NpbGUnXG5cbmV4cG9ydCB0eXBlIE1pc3NpbGVQYWxldHRlID0ge1xuICBib2R5OiBudW1iZXJcbiAgZW1pc3NpdmU6IG51bWJlclxuICB0cmFpbDogbnVtYmVyXG59XG5cbmNvbnN0IEJBU0VfRk9SV0FSRCA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDEpXG5jb25zdCBUTVBfRk9SV0FSRCA9IG5ldyBUSFJFRS5WZWN0b3IzKClcblxuZXhwb3J0IHR5cGUgSG9taW5nTWlzc2lsZVZpc3VhbCA9IHtcbiAgdXBkYXRlOiAobWlzc2lsZXM6IFZpc3VhbE1pc3NpbGVTdGF0ZVtdKSA9PiB2b2lkXG4gIGRpc3Bvc2U6ICgpID0+IHZvaWRcbiAgcmVhZG9ubHkgZ3JvdXA6IFRIUkVFLkdyb3VwXG59XG5cbnR5cGUgTWlzc2lsZVJlbmRlclN0YXRlID0ge1xuICBtZXNoOiBUSFJFRS5Hcm91cFxuICB0cmFpbDogVEhSRUUuTGluZVxuICBmbGFtZTogVEhSRUUuTWVzaFxuICBzbW9rZTogVEhSRUUuTWVzaFxufVxuXG50eXBlIFZpc3VhbE1pc3NpbGVTdGF0ZSA9IEhvbWluZ01pc3NpbGVTdGF0ZSAmIHtcbiAgc3RhZ2U/OiAnZWplY3RpbmcnIHwgJ2J1cm5pbmcnXG4gIHN0YWdlTXM/OiBudW1iZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhvbWluZ01pc3NpbGVWaXN1YWwoc2NlbmU6IFRIUkVFLlNjZW5lLCBwYWxldHRlOiBNaXNzaWxlUGFsZXR0ZSA9IHtcbiAgYm9keTogMHhkMzZmMzksXG4gIGVtaXNzaXZlOiAweGZmNmIyZixcbiAgdHJhaWw6IDB4ZmZjNDhhLFxufSk6IEhvbWluZ01pc3NpbGVWaXN1YWwge1xuICBjb25zdCBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpXG4gIHNjZW5lLmFkZChncm91cClcblxuICBjb25zdCBib2R5TWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiBwYWxldHRlLmJvZHksXG4gICAgbWV0YWxuZXNzOiAwLjM1LFxuICAgIHJvdWdobmVzczogMC40LFxuICAgIGVtaXNzaXZlOiBuZXcgVEhSRUUuQ29sb3IocGFsZXR0ZS5lbWlzc2l2ZSksXG4gICAgZW1pc3NpdmVJbnRlbnNpdHk6IDAuNCxcbiAgfSlcbiAgY29uc3QgZmluTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHgzMzM4NDUsIG1ldGFsbmVzczogMC4xNSwgcm91Z2huZXNzOiAwLjYgfSlcbiAgY29uc3QgdHJhaWxNYXRlcmlhbCA9IG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7XG4gICAgY29sb3I6IHBhbGV0dGUudHJhaWwsXG4gICAgdHJhbnNwYXJlbnQ6IHRydWUsXG4gICAgb3BhY2l0eTogMC41NSxcbiAgICBibGVuZGluZzogVEhSRUUuQWRkaXRpdmVCbGVuZGluZyxcbiAgfSlcblxuICBjb25zdCBib2R5R2VvbWV0cnkgPSBuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgwLjI1LCAwLjMyLCAxLjQsIDEwLCAxLCB0cnVlKVxuICBjb25zdCBub3NlR2VvbWV0cnkgPSBuZXcgVEhSRUUuQ29uZUdlb21ldHJ5KDAuMzIsIDAuNywgMTAsIDEpXG4gIGNvbnN0IGZpbkdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDAuMDUsIDAuNCwgMC4yNSlcbiAgY29uc3QgZmxhbWVHZW9tZXRyeSA9IG5ldyBUSFJFRS5Db25lR2VvbWV0cnkoMC4xOCwgMC45LCAxMiwgMSlcbiAgY29uc3Qgc21va2VHZW9tZXRyeSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDAuMDgsIDAuMjIsIDEuNCwgOCwgMSwgdHJ1ZSlcblxuICBjb25zdCBmbGFtZU1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICBjb2xvcjogcGFsZXR0ZS5lbWlzc2l2ZSxcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICBvcGFjaXR5OiAwLjksXG4gICAgYmxlbmRpbmc6IFRIUkVFLkFkZGl0aXZlQmxlbmRpbmcsXG4gIH0pXG4gIGNvbnN0IHNtb2tlTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiAweDQ0NGY2MyxcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICBvcGFjaXR5OiAwLjQ1LFxuICAgIGRlcHRoV3JpdGU6IGZhbHNlLFxuICAgIGJsZW5kaW5nOiBUSFJFRS5Ob3JtYWxCbGVuZGluZyxcbiAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlLFxuICB9KVxuXG4gIGNvbnN0IHJlbmRlclN0YXRlcyA9IG5ldyBNYXA8bnVtYmVyLCBNaXNzaWxlUmVuZGVyU3RhdGU+KClcblxuICBmdW5jdGlvbiBidWlsZE1pc3NpbGUoKTogTWlzc2lsZVJlbmRlclN0YXRlIHtcbiAgICAvLzEuLSBDb25zdHJ1Y3QgYSByZXVzYWJsZSBtaXNzaWxlIHJpZyBzbyBwb29sZWQgcHJvamVjdGlsZXMgc2hhcmUgR1BVIGJ1ZmZlcnMuXG4gICAgY29uc3QgbWlzc2lsZUdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKClcblxuICAgIGNvbnN0IGJvZHkgPSBuZXcgVEhSRUUuTWVzaChib2R5R2VvbWV0cnksIGJvZHlNYXRlcmlhbClcbiAgICBib2R5LnJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMlxuICAgIG1pc3NpbGVHcm91cC5hZGQoYm9keSlcblxuICAgIGNvbnN0IG5vc2UgPSBuZXcgVEhSRUUuTWVzaChub3NlR2VvbWV0cnksIGJvZHlNYXRlcmlhbClcbiAgICBub3NlLnBvc2l0aW9uLnogPSAtMVxuICAgIG1pc3NpbGVHcm91cC5hZGQobm9zZSlcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICBjb25zdCBmaW4gPSBuZXcgVEhSRUUuTWVzaChmaW5HZW9tZXRyeSwgZmluTWF0ZXJpYWwpXG4gICAgICBmaW4ucG9zaXRpb24uc2V0KDAsIE1hdGguc2luKChpICogTWF0aC5QSSkgLyAyKSAqIDAuMzUsIE1hdGguY29zKChpICogTWF0aC5QSSkgLyAyKSAqIDAuMzUpXG4gICAgICBmaW4ucm90YXRpb24ueCA9IE1hdGguUEkgLyAyXG4gICAgICBmaW4ucm90YXRpb24ueSA9IChpICogTWF0aC5QSSkgLyAyXG4gICAgICBtaXNzaWxlR3JvdXAuYWRkKGZpbilcbiAgICB9XG5cbiAgICBjb25zdCB0cmFpbEdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KClcbiAgICBjb25zdCB0cmFpbCA9IG5ldyBUSFJFRS5MaW5lKHRyYWlsR2VvbWV0cnksIHRyYWlsTWF0ZXJpYWwpXG4gICAgbWlzc2lsZUdyb3VwLmFkZCh0cmFpbClcblxuICAgIGNvbnN0IGZsYW1lID0gbmV3IFRIUkVFLk1lc2goZmxhbWVHZW9tZXRyeSwgZmxhbWVNYXRlcmlhbClcbiAgICBmbGFtZS5wb3NpdGlvbi56ID0gMC43NVxuICAgIGZsYW1lLnJvdGF0aW9uLnggPSBNYXRoLlBJXG4gICAgbWlzc2lsZUdyb3VwLmFkZChmbGFtZSlcblxuICAgIGNvbnN0IHNtb2tlID0gbmV3IFRIUkVFLk1lc2goc21va2VHZW9tZXRyeSwgc21va2VNYXRlcmlhbC5jbG9uZSgpKVxuICAgIHNtb2tlLnBvc2l0aW9uLnogPSAwLjlcbiAgICBzbW9rZS5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDJcbiAgICBtaXNzaWxlR3JvdXAuYWRkKHNtb2tlKVxuXG4gICAgZ3JvdXAuYWRkKG1pc3NpbGVHcm91cClcblxuICAgIHJldHVybiB7IG1lc2g6IG1pc3NpbGVHcm91cCwgdHJhaWwsIGZsYW1lLCBzbW9rZSB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGUobWlzc2lsZXM6IFZpc3VhbE1pc3NpbGVTdGF0ZVtdKSB7XG4gICAgY29uc3Qgc2VlbiA9IG5ldyBTZXQ8bnVtYmVyPigpXG5cbiAgICBmb3IgKGNvbnN0IG1pc3NpbGUgb2YgbWlzc2lsZXMpIHtcbiAgICAgIHNlZW4uYWRkKG1pc3NpbGUuaWQpXG4gICAgICBsZXQgcmVuZGVyU3RhdGUgPSByZW5kZXJTdGF0ZXMuZ2V0KG1pc3NpbGUuaWQpXG4gICAgICBpZiAoIXJlbmRlclN0YXRlKSB7XG4gICAgICAgIC8vMi4tIFNwYXduIGEgdmlzdWFsIHNoZWxsIHdoZW4gdGhlIHNpbXVsYXRpb24gcmVwb3J0cyBhIG5ldyBtaXNzaWxlIGluc3RhbmNlLlxuICAgICAgICByZW5kZXJTdGF0ZSA9IGJ1aWxkTWlzc2lsZSgpXG4gICAgICAgIHJlbmRlclN0YXRlcy5zZXQobWlzc2lsZS5pZCwgcmVuZGVyU3RhdGUpXG4gICAgICB9XG5cbiAgICAgIC8vMy4tIFNuYXAgdGhlIHJpZyB0byB0aGUgYXV0aG9yaXRhdGl2ZSBraW5lbWF0aWMgc3RhdGUgZ2VuZXJhdGVkIGJ5IHRoZSB3ZWFwb24gbG9naWMuXG4gICAgICByZW5kZXJTdGF0ZS5tZXNoLnBvc2l0aW9uLmNvcHkobWlzc2lsZS5wb3NpdGlvbilcblxuICAgICAgVE1QX0ZPUldBUkQuY29weShtaXNzaWxlLnZlbG9jaXR5KVxuICAgICAgaWYgKFRNUF9GT1JXQVJELmxlbmd0aFNxKCkgPCAxZS02KSB7XG4gICAgICAgIFRNUF9GT1JXQVJELnNldCgwLCAwLCAxKVxuICAgICAgfVxuICAgICAgVE1QX0ZPUldBUkQubm9ybWFsaXplKClcbiAgICAgIHJlbmRlclN0YXRlLm1lc2gucXVhdGVybmlvbi5zZXRGcm9tVW5pdFZlY3RvcnMoQkFTRV9GT1JXQVJELCBUTVBfRk9SV0FSRClcblxuICAgICAgY29uc3QgYnVybmluZyA9IG1pc3NpbGUuc3RhZ2UgPT09ICdidXJuaW5nJ1xuICAgICAgcmVuZGVyU3RhdGUuZmxhbWUudmlzaWJsZSA9IGJ1cm5pbmdcbiAgICAgIHJlbmRlclN0YXRlLnNtb2tlLnZpc2libGUgPSBidXJuaW5nXG4gICAgICBpZiAoYnVybmluZyl7XG4gICAgICAgIGNvbnN0IHN0YWdlTXMgPSBtaXNzaWxlLnN0YWdlTXMgPz8gMFxuICAgICAgICBjb25zdCBpbnRlbnNpdHkgPSBNYXRoLm1pbigxLCBzdGFnZU1zIC8gNDAwKVxuICAgICAgICByZW5kZXJTdGF0ZS5mbGFtZS5zY2FsZS5zZXRTY2FsYXIoMC43ICsgaW50ZW5zaXR5ICogMC42KVxuICAgICAgICByZW5kZXJTdGF0ZS5zbW9rZS5zY2FsZS5zZXQoMSArIGludGVuc2l0eSAqIDAuOCwgMSArIGludGVuc2l0eSAqIDAuOCwgMSlcbiAgICAgICAgY29uc3Qgc21va2VNYXQgPSByZW5kZXJTdGF0ZS5zbW9rZS5tYXRlcmlhbCBhcyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbFxuICAgICAgICBzbW9rZU1hdC5vcGFjaXR5ID0gMC4zICsgaW50ZW5zaXR5ICogMC4zXG4gICAgICB9XG5cbiAgICAgIC8vNC4tIFJlYnVpbGQgdGhlIGV4aGF1c3QgcmliYm9uIHNvIGNvbnRyYWlscyBhcHBlYXIgd2hlcmUgZ3VpZGFuY2UgaGlzdG9yeSBzYXlzIHRoZXkgd2VyZS5cbiAgICAgIGNvbnN0IHBvaW50cyA9IG1pc3NpbGUuc21va2VUcmFpbC5sZW5ndGggPiAwID8gbWlzc2lsZS5zbW9rZVRyYWlsIDogW21pc3NpbGUucG9zaXRpb25dXG4gICAgICByZW5kZXJTdGF0ZS50cmFpbC5nZW9tZXRyeS5zZXRGcm9tUG9pbnRzKHBvaW50cylcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFtpZCwgcmVuZGVyU3RhdGVdIG9mIHJlbmRlclN0YXRlcykge1xuICAgICAgaWYgKHNlZW4uaGFzKGlkKSkgY29udGludWVcbiAgICAgIC8vNS4tIENsZWFuIHVwIHZpc3VhbHMgZm9yIGRldG9uYXRlZCBtaXNzaWxlcyB0byBrZWVwIHRoZSBwb29sIGxlYW4uXG4gICAgICBncm91cC5yZW1vdmUocmVuZGVyU3RhdGUubWVzaClcbiAgICAgIHJlbmRlclN0YXRlLnRyYWlsLmdlb21ldHJ5LmRpc3Bvc2UoKVxuICAgICAgcmVuZGVyU3RhdGVzLmRlbGV0ZShpZClcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIC8vNi4tIFJlbGVhc2UgcG9vbGVkIGFzc2V0cyB3aGVuIHRoZSBvd25pbmcgY29udHJvbGxlciB0ZWFycyBkb3duIHRoZSB3ZWFwb24gc3lzdGVtcy5cbiAgICBmb3IgKGNvbnN0IFssIHJlbmRlclN0YXRlXSBvZiByZW5kZXJTdGF0ZXMpIHtcbiAgICAgIGdyb3VwLnJlbW92ZShyZW5kZXJTdGF0ZS5tZXNoKVxuICAgICAgcmVuZGVyU3RhdGUudHJhaWwuZ2VvbWV0cnkuZGlzcG9zZSgpXG4gICAgfVxuICAgIHJlbmRlclN0YXRlcy5jbGVhcigpXG4gICAgc2NlbmUucmVtb3ZlKGdyb3VwKVxuICAgIGJvZHlHZW9tZXRyeS5kaXNwb3NlKClcbiAgICBub3NlR2VvbWV0cnkuZGlzcG9zZSgpXG4gICAgZmluR2VvbWV0cnkuZGlzcG9zZSgpXG4gICAgZmxhbWVHZW9tZXRyeS5kaXNwb3NlKClcbiAgICBzbW9rZUdlb21ldHJ5LmRpc3Bvc2UoKVxuICAgIGJvZHlNYXRlcmlhbC5kaXNwb3NlKClcbiAgICBmaW5NYXRlcmlhbC5kaXNwb3NlKClcbiAgICB0cmFpbE1hdGVyaWFsLmRpc3Bvc2UoKVxuICAgIGZsYW1lTWF0ZXJpYWwuZGlzcG9zZSgpXG4gICAgc21va2VNYXRlcmlhbC5kaXNwb3NlKClcbiAgfVxuXG4gIHJldHVybiB7IHVwZGF0ZSwgZGlzcG9zZSwgZ3JvdXAgfVxufVxuIl0sIm5hbWVzIjpbIlRIUkVFIiwiQkFTRV9GT1JXQVJEIiwiVmVjdG9yMyIsIlRNUF9GT1JXQVJEIiwiY3JlYXRlSG9taW5nTWlzc2lsZVZpc3VhbCIsInNjZW5lIiwicGFsZXR0ZSIsImJvZHkiLCJlbWlzc2l2ZSIsInRyYWlsIiwiZ3JvdXAiLCJHcm91cCIsImFkZCIsImJvZHlNYXRlcmlhbCIsIk1lc2hTdGFuZGFyZE1hdGVyaWFsIiwiY29sb3IiLCJtZXRhbG5lc3MiLCJyb3VnaG5lc3MiLCJDb2xvciIsImVtaXNzaXZlSW50ZW5zaXR5IiwiZmluTWF0ZXJpYWwiLCJ0cmFpbE1hdGVyaWFsIiwiTGluZUJhc2ljTWF0ZXJpYWwiLCJ0cmFuc3BhcmVudCIsIm9wYWNpdHkiLCJibGVuZGluZyIsIkFkZGl0aXZlQmxlbmRpbmciLCJib2R5R2VvbWV0cnkiLCJDeWxpbmRlckdlb21ldHJ5Iiwibm9zZUdlb21ldHJ5IiwiQ29uZUdlb21ldHJ5IiwiZmluR2VvbWV0cnkiLCJCb3hHZW9tZXRyeSIsImZsYW1lR2VvbWV0cnkiLCJzbW9rZUdlb21ldHJ5IiwiZmxhbWVNYXRlcmlhbCIsIk1lc2hCYXNpY01hdGVyaWFsIiwic21va2VNYXRlcmlhbCIsImRlcHRoV3JpdGUiLCJOb3JtYWxCbGVuZGluZyIsInNpZGUiLCJEb3VibGVTaWRlIiwicmVuZGVyU3RhdGVzIiwiTWFwIiwiYnVpbGRNaXNzaWxlIiwibWlzc2lsZUdyb3VwIiwiTWVzaCIsInJvdGF0aW9uIiwieCIsIk1hdGgiLCJQSSIsIm5vc2UiLCJwb3NpdGlvbiIsInoiLCJpIiwiZmluIiwic2V0Iiwic2luIiwiY29zIiwieSIsInRyYWlsR2VvbWV0cnkiLCJCdWZmZXJHZW9tZXRyeSIsIkxpbmUiLCJmbGFtZSIsInNtb2tlIiwiY2xvbmUiLCJtZXNoIiwidXBkYXRlIiwibWlzc2lsZXMiLCJzZWVuIiwiU2V0IiwibWlzc2lsZSIsImlkIiwicmVuZGVyU3RhdGUiLCJnZXQiLCJjb3B5IiwidmVsb2NpdHkiLCJsZW5ndGhTcSIsIm5vcm1hbGl6ZSIsInF1YXRlcm5pb24iLCJzZXRGcm9tVW5pdFZlY3RvcnMiLCJidXJuaW5nIiwic3RhZ2UiLCJ2aXNpYmxlIiwic3RhZ2VNcyIsImludGVuc2l0eSIsIm1pbiIsInNjYWxlIiwic2V0U2NhbGFyIiwic21va2VNYXQiLCJtYXRlcmlhbCIsInBvaW50cyIsInNtb2tlVHJhaWwiLCJsZW5ndGgiLCJnZW9tZXRyeSIsInNldEZyb21Qb2ludHMiLCJoYXMiLCJyZW1vdmUiLCJkaXNwb3NlIiwiZGVsZXRlIiwiY2xlYXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/weapons/visuals/homingMissileVisual.ts\n"));

/***/ })

});