"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/gameplay/page",{

/***/ "(app-pages-browser)/./src/enemies/stellated-octahedron/behavior.ts":
/*!******************************************************!*\
  !*** ./src/enemies/stellated-octahedron/behavior.ts ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createEnemy: () => (/* binding */ createEnemy),\n/* harmony export */   updateEnemies: () => (/* binding */ updateEnemies)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_utils_BufferGeometryUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/utils/BufferGeometryUtils.js */ \"(app-pages-browser)/./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js\");\n/* harmony import */ var _engine_difficulty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/engine/difficulty */ \"(app-pages-browser)/./src/engine/difficulty.ts\");\n\n\n\nfunction disposeMeshLike(object) {\n    //1.- Traverse any composed mesh tree and release GPU buffers and materials.\n    const disposedMaterials = new Set();\n    object.traverse((child)=>{\n        if (!(child instanceof three__WEBPACK_IMPORTED_MODULE_1__.Mesh)) return;\n        child.geometry.dispose();\n        const material = child.material;\n        if (Array.isArray(material)) {\n            for (const mat of material){\n                if (!disposedMaterials.has(mat)) {\n                    var _mat_dispose;\n                    (_mat_dispose = mat.dispose) === null || _mat_dispose === void 0 ? void 0 : _mat_dispose.call(mat);\n                    disposedMaterials.add(mat);\n                }\n            }\n        } else if (!disposedMaterials.has(material)) {\n            var _material_dispose;\n            (_material_dispose = material.dispose) === null || _material_dispose === void 0 ? void 0 : _material_dispose.call(material);\n            disposedMaterials.add(material);\n        }\n    });\n}\nfunction buildStellatedOctahedron() {\n    let size = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 6;\n    //1.- Generate two tetrahedron geometries and mirror one to reproduce the stellated octahedron shell.\n    const primary = new three__WEBPACK_IMPORTED_MODULE_1__.TetrahedronGeometry(size, 0);\n    const mirrored = primary.clone();\n    mirrored.rotateX(Math.PI);\n    mirrored.rotateZ(Math.PI / 2);\n    //2.- Merge both buffer geometries using the supported helper to avoid the removed Geometry.merge API.\n    const merged = (0,three_examples_jsm_utils_BufferGeometryUtils_js__WEBPACK_IMPORTED_MODULE_2__.mergeGeometries)([\n        primary,\n        mirrored\n    ], false);\n    if (!merged) throw new Error('Failed to merge stellated octahedron geometry');\n    //3.- Dispose the temporary parts and craft the final mesh that callers expect.\n    primary.dispose();\n    mirrored.dispose();\n    return new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(merged, new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n        color: 0xff5533,\n        metalness: 0.2,\n        roughness: 0.6,\n        emissive: 0x220000\n    }));\n}\nfunction createEnemy(scene, position) {\n    let options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n    var _scene;\n    //1.- Materialise the mesh, position it, and append it to the active scene graph.\n    const mesh = buildStellatedOctahedron(5);\n    mesh.position.copy(position);\n    scene.add(mesh);\n    const vel = new three__WEBPACK_IMPORTED_MODULE_1__.Vector3();\n    const dir = new three__WEBPACK_IMPORTED_MODULE_1__.Vector3();\n    var _options_difficulty;\n    const difficulty = (_options_difficulty = options.difficulty) !== null && _options_difficulty !== void 0 ? _options_difficulty : (0,_engine_difficulty__WEBPACK_IMPORTED_MODULE_0__.getDifficultyState)();\n    const hpBase = 40 * difficulty.enemyHpMultiplier;\n    const acceleration = 18 + difficulty.enemyDpsMultiplier * 6 + (options.variant === 'strafer' ? 4 : 0);\n    const maxSpeed = 36 + difficulty.enemyDpsMultiplier * 8 + (options.variant === 'strafer' ? 10 : 0);\n    const obj = {\n        mesh,\n        hp: hpBase,\n        difficulty,\n        target: undefined,\n        update (dt) {\n            if (this.target) {\n                dir.copy(this.target.position).sub(mesh.position);\n                const distance = dir.length() || 1;\n                dir.normalize();\n                const aimAssist = three__WEBPACK_IMPORTED_MODULE_1__.MathUtils.lerp(0.6, 1, difficulty.enemyAccuracy);\n                vel.addScaledVector(dir, acceleration * aimAssist * dt);\n                (0,_engine_difficulty__WEBPACK_IMPORTED_MODULE_0__.applyEnvironmentVectorAttenuation)(vel);\n                const clamped = Math.min(maxSpeed, maxSpeed * (distance > 180 ? 1.1 : 1));\n                vel.clampLength(0, clamped);\n                mesh.position.addScaledVector(vel, dt);\n                mesh.lookAt(this.target.position);\n            }\n        },\n        onDeath () {\n            scene.remove(mesh);\n            disposeMeshLike(mesh);\n        }\n    };\n    var ___enemies;\n    (___enemies = (_scene = scene).__enemies) !== null && ___enemies !== void 0 ? ___enemies : _scene.__enemies = [];\n    scene.__enemies.push(obj);\n    return obj;\n}\nfunction updateEnemies(scene, dt, difficulty) {\n    //1.- Advance each tracked enemy AI using the shared scene registry.\n    const arr = scene.__enemies;\n    if (!arr) return;\n    for (const e of arr){\n        e.difficulty = difficulty;\n        e.update(dt);\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9lbmVtaWVzL3N0ZWxsYXRlZC1vY3RhaGVkcm9uL2JlaGF2aW9yLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQThCO0FBQ21EO0FBQ1U7QUFTM0YsU0FBU0ksZ0JBQWdCQyxNQUFzQjtJQUM3Qyw0RUFBNEU7SUFDNUUsTUFBTUMsb0JBQW9CLElBQUlDO0lBQzlCRixPQUFPRyxRQUFRLENBQUMsQ0FBQ0M7UUFDZixJQUFJLENBQUVBLENBQUFBLGlCQUFpQlQsdUNBQVUsR0FBRztRQUNwQ1MsTUFBTUUsUUFBUSxDQUFDQyxPQUFPO1FBQ3RCLE1BQU1DLFdBQVdKLE1BQU1JLFFBQVE7UUFDL0IsSUFBSUMsTUFBTUMsT0FBTyxDQUFDRixXQUFXO1lBQzNCLEtBQUssTUFBTUcsT0FBT0gsU0FBUztnQkFDekIsSUFBSSxDQUFDUCxrQkFBa0JXLEdBQUcsQ0FBQ0QsTUFBSzt3QkFDOUJBO3FCQUFBQSxlQUFBQSxJQUFJSixPQUFPLGNBQVhJLG1DQUFBQSxrQkFBQUE7b0JBQ0FWLGtCQUFrQlksR0FBRyxDQUFDRjtnQkFDeEI7WUFDRjtRQUNGLE9BQU8sSUFBSSxDQUFDVixrQkFBa0JXLEdBQUcsQ0FBQ0osV0FBVztnQkFDM0NBO2FBQUFBLG9CQUFBQSxTQUFTRCxPQUFPLGNBQWhCQyx3Q0FBQUEsdUJBQUFBO1lBQ0FQLGtCQUFrQlksR0FBRyxDQUFDTDtRQUN4QjtJQUNGO0FBQ0Y7QUFFQSxTQUFTTTtRQUF5QkMsT0FBQUEsaUVBQUs7SUFDckMscUdBQXFHO0lBQ3JHLE1BQU1DLFVBQVUsSUFBSXJCLHNEQUF5QixDQUFDb0IsTUFBTTtJQUNwRCxNQUFNRyxXQUFXRixRQUFRRyxLQUFLO0lBQzlCRCxTQUFTRSxPQUFPLENBQUNDLEtBQUtDLEVBQUU7SUFDeEJKLFNBQVNLLE9BQU8sQ0FBQ0YsS0FBS0MsRUFBRSxHQUFHO0lBRTNCLHNHQUFzRztJQUN0RyxNQUFNRSxTQUFTNUIsZ0dBQWVBLENBQUM7UUFBQ29CO1FBQVNFO0tBQVMsRUFBRTtJQUNwRCxJQUFJLENBQUNNLFFBQVEsTUFBTSxJQUFJQyxNQUFNO0lBRTdCLCtFQUErRTtJQUMvRVQsUUFBUVQsT0FBTztJQUNmVyxTQUFTWCxPQUFPO0lBQ2hCLE9BQU8sSUFBSVosdUNBQVUsQ0FBQzZCLFFBQVEsSUFBSTdCLHVEQUEwQixDQUFDO1FBQUVnQyxPQUFPO1FBQVVDLFdBQVc7UUFBS0MsV0FBVztRQUFLQyxVQUFVO0lBQVM7QUFDckk7QUFFTyxTQUFTQyxZQUFZQyxLQUFrQixFQUFFQyxRQUF1QjtRQUFFQyxVQUFBQSxpRUFBd0IsQ0FBQztRQW9DOUZGO0lBbkNGLGlGQUFpRjtJQUNqRixNQUFNRyxPQUFPckIseUJBQXlCO0lBQ3RDcUIsS0FBS0YsUUFBUSxDQUFDRyxJQUFJLENBQUNIO0lBQ25CRCxNQUFNbkIsR0FBRyxDQUFDc0I7SUFDVixNQUFNRSxNQUFNLElBQUkxQywwQ0FBYTtJQUM3QixNQUFNNEMsTUFBTSxJQUFJNUMsMENBQWE7UUFDVnVDO0lBQW5CLE1BQU1NLGFBQWFOLENBQUFBLHNCQUFBQSxRQUFRTSxVQUFVLGNBQWxCTixpQ0FBQUEsc0JBQXNCcEMsc0VBQWtCQTtJQUMzRCxNQUFNMkMsU0FBUyxLQUFLRCxXQUFXRSxpQkFBaUI7SUFDaEQsTUFBTUMsZUFBZSxLQUFLSCxXQUFXSSxrQkFBa0IsR0FBRyxJQUFLVixDQUFBQSxRQUFRVyxPQUFPLEtBQUssWUFBWSxJQUFJO0lBQ25HLE1BQU1DLFdBQVcsS0FBS04sV0FBV0ksa0JBQWtCLEdBQUcsSUFBS1YsQ0FBQUEsUUFBUVcsT0FBTyxLQUFLLFlBQVksS0FBSztJQUNoRyxNQUFNRSxNQUFNO1FBQ1ZaO1FBQ0FhLElBQUlQO1FBQ0pEO1FBQ0FTLFFBQVFDO1FBQ1JDLFFBQU9DLEVBQVM7WUFDZCxJQUFJLElBQUksQ0FBQ0gsTUFBTSxFQUFDO2dCQUNkVixJQUFJSCxJQUFJLENBQUMsSUFBSSxDQUFDYSxNQUFNLENBQUNoQixRQUFRLEVBQUVvQixHQUFHLENBQUNsQixLQUFLRixRQUFRO2dCQUNoRCxNQUFNcUIsV0FBV2YsSUFBSWdCLE1BQU0sTUFBTTtnQkFDakNoQixJQUFJaUIsU0FBUztnQkFDYixNQUFNQyxZQUFZOUQsNENBQWUsQ0FBQ2dFLElBQUksQ0FBQyxLQUFLLEdBQUduQixXQUFXb0IsYUFBYTtnQkFDdkV2QixJQUFJd0IsZUFBZSxDQUFDdEIsS0FBS0ksZUFBZWMsWUFBWUw7Z0JBQ3BEdkQscUZBQWlDQSxDQUFDd0M7Z0JBQ2xDLE1BQU15QixVQUFVekMsS0FBSzBDLEdBQUcsQ0FBQ2pCLFVBQVVBLFdBQVlRLENBQUFBLFdBQVcsTUFBTSxNQUFNO2dCQUN0RWpCLElBQUkyQixXQUFXLENBQUMsR0FBR0Y7Z0JBQ25CM0IsS0FBS0YsUUFBUSxDQUFDNEIsZUFBZSxDQUFDeEIsS0FBS2U7Z0JBQ25DakIsS0FBSzhCLE1BQU0sQ0FBQyxJQUFJLENBQUNoQixNQUFNLENBQUNoQixRQUFRO1lBQ2xDO1FBQ0Y7UUFDQWlDO1lBQ0VsQyxNQUFNbUMsTUFBTSxDQUFDaEM7WUFDYnBDLGdCQUFnQm9DO1FBQ2xCO0lBQ0Y7O0lBRUMsZUFBQ0gsU0FBQUEsT0FBY29DLDREQUFkcEMsT0FBY29DLFlBQWMsRUFBRTtJQUM5QnBDLE1BQWNvQyxTQUFTLENBQUNDLElBQUksQ0FBQ3RCO0lBQy9CLE9BQU9BO0FBQ1Q7QUFFTyxTQUFTdUIsY0FBY3RDLEtBQWtCLEVBQUVvQixFQUFTLEVBQUVaLFVBQWtDO0lBQzdGLG9FQUFvRTtJQUNwRSxNQUFNK0IsTUFBTSxNQUFlSCxTQUFTO0lBQ3BDLElBQUksQ0FBQ0csS0FBSztJQUNWLEtBQUssTUFBTUMsS0FBS0QsSUFBSztRQUNuQkMsRUFBRWhDLFVBQVUsR0FBR0E7UUFDZmdDLEVBQUVyQixNQUFNLENBQUNDO0lBQ1g7QUFDRiIsInNvdXJjZXMiOlsiL2FwcC9zcmMvZW5lbWllcy9zdGVsbGF0ZWQtb2N0YWhlZHJvbi9iZWhhdmlvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IG1lcmdlR2VvbWV0cmllcyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS91dGlscy9CdWZmZXJHZW9tZXRyeVV0aWxzLmpzJ1xuaW1wb3J0IHsgYXBwbHlFbnZpcm9ubWVudFZlY3RvckF0dGVudWF0aW9uLCBnZXREaWZmaWN1bHR5U3RhdGUgfSBmcm9tICdAL2VuZ2luZS9kaWZmaWN1bHR5J1xuXG5leHBvcnQgdHlwZSBFbmVteURpZmZpY3VsdHlDb250ZXh0ID0gUmV0dXJuVHlwZTx0eXBlb2YgZ2V0RGlmZmljdWx0eVN0YXRlPlxuXG5leHBvcnQgdHlwZSBFbmVteU9wdGlvbnMgPSB7XG4gIGRpZmZpY3VsdHk/OiBFbmVteURpZmZpY3VsdHlDb250ZXh0XG4gIHZhcmlhbnQ/OiAncHVyc3VlcicgfCAnc3RyYWZlcicgfCAnc2VudHJ5J1xufVxuXG5mdW5jdGlvbiBkaXNwb3NlTWVzaExpa2Uob2JqZWN0OiBUSFJFRS5PYmplY3QzRCl7XG4gIC8vMS4tIFRyYXZlcnNlIGFueSBjb21wb3NlZCBtZXNoIHRyZWUgYW5kIHJlbGVhc2UgR1BVIGJ1ZmZlcnMgYW5kIG1hdGVyaWFscy5cbiAgY29uc3QgZGlzcG9zZWRNYXRlcmlhbHMgPSBuZXcgU2V0PFRIUkVFLk1hdGVyaWFsPigpXG4gIG9iamVjdC50cmF2ZXJzZSgoY2hpbGQpID0+IHtcbiAgICBpZiAoIShjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpKSByZXR1cm5cbiAgICBjaGlsZC5nZW9tZXRyeS5kaXNwb3NlKClcbiAgICBjb25zdCBtYXRlcmlhbCA9IGNoaWxkLm1hdGVyaWFsXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobWF0ZXJpYWwpKSB7XG4gICAgICBmb3IgKGNvbnN0IG1hdCBvZiBtYXRlcmlhbCl7XG4gICAgICAgIGlmICghZGlzcG9zZWRNYXRlcmlhbHMuaGFzKG1hdCkpe1xuICAgICAgICAgIG1hdC5kaXNwb3NlPy4oKVxuICAgICAgICAgIGRpc3Bvc2VkTWF0ZXJpYWxzLmFkZChtYXQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFkaXNwb3NlZE1hdGVyaWFscy5oYXMobWF0ZXJpYWwpKSB7XG4gICAgICBtYXRlcmlhbC5kaXNwb3NlPy4oKVxuICAgICAgZGlzcG9zZWRNYXRlcmlhbHMuYWRkKG1hdGVyaWFsKVxuICAgIH1cbiAgfSlcbn1cblxuZnVuY3Rpb24gYnVpbGRTdGVsbGF0ZWRPY3RhaGVkcm9uKHNpemU9Nil7XG4gIC8vMS4tIEdlbmVyYXRlIHR3byB0ZXRyYWhlZHJvbiBnZW9tZXRyaWVzIGFuZCBtaXJyb3Igb25lIHRvIHJlcHJvZHVjZSB0aGUgc3RlbGxhdGVkIG9jdGFoZWRyb24gc2hlbGwuXG4gIGNvbnN0IHByaW1hcnkgPSBuZXcgVEhSRUUuVGV0cmFoZWRyb25HZW9tZXRyeShzaXplLCAwKVxuICBjb25zdCBtaXJyb3JlZCA9IHByaW1hcnkuY2xvbmUoKVxuICBtaXJyb3JlZC5yb3RhdGVYKE1hdGguUEkpXG4gIG1pcnJvcmVkLnJvdGF0ZVooTWF0aC5QSSAvIDIpXG5cbiAgLy8yLi0gTWVyZ2UgYm90aCBidWZmZXIgZ2VvbWV0cmllcyB1c2luZyB0aGUgc3VwcG9ydGVkIGhlbHBlciB0byBhdm9pZCB0aGUgcmVtb3ZlZCBHZW9tZXRyeS5tZXJnZSBBUEkuXG4gIGNvbnN0IG1lcmdlZCA9IG1lcmdlR2VvbWV0cmllcyhbcHJpbWFyeSwgbWlycm9yZWRdLCBmYWxzZSlcbiAgaWYgKCFtZXJnZWQpIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIG1lcmdlIHN0ZWxsYXRlZCBvY3RhaGVkcm9uIGdlb21ldHJ5JylcblxuICAvLzMuLSBEaXNwb3NlIHRoZSB0ZW1wb3JhcnkgcGFydHMgYW5kIGNyYWZ0IHRoZSBmaW5hbCBtZXNoIHRoYXQgY2FsbGVycyBleHBlY3QuXG4gIHByaW1hcnkuZGlzcG9zZSgpXG4gIG1pcnJvcmVkLmRpc3Bvc2UoKVxuICByZXR1cm4gbmV3IFRIUkVFLk1lc2gobWVyZ2VkLCBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhmZjU1MzMsIG1ldGFsbmVzczogMC4yLCByb3VnaG5lc3M6IDAuNiwgZW1pc3NpdmU6IDB4MjIwMDAwIH0pKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW5lbXkoc2NlbmU6IFRIUkVFLlNjZW5lLCBwb3NpdGlvbjogVEhSRUUuVmVjdG9yMywgb3B0aW9uczogRW5lbXlPcHRpb25zID0ge30pe1xuICAvLzEuLSBNYXRlcmlhbGlzZSB0aGUgbWVzaCwgcG9zaXRpb24gaXQsIGFuZCBhcHBlbmQgaXQgdG8gdGhlIGFjdGl2ZSBzY2VuZSBncmFwaC5cbiAgY29uc3QgbWVzaCA9IGJ1aWxkU3RlbGxhdGVkT2N0YWhlZHJvbig1KVxuICBtZXNoLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pXG4gIHNjZW5lLmFkZChtZXNoKVxuICBjb25zdCB2ZWwgPSBuZXcgVEhSRUUuVmVjdG9yMygpXG4gIGNvbnN0IGRpciA9IG5ldyBUSFJFRS5WZWN0b3IzKClcbiAgY29uc3QgZGlmZmljdWx0eSA9IG9wdGlvbnMuZGlmZmljdWx0eSA/PyBnZXREaWZmaWN1bHR5U3RhdGUoKVxuICBjb25zdCBocEJhc2UgPSA0MCAqIGRpZmZpY3VsdHkuZW5lbXlIcE11bHRpcGxpZXJcbiAgY29uc3QgYWNjZWxlcmF0aW9uID0gMTggKyBkaWZmaWN1bHR5LmVuZW15RHBzTXVsdGlwbGllciAqIDYgKyAob3B0aW9ucy52YXJpYW50ID09PSAnc3RyYWZlcicgPyA0IDogMClcbiAgY29uc3QgbWF4U3BlZWQgPSAzNiArIGRpZmZpY3VsdHkuZW5lbXlEcHNNdWx0aXBsaWVyICogOCArIChvcHRpb25zLnZhcmlhbnQgPT09ICdzdHJhZmVyJyA/IDEwIDogMClcbiAgY29uc3Qgb2JqID0ge1xuICAgIG1lc2gsXG4gICAgaHA6IGhwQmFzZSxcbiAgICBkaWZmaWN1bHR5LFxuICAgIHRhcmdldDogdW5kZWZpbmVkIGFzIFRIUkVFLk9iamVjdDNEIHwgdW5kZWZpbmVkLFxuICAgIHVwZGF0ZShkdDpudW1iZXIpe1xuICAgICAgaWYgKHRoaXMudGFyZ2V0KXtcbiAgICAgICAgZGlyLmNvcHkodGhpcy50YXJnZXQucG9zaXRpb24pLnN1YihtZXNoLnBvc2l0aW9uKVxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGRpci5sZW5ndGgoKSB8fCAxXG4gICAgICAgIGRpci5ub3JtYWxpemUoKVxuICAgICAgICBjb25zdCBhaW1Bc3Npc3QgPSBUSFJFRS5NYXRoVXRpbHMubGVycCgwLjYsIDEsIGRpZmZpY3VsdHkuZW5lbXlBY2N1cmFjeSlcbiAgICAgICAgdmVsLmFkZFNjYWxlZFZlY3RvcihkaXIsIGFjY2VsZXJhdGlvbiAqIGFpbUFzc2lzdCAqIGR0KVxuICAgICAgICBhcHBseUVudmlyb25tZW50VmVjdG9yQXR0ZW51YXRpb24odmVsKVxuICAgICAgICBjb25zdCBjbGFtcGVkID0gTWF0aC5taW4obWF4U3BlZWQsIG1heFNwZWVkICogKGRpc3RhbmNlID4gMTgwID8gMS4xIDogMSkpXG4gICAgICAgIHZlbC5jbGFtcExlbmd0aCgwLCBjbGFtcGVkKVxuICAgICAgICBtZXNoLnBvc2l0aW9uLmFkZFNjYWxlZFZlY3Rvcih2ZWwsIGR0KVxuICAgICAgICBtZXNoLmxvb2tBdCh0aGlzLnRhcmdldC5wb3NpdGlvbilcbiAgICAgIH1cbiAgICB9LFxuICAgIG9uRGVhdGgoKXtcbiAgICAgIHNjZW5lLnJlbW92ZShtZXNoKVxuICAgICAgZGlzcG9zZU1lc2hMaWtlKG1lc2gpXG4gICAgfVxuICB9XG4gIC8vMi4tIFRyYWNrIHRoZSBlbmVteSBzbyB0aGUgd2F2ZSBtYW5hZ2VyIGNhbiBpdGVyYXRlIGFuZCB1cGRhdGUgcGVyIGZyYW1lLlxuICA7KHNjZW5lIGFzIGFueSkuX19lbmVtaWVzID8/PSBbXVxuICA7KHNjZW5lIGFzIGFueSkuX19lbmVtaWVzLnB1c2gob2JqKVxuICByZXR1cm4gb2JqXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVFbmVtaWVzKHNjZW5lOiBUSFJFRS5TY2VuZSwgZHQ6bnVtYmVyLCBkaWZmaWN1bHR5OiBFbmVteURpZmZpY3VsdHlDb250ZXh0KXtcbiAgLy8xLi0gQWR2YW5jZSBlYWNoIHRyYWNrZWQgZW5lbXkgQUkgdXNpbmcgdGhlIHNoYXJlZCBzY2VuZSByZWdpc3RyeS5cbiAgY29uc3QgYXJyID0gKHNjZW5lIGFzIGFueSkuX19lbmVtaWVzIGFzIGFueVtdIHwgdW5kZWZpbmVkXG4gIGlmICghYXJyKSByZXR1cm5cbiAgZm9yIChjb25zdCBlIG9mIGFycikge1xuICAgIGUuZGlmZmljdWx0eSA9IGRpZmZpY3VsdHlcbiAgICBlLnVwZGF0ZShkdClcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlRIUkVFIiwibWVyZ2VHZW9tZXRyaWVzIiwiYXBwbHlFbnZpcm9ubWVudFZlY3RvckF0dGVudWF0aW9uIiwiZ2V0RGlmZmljdWx0eVN0YXRlIiwiZGlzcG9zZU1lc2hMaWtlIiwib2JqZWN0IiwiZGlzcG9zZWRNYXRlcmlhbHMiLCJTZXQiLCJ0cmF2ZXJzZSIsImNoaWxkIiwiTWVzaCIsImdlb21ldHJ5IiwiZGlzcG9zZSIsIm1hdGVyaWFsIiwiQXJyYXkiLCJpc0FycmF5IiwibWF0IiwiaGFzIiwiYWRkIiwiYnVpbGRTdGVsbGF0ZWRPY3RhaGVkcm9uIiwic2l6ZSIsInByaW1hcnkiLCJUZXRyYWhlZHJvbkdlb21ldHJ5IiwibWlycm9yZWQiLCJjbG9uZSIsInJvdGF0ZVgiLCJNYXRoIiwiUEkiLCJyb3RhdGVaIiwibWVyZ2VkIiwiRXJyb3IiLCJNZXNoU3RhbmRhcmRNYXRlcmlhbCIsImNvbG9yIiwibWV0YWxuZXNzIiwicm91Z2huZXNzIiwiZW1pc3NpdmUiLCJjcmVhdGVFbmVteSIsInNjZW5lIiwicG9zaXRpb24iLCJvcHRpb25zIiwibWVzaCIsImNvcHkiLCJ2ZWwiLCJWZWN0b3IzIiwiZGlyIiwiZGlmZmljdWx0eSIsImhwQmFzZSIsImVuZW15SHBNdWx0aXBsaWVyIiwiYWNjZWxlcmF0aW9uIiwiZW5lbXlEcHNNdWx0aXBsaWVyIiwidmFyaWFudCIsIm1heFNwZWVkIiwib2JqIiwiaHAiLCJ0YXJnZXQiLCJ1bmRlZmluZWQiLCJ1cGRhdGUiLCJkdCIsInN1YiIsImRpc3RhbmNlIiwibGVuZ3RoIiwibm9ybWFsaXplIiwiYWltQXNzaXN0IiwiTWF0aFV0aWxzIiwibGVycCIsImVuZW15QWNjdXJhY3kiLCJhZGRTY2FsZWRWZWN0b3IiLCJjbGFtcGVkIiwibWluIiwiY2xhbXBMZW5ndGgiLCJsb29rQXQiLCJvbkRlYXRoIiwicmVtb3ZlIiwiX19lbmVtaWVzIiwicHVzaCIsInVwZGF0ZUVuZW1pZXMiLCJhcnIiLCJlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/enemies/stellated-octahedron/behavior.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/engine/bootstrap.ts":
/*!*********************************!*\
  !*** ./src/engine/bootstrap.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_SCENE_OPTS: () => (/* binding */ DEFAULT_SCENE_OPTS),\n/* harmony export */   initGame: () => (/* binding */ initGame)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _world_chunks_streamer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/world/chunks/streamer */ \"(app-pages-browser)/./src/world/chunks/streamer.ts\");\n/* harmony import */ var _camera_chaseCam__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/camera/chaseCam */ \"(app-pages-browser)/./src/camera/chaseCam.ts\");\n/* harmony import */ var _vehicles_shared_player__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/vehicles/shared/player */ \"(app-pages-browser)/./src/vehicles/shared/player.ts\");\n/* harmony import */ var _ui_inputMap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/ui/inputMap */ \"(app-pages-browser)/./src/ui/inputMap.ts\");\n/* harmony import */ var _spawn_corridor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/spawn/corridor */ \"(app-pages-browser)/./src/spawn/corridor.ts\");\n/* harmony import */ var _spawn_spawnTable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/spawn/spawnTable */ \"(app-pages-browser)/./src/spawn/spawnTable.ts\");\n/* harmony import */ var _engine_difficulty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/engine/difficulty */ \"(app-pages-browser)/./src/engine/difficulty.ts\");\n/* __next_internal_client_entry_do_not_use__ DEFAULT_SCENE_OPTS,initGame auto */ \n\n\n\n\n\n\n\nconst DEFAULT_SCENE_OPTS = {\n    fogColor: 0x0a0d12,\n    fogNear: 150,\n    fogFar: 1500,\n    ambient: 0x364a6b,\n    hemiSky: 0x8cc9ff,\n    hemiGround: 0x101418\n};\nfunction initGame(container) {\n    let opts = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : DEFAULT_SCENE_OPTS, onReady = arguments.length > 2 ? arguments[2] : void 0;\n    const scene = new three__WEBPACK_IMPORTED_MODULE_7__.Scene();\n    scene.fog = new three__WEBPACK_IMPORTED_MODULE_7__.Fog(opts.fogColor, opts.fogNear, opts.fogFar);\n    const renderer = new three__WEBPACK_IMPORTED_MODULE_7__.WebGLRenderer({\n        antialias: true\n    });\n    renderer.setPixelRatio(Math.min(devicePixelRatio, 2));\n    renderer.setSize(container.clientWidth, container.clientHeight);\n    renderer.outputColorSpace = three__WEBPACK_IMPORTED_MODULE_7__.SRGBColorSpace;\n    container.appendChild(renderer.domElement);\n    const camera = new three__WEBPACK_IMPORTED_MODULE_7__.PerspectiveCamera(70, container.clientWidth / container.clientHeight, 0.1, 5000);\n    camera.position.set(0, 20, 60);\n    // Lights\n    scene.add(new three__WEBPACK_IMPORTED_MODULE_7__.AmbientLight(opts.ambient, 0.7));\n    const hemi = new three__WEBPACK_IMPORTED_MODULE_7__.HemisphereLight(opts.hemiSky, opts.hemiGround, 0.8);\n    scene.add(hemi);\n    const sun = new three__WEBPACK_IMPORTED_MODULE_7__.DirectionalLight(0xffffff, 0.8);\n    sun.position.set(200, 300, 100);\n    scene.add(sun);\n    // Systems\n    const input = (0,_ui_inputMap__WEBPACK_IMPORTED_MODULE_3__.createInput)(container);\n    const chase = (0,_camera_chaseCam__WEBPACK_IMPORTED_MODULE_1__.createChaseCam)(camera);\n    const streamer = (0,_world_chunks_streamer__WEBPACK_IMPORTED_MODULE_0__.createStreamer)(scene);\n    // Player (Arrowhead by default)\n    const player = (0,_vehicles_shared_player__WEBPACK_IMPORTED_MODULE_2__.createPlayer)('arrowhead', scene);\n    // Spawn corridor and spawner\n    const corridor = (0,_spawn_corridor__WEBPACK_IMPORTED_MODULE_4__.createCorridor)(scene);\n    const spawner = (0,_spawn_spawnTable__WEBPACK_IMPORTED_MODULE_5__.createSpawner)(scene, player, streamer);\n    // Resize\n    const onResize = ()=>{\n        renderer.setSize(container.clientWidth, container.clientHeight);\n        camera.aspect = container.clientWidth / container.clientHeight;\n        camera.updateProjectionMatrix();\n    };\n    addEventListener('resize', onResize);\n    // Loop\n    let last = performance.now();\n    let stage = 1;\n    let score = 0;\n    let latestTick = 0;\n    let readyFired = false;\n    let difficultyState = (0,_engine_difficulty__WEBPACK_IMPORTED_MODULE_6__.getDifficultyState)();\n    const unsubscribeDifficulty = (0,_engine_difficulty__WEBPACK_IMPORTED_MODULE_6__.onDifficultyChange)((next)=>{\n        //1.- Persist the latest difficulty values so telemetry queries remain in sync with global scaling.\n        difficultyState = next;\n    });\n    function frame(now) {\n        const dt = Math.min(0.05, (now - last) / 1000);\n        last = now;\n        // Input â†’ player control\n        player.controller.update(dt, input, streamer.queryHeight);\n        // Stream world around the player\n        streamer.update(player.group.position);\n        // Spawning / encounters\n        spawner.update(dt, stage);\n        // Camera\n        chase.update(dt, player.group);\n        // Render\n        renderer.render(scene, camera);\n        if (!readyFired) {\n            onReady === null || onReady === void 0 ? void 0 : onReady();\n            readyFired = true;\n        }\n        requestAnimationFrame(frame);\n    }\n    requestAnimationFrame(frame);\n    const api = {\n        actions: {\n            cycleVehicle: player.cycleVehicle,\n            setVehicle: player.setVehicle\n        },\n        getState: ()=>({\n                speed: player.controller.speed,\n                altitude: Math.max(0, player.group.position.y - streamer.queryHeight(player.group.position.x, player.group.position.z)),\n                stage,\n                score,\n                weapon: player.controller.weaponName,\n                ammo: player.controller.ammo,\n                missiles: player.controller.missiles,\n                laserCooldown: player.controller.laserCooldownMs,\n                bombArmed: player.controller.bombArmed,\n                difficulty: difficultyState\n            }),\n        ingestWorldDiff: (diff)=>{\n            //1.- Ignore stale or unrelated payloads so the local scene only reacts to advancing authoritative ticks.\n            if (!diff || diff.type !== 'world_diff' || typeof diff.tick !== 'number' || diff.tick <= latestTick) {\n                return;\n            }\n            latestTick = diff.tick;\n            //2.- Fold HUD-centric metadata into the aggregated score and stage trackers.\n            if (Array.isArray(diff.events)) {\n                for (const event of diff.events){\n                    const metadata = event === null || event === void 0 ? void 0 : event.metadata;\n                    if (!metadata) continue;\n                    var _metadata_score_delta;\n                    const scoreDelta = Number((_metadata_score_delta = metadata.score_delta) !== null && _metadata_score_delta !== void 0 ? _metadata_score_delta : metadata.score);\n                    if (!Number.isNaN(scoreDelta)) {\n                        score += scoreDelta;\n                    }\n                    var _metadata_stage;\n                    const stageValue = Number((_metadata_stage = metadata.stage) !== null && _metadata_stage !== void 0 ? _metadata_stage : metadata.stage_index);\n                    if (!Number.isNaN(stageValue) && stageValue > 0) {\n                        if (stageValue > stage) {\n                            //1.- Treat forward stage jumps as boss clears and escalate the shared difficulty profile.\n                            difficultyState = (0,_engine_difficulty__WEBPACK_IMPORTED_MODULE_6__.applyBossDefeat)(stageValue);\n                        }\n                        stage = stageValue;\n                    }\n                }\n            }\n        },\n        sampleIntent: ()=>{\n            //3.- Translate the instantaneous input map into the broker intent schema fields.\n            const throttle = input.pressed('KeyW') ? 1 : input.pressed('KeyS') ? -1 : 0;\n            const brake = input.pressed('Space') || throttle < 0 ? 1 : 0;\n            const steer = (input.pressed('KeyD') ? 1 : 0) - (input.pressed('KeyA') ? 1 : 0);\n            const handbrake = input.pressed('KeyF') || input.pressed('KeyC');\n            const boost = input.pressed('ShiftLeft') || input.pressed('ShiftRight');\n            return {\n                throttle,\n                brake,\n                steer,\n                handbrake,\n                gear: 1,\n                boost\n            };\n        }\n    };\n    function dispose() {\n        var _streamer_dispose, _spawner_dispose;\n        removeEventListener('resize', onResize);\n        renderer.dispose();\n        container.removeChild(renderer.domElement);\n        input.dispose();\n        (_streamer_dispose = streamer.dispose) === null || _streamer_dispose === void 0 ? void 0 : _streamer_dispose.call(streamer);\n        (_spawner_dispose = spawner.dispose) === null || _spawner_dispose === void 0 ? void 0 : _spawner_dispose.call(spawner);\n        unsubscribeDifficulty === null || unsubscribeDifficulty === void 0 ? void 0 : unsubscribeDifficulty();\n    }\n    return {\n        api,\n        dispose\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9lbmdpbmUvYm9vdHN0cmFwLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7aUZBQzhCO0FBQzBCO0FBQ047QUFDSztBQUNaO0FBQ007QUFDQztBQUMyQztBQXFCdEYsTUFBTVUscUJBQXFCO0lBQ2hDQyxVQUFVO0lBQ1ZDLFNBQVM7SUFDVEMsUUFBUTtJQUNSQyxTQUFTO0lBQ1RDLFNBQVM7SUFDVEMsWUFBWTtBQUNkLEVBQUM7QUFFTSxTQUFTQyxTQUFTQyxTQUF5QjtRQUFFQyxPQUFBQSxpRUFBT1Qsb0JBQW9CVTtJQUM3RSxNQUFNQyxRQUFRLElBQUlyQix3Q0FBVztJQUM3QnFCLE1BQU1FLEdBQUcsR0FBRyxJQUFJdkIsc0NBQVMsQ0FBQ21CLEtBQUtSLFFBQVEsRUFBRVEsS0FBS1AsT0FBTyxFQUFFTyxLQUFLTixNQUFNO0lBRWxFLE1BQU1ZLFdBQVcsSUFBSXpCLGdEQUFtQixDQUFDO1FBQUUyQixXQUFXO0lBQUs7SUFDM0RGLFNBQVNHLGFBQWEsQ0FBQ0MsS0FBS0MsR0FBRyxDQUFDQyxrQkFBa0I7SUFDbEROLFNBQVNPLE9BQU8sQ0FBQ2QsVUFBVWUsV0FBVyxFQUFFZixVQUFVZ0IsWUFBWTtJQUM5RFQsU0FBU1UsZ0JBQWdCLEdBQUduQyxpREFBb0I7SUFDaERrQixVQUFVbUIsV0FBVyxDQUFDWixTQUFTYSxVQUFVO0lBRXpDLE1BQU1DLFNBQVMsSUFBSXZDLG9EQUF1QixDQUFDLElBQUlrQixVQUFVZSxXQUFXLEdBQUdmLFVBQVVnQixZQUFZLEVBQUUsS0FBSztJQUNwR0ssT0FBT0UsUUFBUSxDQUFDQyxHQUFHLENBQUMsR0FBRyxJQUFJO0lBRTNCLFNBQVM7SUFDVHJCLE1BQU1zQixHQUFHLENBQUMsSUFBSTNDLCtDQUFrQixDQUFDbUIsS0FBS0wsT0FBTyxFQUFFO0lBQy9DLE1BQU0rQixPQUFPLElBQUk3QyxrREFBcUIsQ0FBQ21CLEtBQUtKLE9BQU8sRUFBRUksS0FBS0gsVUFBVSxFQUFFO0lB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O1lBQzNELE1BQU1HLFFBQVEsQ0FBQ2xFLE1BQU1nRSxPQUFPLENBQUMsVUFBVSxJQUFJLEtBQU1oRSxDQUFBQSxNQUFNZ0UsT0FBTyxDQUFDLFVBQVUsSUFBSTtZQUM3RSxNQUFNRyxZQUFZbkUsTUFBTWdFLE9BQU8sQ0FBQyxXQUFXaEUsTUFBTWdFLE9BQU8sQ0FBQztZQUN6RCxNQUFNSSxRQUFRcEUsTUFBTWdFLE9BQU8sQ0FBQyxnQkFBZ0JoRSxNQUFNZ0UsT0FBTyxDQUFDO1lBRTFELE9BQU87Z0JBQ0xEO2dCQUNBRTtnQkFDQUM7Z0JBQ0FDO2dCQUNBRSxNQUFNO2dCQUNORDtZQUNGO1FBQ0Y7SUFDRjtJQUVBLFNBQVNFO1lBS1BwRSxtQkFDQUc7UUFMQWtFLG9CQUFvQixVQUFVakU7UUFDOUI5QixTQUFTOEYsT0FBTztRQUNoQnJHLFVBQVV1RyxXQUFXLENBQUNoRyxTQUFTYSxVQUFVO1FBQ3pDVyxNQUFNc0UsT0FBTztTQUNicEUsb0JBQUFBLFNBQVNvRSxPQUFPLGNBQWhCcEUsd0NBQUFBLHVCQUFBQTtTQUNBRyxtQkFBQUEsUUFBUWlFLE9BQU8sY0FBZmpFLHVDQUFBQSxzQkFBQUE7UUFDQWEsa0NBQUFBLDRDQUFBQTtJQUNGO0lBRUEsT0FBTztRQUFFVTtRQUFLMEM7SUFBUTtBQUN4QiIsInNvdXJjZXMiOlsiL2FwcC9zcmMvZW5naW5lL2Jvb3RzdHJhcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgY3JlYXRlU3RyZWFtZXIgfSBmcm9tICdAL3dvcmxkL2NodW5rcy9zdHJlYW1lcidcbmltcG9ydCB7IGNyZWF0ZUNoYXNlQ2FtIH0gZnJvbSAnQC9jYW1lcmEvY2hhc2VDYW0nXG5pbXBvcnQgeyBjcmVhdGVQbGF5ZXIgfSBmcm9tICdAL3ZlaGljbGVzL3NoYXJlZC9wbGF5ZXInXG5pbXBvcnQgeyBjcmVhdGVJbnB1dCB9IGZyb20gJ0AvdWkvaW5wdXRNYXAnXG5pbXBvcnQgeyBjcmVhdGVDb3JyaWRvciB9IGZyb20gJ0Avc3Bhd24vY29ycmlkb3InXG5pbXBvcnQgeyBjcmVhdGVTcGF3bmVyIH0gZnJvbSAnQC9zcGF3bi9zcGF3blRhYmxlJ1xuaW1wb3J0IHsgYXBwbHlCb3NzRGVmZWF0LCBnZXREaWZmaWN1bHR5U3RhdGUsIG9uRGlmZmljdWx0eUNoYW5nZSB9IGZyb20gJ0AvZW5naW5lL2RpZmZpY3VsdHknXG5pbXBvcnQgdHlwZSB7IEJyb2tlckludGVudFNuYXBzaG90LCBCcm9rZXJXb3JsZERpZmZFbnZlbG9wZSB9IGZyb20gJ0AvbGliL2Jyb2tlckNsaWVudCdcblxuZXhwb3J0IHR5cGUgR2FtZUFQSSA9IHtcbiAgYWN0aW9uczogYW55XG4gIGdldFN0YXRlOiAoKSA9PiB7XG4gICAgc3BlZWQ6IG51bWJlclxuICAgIGFsdGl0dWRlOiBudW1iZXJcbiAgICBzdGFnZTogbnVtYmVyXG4gICAgc2NvcmU6IG51bWJlclxuICAgIHdlYXBvbjogc3RyaW5nXG4gICAgYW1tbzogbnVtYmVyXG4gICAgbWlzc2lsZXM6IG51bWJlclxuICAgIGxhc2VyQ29vbGRvd246IG51bWJlclxuICAgIGJvbWJBcm1lZDogYm9vbGVhblxuICAgIGRpZmZpY3VsdHk6IFJldHVyblR5cGU8dHlwZW9mIGdldERpZmZpY3VsdHlTdGF0ZT5cbiAgfVxuICBpbmdlc3RXb3JsZERpZmY6IChkaWZmOiBCcm9rZXJXb3JsZERpZmZFbnZlbG9wZSkgPT4gdm9pZFxuICBzYW1wbGVJbnRlbnQ6ICgpID0+IEJyb2tlckludGVudFNuYXBzaG90XG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NDRU5FX09QVFMgPSB7XG4gIGZvZ0NvbG9yOiAweDBhMGQxMixcbiAgZm9nTmVhcjogMTUwLFxuICBmb2dGYXI6IDE1MDAsXG4gIGFtYmllbnQ6IDB4MzY0YTZiLFxuICBoZW1pU2t5OiAweDhjYzlmZixcbiAgaGVtaUdyb3VuZDogMHgxMDE0MThcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRHYW1lKGNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQsIG9wdHMgPSBERUZBVUxUX1NDRU5FX09QVFMsIG9uUmVhZHk/OiAoKSA9PiB2b2lkKSB7XG4gIGNvbnN0IHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKClcbiAgc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZyhvcHRzLmZvZ0NvbG9yLCBvcHRzLmZvZ05lYXIsIG9wdHMuZm9nRmFyKVxuXG4gIGNvbnN0IHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoeyBhbnRpYWxpYXM6IHRydWUgfSlcbiAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyhNYXRoLm1pbihkZXZpY2VQaXhlbFJhdGlvLCAyKSlcbiAgcmVuZGVyZXIuc2V0U2l6ZShjb250YWluZXIuY2xpZW50V2lkdGgsIGNvbnRhaW5lci5jbGllbnRIZWlnaHQpXG4gIHJlbmRlcmVyLm91dHB1dENvbG9yU3BhY2UgPSBUSFJFRS5TUkdCQ29sb3JTcGFjZVxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudClcblxuICBjb25zdCBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNzAsIGNvbnRhaW5lci5jbGllbnRXaWR0aCAvIGNvbnRhaW5lci5jbGllbnRIZWlnaHQsIDAuMSwgNTAwMClcbiAgY2FtZXJhLnBvc2l0aW9uLnNldCgwLCAyMCwgNjApXG5cbiAgLy8gTGlnaHRzXG4gIHNjZW5lLmFkZChuZXcgVEhSRUUuQW1iaWVudExpZ2h0KG9wdHMuYW1iaWVudCwgMC43KSlcbiAgY29uc3QgaGVtaSA9IG5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQob3B0cy5oZW1pU2t5LCBvcHRzLmhlbWlHcm91bmQsIDAuOClcbiAgc2NlbmUuYWRkKGhlbWkpXG4gIGNvbnN0IHN1biA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAwLjgpXG4gIHN1bi5wb3NpdGlvbi5zZXQoMjAwLCAzMDAsIDEwMClcbiAgc2NlbmUuYWRkKHN1bilcblxuICAvLyBTeXN0ZW1zXG4gIGNvbnN0IGlucHV0ID0gY3JlYXRlSW5wdXQoY29udGFpbmVyKVxuICBjb25zdCBjaGFzZSA9IGNyZWF0ZUNoYXNlQ2FtKGNhbWVyYSlcbiAgY29uc3Qgc3RyZWFtZXIgPSBjcmVhdGVTdHJlYW1lcihzY2VuZSlcblxuICAvLyBQbGF5ZXIgKEFycm93aGVhZCBieSBkZWZhdWx0KVxuICBjb25zdCBwbGF5ZXIgPSBjcmVhdGVQbGF5ZXIoJ2Fycm93aGVhZCcsIHNjZW5lKVxuXG4gIC8vIFNwYXduIGNvcnJpZG9yIGFuZCBzcGF3bmVyXG4gIGNvbnN0IGNvcnJpZG9yID0gY3JlYXRlQ29ycmlkb3Ioc2NlbmUpXG4gIGNvbnN0IHNwYXduZXIgPSBjcmVhdGVTcGF3bmVyKHNjZW5lLCBwbGF5ZXIsIHN0cmVhbWVyKVxuXG4gIC8vIFJlc2l6ZVxuICBjb25zdCBvblJlc2l6ZSA9ICgpID0+IHtcbiAgICByZW5kZXJlci5zZXRTaXplKGNvbnRhaW5lci5jbGllbnRXaWR0aCwgY29udGFpbmVyLmNsaWVudEhlaWdodClcbiAgICBjYW1lcmEuYXNwZWN0ID0gY29udGFpbmVyLmNsaWVudFdpZHRoIC8gY29udGFpbmVyLmNsaWVudEhlaWdodFxuICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KClcbiAgfVxuICBhZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZSlcblxuICAvLyBMb29wXG4gIGxldCBsYXN0ID0gcGVyZm9ybWFuY2Uubm93KClcbiAgbGV0IHN0YWdlID0gMVxuICBsZXQgc2NvcmUgPSAwXG4gIGxldCBsYXRlc3RUaWNrID0gMFxuICBsZXQgcmVhZHlGaXJlZCA9IGZhbHNlXG4gIGxldCBkaWZmaWN1bHR5U3RhdGUgPSBnZXREaWZmaWN1bHR5U3RhdGUoKVxuICBjb25zdCB1bnN1YnNjcmliZURpZmZpY3VsdHkgPSBvbkRpZmZpY3VsdHlDaGFuZ2UoKG5leHQpID0+IHtcbiAgICAvLzEuLSBQZXJzaXN0IHRoZSBsYXRlc3QgZGlmZmljdWx0eSB2YWx1ZXMgc28gdGVsZW1ldHJ5IHF1ZXJpZXMgcmVtYWluIGluIHN5bmMgd2l0aCBnbG9iYWwgc2NhbGluZy5cbiAgICBkaWZmaWN1bHR5U3RhdGUgPSBuZXh0XG4gIH0pXG5cbiAgZnVuY3Rpb24gZnJhbWUobm93OiBudW1iZXIpIHtcbiAgICBjb25zdCBkdCA9IE1hdGgubWluKDAuMDUsIChub3cgLSBsYXN0KSAvIDEwMDApXG4gICAgbGFzdCA9IG5vd1xuXG4gICAgLy8gSW5wdXQg4oaSIHBsYXllciBjb250cm9sXG4gICAgcGxheWVyLmNvbnRyb2xsZXIudXBkYXRlKGR0LCBpbnB1dCwgc3RyZWFtZXIucXVlcnlIZWlnaHQpXG5cbiAgICAvLyBTdHJlYW0gd29ybGQgYXJvdW5kIHRoZSBwbGF5ZXJcbiAgICBzdHJlYW1lci51cGRhdGUocGxheWVyLmdyb3VwLnBvc2l0aW9uKVxuXG4gICAgLy8gU3Bhd25pbmcgLyBlbmNvdW50ZXJzXG4gICAgc3Bhd25lci51cGRhdGUoZHQsIHN0YWdlKVxuXG4gICAgLy8gQ2FtZXJhXG4gICAgY2hhc2UudXBkYXRlKGR0LCBwbGF5ZXIuZ3JvdXApXG5cbiAgICAvLyBSZW5kZXJcbiAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSlcblxuICAgIGlmICghcmVhZHlGaXJlZCkgeyBvblJlYWR5Py4oKTsgcmVhZHlGaXJlZCA9IHRydWUgfVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSlcbiAgfVxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnJhbWUpXG5cbiAgY29uc3QgYXBpOiBHYW1lQVBJID0ge1xuICAgIGFjdGlvbnM6IHtcbiAgICAgIGN5Y2xlVmVoaWNsZTogcGxheWVyLmN5Y2xlVmVoaWNsZSxcbiAgICAgIHNldFZlaGljbGU6IHBsYXllci5zZXRWZWhpY2xlLFxuICAgIH0sXG4gICAgZ2V0U3RhdGU6ICgpID0+ICh7XG4gICAgICBzcGVlZDogcGxheWVyLmNvbnRyb2xsZXIuc3BlZWQsXG4gICAgICBhbHRpdHVkZTogTWF0aC5tYXgoMCwgcGxheWVyLmdyb3VwLnBvc2l0aW9uLnkgLSBzdHJlYW1lci5xdWVyeUhlaWdodChwbGF5ZXIuZ3JvdXAucG9zaXRpb24ueCwgcGxheWVyLmdyb3VwLnBvc2l0aW9uLnopKSxcbiAgICAgIHN0YWdlLFxuICAgICAgc2NvcmUsXG4gICAgICB3ZWFwb246IHBsYXllci5jb250cm9sbGVyLndlYXBvbk5hbWUsXG4gICAgICBhbW1vOiBwbGF5ZXIuY29udHJvbGxlci5hbW1vLFxuICAgICAgbWlzc2lsZXM6IHBsYXllci5jb250cm9sbGVyLm1pc3NpbGVzLFxuICAgICAgbGFzZXJDb29sZG93bjogcGxheWVyLmNvbnRyb2xsZXIubGFzZXJDb29sZG93bk1zLFxuICAgICAgYm9tYkFybWVkOiBwbGF5ZXIuY29udHJvbGxlci5ib21iQXJtZWQsXG4gICAgICBkaWZmaWN1bHR5OiBkaWZmaWN1bHR5U3RhdGVcbiAgICB9KSxcbiAgICBpbmdlc3RXb3JsZERpZmY6IChkaWZmKSA9PiB7XG4gICAgICAvLzEuLSBJZ25vcmUgc3RhbGUgb3IgdW5yZWxhdGVkIHBheWxvYWRzIHNvIHRoZSBsb2NhbCBzY2VuZSBvbmx5IHJlYWN0cyB0byBhZHZhbmNpbmcgYXV0aG9yaXRhdGl2ZSB0aWNrcy5cbiAgICAgIGlmICghZGlmZiB8fCBkaWZmLnR5cGUgIT09ICd3b3JsZF9kaWZmJyB8fCB0eXBlb2YgZGlmZi50aWNrICE9PSAnbnVtYmVyJyB8fCBkaWZmLnRpY2sgPD0gbGF0ZXN0VGljaykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGxhdGVzdFRpY2sgPSBkaWZmLnRpY2tcblxuICAgICAgLy8yLi0gRm9sZCBIVUQtY2VudHJpYyBtZXRhZGF0YSBpbnRvIHRoZSBhZ2dyZWdhdGVkIHNjb3JlIGFuZCBzdGFnZSB0cmFja2Vycy5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRpZmYuZXZlbnRzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGRpZmYuZXZlbnRzKSB7XG4gICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBldmVudD8ubWV0YWRhdGFcbiAgICAgICAgICBpZiAoIW1ldGFkYXRhKSBjb250aW51ZVxuICAgICAgICAgIGNvbnN0IHNjb3JlRGVsdGEgPSBOdW1iZXIobWV0YWRhdGEuc2NvcmVfZGVsdGEgPz8gbWV0YWRhdGEuc2NvcmUpXG4gICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4oc2NvcmVEZWx0YSkpIHtcbiAgICAgICAgICAgIHNjb3JlICs9IHNjb3JlRGVsdGFcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgc3RhZ2VWYWx1ZSA9IE51bWJlcihtZXRhZGF0YS5zdGFnZSA/PyBtZXRhZGF0YS5zdGFnZV9pbmRleClcbiAgICAgICAgICBpZiAoIU51bWJlci5pc05hTihzdGFnZVZhbHVlKSAmJiBzdGFnZVZhbHVlID4gMCkge1xuICAgICAgICAgICAgaWYgKHN0YWdlVmFsdWUgPiBzdGFnZSkge1xuICAgICAgICAgICAgICAvLzEuLSBUcmVhdCBmb3J3YXJkIHN0YWdlIGp1bXBzIGFzIGJvc3MgY2xlYXJzIGFuZCBlc2NhbGF0ZSB0aGUgc2hhcmVkIGRpZmZpY3VsdHkgcHJvZmlsZS5cbiAgICAgICAgICAgICAgZGlmZmljdWx0eVN0YXRlID0gYXBwbHlCb3NzRGVmZWF0KHN0YWdlVmFsdWUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFnZSA9IHN0YWdlVmFsdWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHNhbXBsZUludGVudDogKCkgPT4ge1xuICAgICAgLy8zLi0gVHJhbnNsYXRlIHRoZSBpbnN0YW50YW5lb3VzIGlucHV0IG1hcCBpbnRvIHRoZSBicm9rZXIgaW50ZW50IHNjaGVtYSBmaWVsZHMuXG4gICAgICBjb25zdCB0aHJvdHRsZSA9IGlucHV0LnByZXNzZWQoJ0tleVcnKSA/IDEgOiBpbnB1dC5wcmVzc2VkKCdLZXlTJykgPyAtMSA6IDBcbiAgICAgIGNvbnN0IGJyYWtlID0gaW5wdXQucHJlc3NlZCgnU3BhY2UnKSB8fCB0aHJvdHRsZSA8IDAgPyAxIDogMFxuICAgICAgY29uc3Qgc3RlZXIgPSAoaW5wdXQucHJlc3NlZCgnS2V5RCcpID8gMSA6IDApIC0gKGlucHV0LnByZXNzZWQoJ0tleUEnKSA/IDEgOiAwKVxuICAgICAgY29uc3QgaGFuZGJyYWtlID0gaW5wdXQucHJlc3NlZCgnS2V5RicpIHx8IGlucHV0LnByZXNzZWQoJ0tleUMnKVxuICAgICAgY29uc3QgYm9vc3QgPSBpbnB1dC5wcmVzc2VkKCdTaGlmdExlZnQnKSB8fCBpbnB1dC5wcmVzc2VkKCdTaGlmdFJpZ2h0JylcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGhyb3R0bGUsXG4gICAgICAgIGJyYWtlLFxuICAgICAgICBzdGVlcixcbiAgICAgICAgaGFuZGJyYWtlLFxuICAgICAgICBnZWFyOiAxLFxuICAgICAgICBib29zdFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25SZXNpemUpXG4gICAgcmVuZGVyZXIuZGlzcG9zZSgpXG4gICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpXG4gICAgaW5wdXQuZGlzcG9zZSgpXG4gICAgc3RyZWFtZXIuZGlzcG9zZT8uKClcbiAgICBzcGF3bmVyLmRpc3Bvc2U/LigpXG4gICAgdW5zdWJzY3JpYmVEaWZmaWN1bHR5Py4oKVxuICB9XG5cbiAgcmV0dXJuIHsgYXBpLCBkaXNwb3NlIH1cbn1cbiJdLCJuYW1lcyI6WyJUSFJFRSIsImNyZWF0ZVN0cmVhbWVyIiwiY3JlYXRlQ2hhc2VDYW0iLCJjcmVhdGVQbGF5ZXIiLCJjcmVhdGVJbnB1dCIsImNyZWF0ZUNvcnJpZG9yIiwiY3JlYXRlU3Bhd25lciIsImFwcGx5Qm9zc0RlZmVhdCIsImdldERpZmZpY3VsdHlTdGF0ZSIsIm9uRGlmZmljdWx0eUNoYW5nZSIsIkRFRkFVTFRfU0NFTkVfT1BUUyIsImZvZ0NvbG9yIiwiZm9nTmVhciIsImZvZ0ZhciIsImFtYmllbnQiLCJoZW1pU2t5IiwiaGVtaUdyb3VuZCIsImluaXRHYW1lIiwiY29udGFpbmVyIiwib3B0cyIsIm9uUmVhZHkiLCJzY2VuZSIsIlNjZW5lIiwiZm9nIiwiRm9nIiwicmVuZGVyZXIiLCJXZWJHTFJlbmRlcmVyIiwiYW50aWFsaWFzIiwic2V0UGl4ZWxSYXRpbyIsIk1hdGgiLCJtaW4iLCJkZXZpY2VQaXhlbFJhdGlvIiwic2V0U2l6ZSIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0Iiwib3V0cHV0Q29sb3JTcGFjZSIsIlNSR0JDb2xvclNwYWNlIiwiYXBwZW5kQ2hpbGQiLCJkb21FbGVtZW50IiwiY2FtZXJhIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJwb3NpdGlvbiIsInNldCIsImFkZCIsIkFtYmllbnRMaWdodCIsImhlbWkiLCJIZW1pc3BoZXJlTGlnaHQiLCJzdW4iLCJEaXJlY3Rpb25hbExpZ2h0IiwiaW5wdXQiLCJjaGFzZSIsInN0cmVhbWVyIiwicGxheWVyIiwiY29ycmlkb3IiLCJzcGF3bmVyIiwib25SZXNpemUiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiYWRkRXZlbnRMaXN0ZW5lciIsImxhc3QiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInN0YWdlIiwic2NvcmUiLCJsYXRlc3RUaWNrIiwicmVhZHlGaXJlZCIsImRpZmZpY3VsdHlTdGF0ZSIsInVuc3Vic2NyaWJlRGlmZmljdWx0eSIsIm5leHQiLCJmcmFtZSIsImR0IiwiY29udHJvbGxlciIsInVwZGF0ZSIsInF1ZXJ5SGVpZ2h0IiwiZ3JvdXAiLCJyZW5kZXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJhcGkiLCJhY3Rpb25zIiwiY3ljbGVWZWhpY2xlIiwic2V0VmVoaWNsZSIsImdldFN0YXRlIiwic3BlZWQiLCJhbHRpdHVkZSIsIm1heCIsInkiLCJ4IiwieiIsIndlYXBvbiIsIndlYXBvbk5hbWUiLCJhbW1vIiwibWlzc2lsZXMiLCJsYXNlckNvb2xkb3duIiwibGFzZXJDb29sZG93bk1zIiwiYm9tYkFybWVkIiwiZGlmZmljdWx0eSIsImluZ2VzdFdvcmxkRGlmZiIsImRpZmYiLCJ0eXBlIiwidGljayIsIkFycmF5IiwiaXNBcnJheSIsImV2ZW50cyIsImV2ZW50IiwibWV0YWRhdGEiLCJzY29yZURlbHRhIiwiTnVtYmVyIiwic2NvcmVfZGVsdGEiLCJpc05hTiIsInN0YWdlVmFsdWUiLCJzdGFnZV9pbmRleCIsInNhbXBsZUludGVudCIsInRocm90dGxlIiwicHJlc3NlZCIsImJyYWtlIiwic3RlZXIiLCJoYW5kYnJha2UiLCJib29zdCIsImdlYXIiLCJkaXNwb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZUNoaWxkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/engine/bootstrap.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/engine/difficulty.ts":
/*!**********************************!*\
  !*** ./src/engine/difficulty.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyBossDefeat: () => (/* binding */ applyBossDefeat),\n/* harmony export */   applyEnvironmentVectorAttenuation: () => (/* binding */ applyEnvironmentVectorAttenuation),\n/* harmony export */   getDifficultyState: () => (/* binding */ getDifficultyState),\n/* harmony export */   onDifficultyChange: () => (/* binding */ onDifficultyChange),\n/* harmony export */   resetDifficultyState: () => (/* binding */ resetDifficultyState)\n/* harmony export */ });\nconst BASE_STATE = {\n    enemyHpMultiplier: 1,\n    enemyDpsMultiplier: 1,\n    spawnIntervalMultiplier: 1,\n    enemyAccuracy: 0.55,\n    unlockedAddTypes: 1,\n    bossClears: 0,\n    lastClearedStage: 0,\n    environment: {\n        propDensity: 0.6,\n        windStrength: 0.4,\n        canyonWidth: 1\n    }\n};\nlet state = structuredClone(BASE_STATE);\nconst listeners = new Set();\nfunction cloneState() {\n    //1.- Provide callers with a defensive copy so internal difficulty bookkeeping remains encapsulated.\n    return {\n        enemyHpMultiplier: state.enemyHpMultiplier,\n        enemyDpsMultiplier: state.enemyDpsMultiplier,\n        spawnIntervalMultiplier: state.spawnIntervalMultiplier,\n        enemyAccuracy: state.enemyAccuracy,\n        unlockedAddTypes: state.unlockedAddTypes,\n        bossClears: state.bossClears,\n        lastClearedStage: state.lastClearedStage,\n        environment: {\n            ...state.environment\n        }\n    };\n}\nfunction emit() {\n    //1.- Notify every subscriber using the freshly cloned snapshot to prevent accidental mutation.\n    const snapshot = cloneState();\n    for (const listener of listeners){\n        listener(snapshot);\n    }\n}\nfunction getDifficultyState() {\n    //1.- Surface the current state without exposing the mutable singleton to consumers.\n    return cloneState();\n}\nfunction onDifficultyChange(listener) {\n    //1.- Register listeners lazily and hand back an unsubscribe hook for lifecycle management.\n    listeners.add(listener);\n    return ()=>listeners.delete(listener);\n}\nfunction applyBossDefeat(stage) {\n    //1.- Increment the defeat counter before computing the compound scaling adjustments.\n    state.bossClears += 1;\n    state.lastClearedStage = Math.max(state.lastClearedStage, stage);\n    //2.- Increase enemy durability and damage output multiplicatively to keep pressure scaling noticeable.\n    const hpScalar = 1 + 0.08 + stage * 0.015;\n    const dpsScalar = 1 + 0.05 + stage * 0.01;\n    state.enemyHpMultiplier = Math.min(6, state.enemyHpMultiplier * hpScalar);\n    state.enemyDpsMultiplier = Math.min(5, state.enemyDpsMultiplier * dpsScalar);\n    //3.- Tighten spawn intervals while ensuring they do not collapse entirely.\n    state.spawnIntervalMultiplier = Math.max(0.32, state.spawnIntervalMultiplier * 0.9);\n    //4.- Improve AI accuracy and unlock extra add archetypes gradually.\n    state.enemyAccuracy = Math.min(0.98, state.enemyAccuracy + 0.04 + stage * 0.005);\n    const unlocked = 1 + Math.floor(state.bossClears / 2);\n    state.unlockedAddTypes = Math.min(3, Math.max(state.unlockedAddTypes, unlocked));\n    //5.- Enrich the world ambience so victories feel impactful in the overworld streaming logic.\n    state.environment.propDensity = Math.min(3, state.environment.propDensity + 0.18 + stage * 0.02);\n    state.environment.windStrength = Math.min(4, state.environment.windStrength + 0.16 + stage * 0.01);\n    state.environment.canyonWidth = Math.min(3.2, state.environment.canyonWidth + 0.12 + stage * 0.008);\n    //6.- Emit the updated snapshot to listeners and provide the caller the same information for chaining.\n    emit();\n    return cloneState();\n}\nfunction resetDifficultyState() {\n    //1.- Restore baseline values primarily for deterministic testing scenarios.\n    state = structuredClone(BASE_STATE);\n    emit();\n}\nfunction applyEnvironmentVectorAttenuation(vec) {\n    //1.- Adjust a direction vector to simulate wind influence according to the current scaling knobs.\n    const { windStrength } = state.environment;\n    vec.multiplyScalar(1 + windStrength * 0.05);\n    return vec;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9lbmdpbmUvZGlmZmljdWx0eS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQXFCQSxNQUFNQSxhQUE4QjtJQUNsQ0MsbUJBQW1CO0lBQ25CQyxvQkFBb0I7SUFDcEJDLHlCQUF5QjtJQUN6QkMsZUFBZTtJQUNmQyxrQkFBa0I7SUFDbEJDLFlBQVk7SUFDWkMsa0JBQWtCO0lBQ2xCQyxhQUFhO1FBQ1hDLGFBQWE7UUFDYkMsY0FBYztRQUNkQyxhQUFhO0lBQ2Y7QUFDRjtBQUVBLElBQUlDLFFBQXlCQyxnQkFBZ0JiO0FBQzdDLE1BQU1jLFlBQVksSUFBSUM7QUFFdEIsU0FBU0M7SUFDUCxvR0FBb0c7SUFDcEcsT0FBTztRQUNMZixtQkFBbUJXLE1BQU1YLGlCQUFpQjtRQUMxQ0Msb0JBQW9CVSxNQUFNVixrQkFBa0I7UUFDNUNDLHlCQUF5QlMsTUFBTVQsdUJBQXVCO1FBQ3REQyxlQUFlUSxNQUFNUixhQUFhO1FBQ2xDQyxrQkFBa0JPLE1BQU1QLGdCQUFnQjtRQUN4Q0MsWUFBWU0sTUFBTU4sVUFBVTtRQUM1QkMsa0JBQWtCSyxNQUFNTCxnQkFBZ0I7UUFDeENDLGFBQWE7WUFBRSxHQUFHSSxNQUFNSixXQUFXO1FBQUM7SUFDdEM7QUFDRjtBQUVBLFNBQVNTO0lBQ1AsK0ZBQStGO0lBQy9GLE1BQU1DLFdBQVdGO0lBQ2pCLEtBQUssTUFBTUcsWUFBWUwsVUFBVztRQUNoQ0ssU0FBU0Q7SUFDWDtBQUNGO0FBRU8sU0FBU0U7SUFDZCxvRkFBb0Y7SUFDcEYsT0FBT0o7QUFDVDtBQUVPLFNBQVNLLG1CQUFtQkYsUUFBNEI7SUFDN0QsMkZBQTJGO0lBQzNGTCxVQUFVUSxHQUFHLENBQUNIO0lBQ2QsT0FBTyxJQUFNTCxVQUFVUyxNQUFNLENBQUNKO0FBQ2hDO0FBRU8sU0FBU0ssZ0JBQWdCQyxLQUFhO0lBQzNDLHFGQUFxRjtJQUNyRmIsTUFBTU4sVUFBVSxJQUFJO0lBQ3BCTSxNQUFNTCxnQkFBZ0IsR0FBR21CLEtBQUtDLEdBQUcsQ0FBQ2YsTUFBTUwsZ0JBQWdCLEVBQUVrQjtJQUUxRCx1R0FBdUc7SUFDdkcsTUFBTUcsV0FBVyxJQUFJLE9BQU9ILFFBQVE7SUFDcEMsTUFBTUksWUFBWSxJQUFJLE9BQU9KLFFBQVE7SUFDckNiLE1BQU1YLGlCQUFpQixHQUFHeUIsS0FBS0ksR0FBRyxDQUFDLEdBQUdsQixNQUFNWCxpQkFBaUIsR0FBRzJCO0lBQ2hFaEIsTUFBTVYsa0JBQWtCLEdBQUd3QixLQUFLSSxHQUFHLENBQUMsR0FBR2xCLE1BQU1WLGtCQUFrQixHQUFHMkI7SUFFbEUsMkVBQTJFO0lBQzNFakIsTUFBTVQsdUJBQXVCLEdBQUd1QixLQUFLQyxHQUFHLENBQUMsTUFBTWYsTUFBTVQsdUJBQXVCLEdBQUc7SUFFL0Usb0VBQW9FO0lBQ3BFUyxNQUFNUixhQUFhLEdBQUdzQixLQUFLSSxHQUFHLENBQUMsTUFBTWxCLE1BQU1SLGFBQWEsR0FBRyxPQUFPcUIsUUFBUTtJQUMxRSxNQUFNTSxXQUFXLElBQUlMLEtBQUtNLEtBQUssQ0FBQ3BCLE1BQU1OLFVBQVUsR0FBRztJQUNuRE0sTUFBTVAsZ0JBQWdCLEdBQUdxQixLQUFLSSxHQUFHLENBQUMsR0FBR0osS0FBS0MsR0FBRyxDQUFDZixNQUFNUCxnQkFBZ0IsRUFBRTBCO0lBRXRFLDZGQUE2RjtJQUM3Rm5CLE1BQU1KLFdBQVcsQ0FBQ0MsV0FBVyxHQUFHaUIsS0FBS0ksR0FBRyxDQUFDLEdBQUdsQixNQUFNSixXQUFXLENBQUNDLFdBQVcsR0FBRyxPQUFPZ0IsUUFBUTtJQUMzRmIsTUFBTUosV0FBVyxDQUFDRSxZQUFZLEdBQUdnQixLQUFLSSxHQUFHLENBQUMsR0FBR2xCLE1BQU1KLFdBQVcsQ0FBQ0UsWUFBWSxHQUFHLE9BQU9lLFFBQVE7SUFDN0ZiLE1BQU1KLFdBQVcsQ0FBQ0csV0FBVyxHQUFHZSxLQUFLSSxHQUFHLENBQUMsS0FBS2xCLE1BQU1KLFdBQVcsQ0FBQ0csV0FBVyxHQUFHLE9BQU9jLFFBQVE7SUFFN0Ysc0dBQXNHO0lBQ3RHUjtJQUNBLE9BQU9EO0FBQ1Q7QUFFTyxTQUFTaUI7SUFDZCw0RUFBNEU7SUFDNUVyQixRQUFRQyxnQkFBZ0JiO0lBQ3hCaUI7QUFDRjtBQUVPLFNBQVNpQixrQ0FBa0NDLEdBQVk7SUFDNUQsa0dBQWtHO0lBQ2xHLE1BQU0sRUFBRXpCLFlBQVksRUFBRSxHQUFHRSxNQUFNSixXQUFXO0lBQzFDMkIsSUFBSUMsY0FBYyxDQUFDLElBQUkxQixlQUFlO0lBQ3RDLE9BQU95QjtBQUNUIiwic291cmNlcyI6WyIvYXBwL3NyYy9lbmdpbmUvZGlmZmljdWx0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFZlY3RvcjMgfSBmcm9tICd0aHJlZSdcblxuZXhwb3J0IHR5cGUgRGlmZmljdWx0eUVudmlyb25tZW50U3RhdGUgPSB7XG4gIHByb3BEZW5zaXR5OiBudW1iZXJcbiAgd2luZFN0cmVuZ3RoOiBudW1iZXJcbiAgY2FueW9uV2lkdGg6IG51bWJlclxufVxuXG5leHBvcnQgdHlwZSBEaWZmaWN1bHR5U3RhdGUgPSB7XG4gIGVuZW15SHBNdWx0aXBsaWVyOiBudW1iZXJcbiAgZW5lbXlEcHNNdWx0aXBsaWVyOiBudW1iZXJcbiAgc3Bhd25JbnRlcnZhbE11bHRpcGxpZXI6IG51bWJlclxuICBlbmVteUFjY3VyYWN5OiBudW1iZXJcbiAgdW5sb2NrZWRBZGRUeXBlczogbnVtYmVyXG4gIGJvc3NDbGVhcnM6IG51bWJlclxuICBsYXN0Q2xlYXJlZFN0YWdlOiBudW1iZXJcbiAgZW52aXJvbm1lbnQ6IERpZmZpY3VsdHlFbnZpcm9ubWVudFN0YXRlXG59XG5cbnR5cGUgRGlmZmljdWx0eUxpc3RlbmVyID0gKHN0YXRlOiBEaWZmaWN1bHR5U3RhdGUpID0+IHZvaWRcblxuY29uc3QgQkFTRV9TVEFURTogRGlmZmljdWx0eVN0YXRlID0ge1xuICBlbmVteUhwTXVsdGlwbGllcjogMSxcbiAgZW5lbXlEcHNNdWx0aXBsaWVyOiAxLFxuICBzcGF3bkludGVydmFsTXVsdGlwbGllcjogMSxcbiAgZW5lbXlBY2N1cmFjeTogMC41NSxcbiAgdW5sb2NrZWRBZGRUeXBlczogMSxcbiAgYm9zc0NsZWFyczogMCxcbiAgbGFzdENsZWFyZWRTdGFnZTogMCxcbiAgZW52aXJvbm1lbnQ6IHtcbiAgICBwcm9wRGVuc2l0eTogMC42LFxuICAgIHdpbmRTdHJlbmd0aDogMC40LFxuICAgIGNhbnlvbldpZHRoOiAxXG4gIH1cbn1cblxubGV0IHN0YXRlOiBEaWZmaWN1bHR5U3RhdGUgPSBzdHJ1Y3R1cmVkQ2xvbmUoQkFTRV9TVEFURSlcbmNvbnN0IGxpc3RlbmVycyA9IG5ldyBTZXQ8RGlmZmljdWx0eUxpc3RlbmVyPigpXG5cbmZ1bmN0aW9uIGNsb25lU3RhdGUoKTogRGlmZmljdWx0eVN0YXRlIHtcbiAgLy8xLi0gUHJvdmlkZSBjYWxsZXJzIHdpdGggYSBkZWZlbnNpdmUgY29weSBzbyBpbnRlcm5hbCBkaWZmaWN1bHR5IGJvb2trZWVwaW5nIHJlbWFpbnMgZW5jYXBzdWxhdGVkLlxuICByZXR1cm4ge1xuICAgIGVuZW15SHBNdWx0aXBsaWVyOiBzdGF0ZS5lbmVteUhwTXVsdGlwbGllcixcbiAgICBlbmVteURwc011bHRpcGxpZXI6IHN0YXRlLmVuZW15RHBzTXVsdGlwbGllcixcbiAgICBzcGF3bkludGVydmFsTXVsdGlwbGllcjogc3RhdGUuc3Bhd25JbnRlcnZhbE11bHRpcGxpZXIsXG4gICAgZW5lbXlBY2N1cmFjeTogc3RhdGUuZW5lbXlBY2N1cmFjeSxcbiAgICB1bmxvY2tlZEFkZFR5cGVzOiBzdGF0ZS51bmxvY2tlZEFkZFR5cGVzLFxuICAgIGJvc3NDbGVhcnM6IHN0YXRlLmJvc3NDbGVhcnMsXG4gICAgbGFzdENsZWFyZWRTdGFnZTogc3RhdGUubGFzdENsZWFyZWRTdGFnZSxcbiAgICBlbnZpcm9ubWVudDogeyAuLi5zdGF0ZS5lbnZpcm9ubWVudCB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZW1pdCgpOiB2b2lkIHtcbiAgLy8xLi0gTm90aWZ5IGV2ZXJ5IHN1YnNjcmliZXIgdXNpbmcgdGhlIGZyZXNobHkgY2xvbmVkIHNuYXBzaG90IHRvIHByZXZlbnQgYWNjaWRlbnRhbCBtdXRhdGlvbi5cbiAgY29uc3Qgc25hcHNob3QgPSBjbG9uZVN0YXRlKClcbiAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICBsaXN0ZW5lcihzbmFwc2hvdClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlmZmljdWx0eVN0YXRlKCk6IERpZmZpY3VsdHlTdGF0ZSB7XG4gIC8vMS4tIFN1cmZhY2UgdGhlIGN1cnJlbnQgc3RhdGUgd2l0aG91dCBleHBvc2luZyB0aGUgbXV0YWJsZSBzaW5nbGV0b24gdG8gY29uc3VtZXJzLlxuICByZXR1cm4gY2xvbmVTdGF0ZSgpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbkRpZmZpY3VsdHlDaGFuZ2UobGlzdGVuZXI6IERpZmZpY3VsdHlMaXN0ZW5lcik6ICgpID0+IHZvaWQge1xuICAvLzEuLSBSZWdpc3RlciBsaXN0ZW5lcnMgbGF6aWx5IGFuZCBoYW5kIGJhY2sgYW4gdW5zdWJzY3JpYmUgaG9vayBmb3IgbGlmZWN5Y2xlIG1hbmFnZW1lbnQuXG4gIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpXG4gIHJldHVybiAoKSA9PiBsaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlCb3NzRGVmZWF0KHN0YWdlOiBudW1iZXIpOiBEaWZmaWN1bHR5U3RhdGUge1xuICAvLzEuLSBJbmNyZW1lbnQgdGhlIGRlZmVhdCBjb3VudGVyIGJlZm9yZSBjb21wdXRpbmcgdGhlIGNvbXBvdW5kIHNjYWxpbmcgYWRqdXN0bWVudHMuXG4gIHN0YXRlLmJvc3NDbGVhcnMgKz0gMVxuICBzdGF0ZS5sYXN0Q2xlYXJlZFN0YWdlID0gTWF0aC5tYXgoc3RhdGUubGFzdENsZWFyZWRTdGFnZSwgc3RhZ2UpXG5cbiAgLy8yLi0gSW5jcmVhc2UgZW5lbXkgZHVyYWJpbGl0eSBhbmQgZGFtYWdlIG91dHB1dCBtdWx0aXBsaWNhdGl2ZWx5IHRvIGtlZXAgcHJlc3N1cmUgc2NhbGluZyBub3RpY2VhYmxlLlxuICBjb25zdCBocFNjYWxhciA9IDEgKyAwLjA4ICsgc3RhZ2UgKiAwLjAxNVxuICBjb25zdCBkcHNTY2FsYXIgPSAxICsgMC4wNSArIHN0YWdlICogMC4wMVxuICBzdGF0ZS5lbmVteUhwTXVsdGlwbGllciA9IE1hdGgubWluKDYsIHN0YXRlLmVuZW15SHBNdWx0aXBsaWVyICogaHBTY2FsYXIpXG4gIHN0YXRlLmVuZW15RHBzTXVsdGlwbGllciA9IE1hdGgubWluKDUsIHN0YXRlLmVuZW15RHBzTXVsdGlwbGllciAqIGRwc1NjYWxhcilcblxuICAvLzMuLSBUaWdodGVuIHNwYXduIGludGVydmFscyB3aGlsZSBlbnN1cmluZyB0aGV5IGRvIG5vdCBjb2xsYXBzZSBlbnRpcmVseS5cbiAgc3RhdGUuc3Bhd25JbnRlcnZhbE11bHRpcGxpZXIgPSBNYXRoLm1heCgwLjMyLCBzdGF0ZS5zcGF3bkludGVydmFsTXVsdGlwbGllciAqIDAuOSlcblxuICAvLzQuLSBJbXByb3ZlIEFJIGFjY3VyYWN5IGFuZCB1bmxvY2sgZXh0cmEgYWRkIGFyY2hldHlwZXMgZ3JhZHVhbGx5LlxuICBzdGF0ZS5lbmVteUFjY3VyYWN5ID0gTWF0aC5taW4oMC45OCwgc3RhdGUuZW5lbXlBY2N1cmFjeSArIDAuMDQgKyBzdGFnZSAqIDAuMDA1KVxuICBjb25zdCB1bmxvY2tlZCA9IDEgKyBNYXRoLmZsb29yKHN0YXRlLmJvc3NDbGVhcnMgLyAyKVxuICBzdGF0ZS51bmxvY2tlZEFkZFR5cGVzID0gTWF0aC5taW4oMywgTWF0aC5tYXgoc3RhdGUudW5sb2NrZWRBZGRUeXBlcywgdW5sb2NrZWQpKVxuXG4gIC8vNS4tIEVucmljaCB0aGUgd29ybGQgYW1iaWVuY2Ugc28gdmljdG9yaWVzIGZlZWwgaW1wYWN0ZnVsIGluIHRoZSBvdmVyd29ybGQgc3RyZWFtaW5nIGxvZ2ljLlxuICBzdGF0ZS5lbnZpcm9ubWVudC5wcm9wRGVuc2l0eSA9IE1hdGgubWluKDMsIHN0YXRlLmVudmlyb25tZW50LnByb3BEZW5zaXR5ICsgMC4xOCArIHN0YWdlICogMC4wMilcbiAgc3RhdGUuZW52aXJvbm1lbnQud2luZFN0cmVuZ3RoID0gTWF0aC5taW4oNCwgc3RhdGUuZW52aXJvbm1lbnQud2luZFN0cmVuZ3RoICsgMC4xNiArIHN0YWdlICogMC4wMSlcbiAgc3RhdGUuZW52aXJvbm1lbnQuY2FueW9uV2lkdGggPSBNYXRoLm1pbigzLjIsIHN0YXRlLmVudmlyb25tZW50LmNhbnlvbldpZHRoICsgMC4xMiArIHN0YWdlICogMC4wMDgpXG5cbiAgLy82Li0gRW1pdCB0aGUgdXBkYXRlZCBzbmFwc2hvdCB0byBsaXN0ZW5lcnMgYW5kIHByb3ZpZGUgdGhlIGNhbGxlciB0aGUgc2FtZSBpbmZvcm1hdGlvbiBmb3IgY2hhaW5pbmcuXG4gIGVtaXQoKVxuICByZXR1cm4gY2xvbmVTdGF0ZSgpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldERpZmZpY3VsdHlTdGF0ZSgpOiB2b2lkIHtcbiAgLy8xLi0gUmVzdG9yZSBiYXNlbGluZSB2YWx1ZXMgcHJpbWFyaWx5IGZvciBkZXRlcm1pbmlzdGljIHRlc3Rpbmcgc2NlbmFyaW9zLlxuICBzdGF0ZSA9IHN0cnVjdHVyZWRDbG9uZShCQVNFX1NUQVRFKVxuICBlbWl0KClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5RW52aXJvbm1lbnRWZWN0b3JBdHRlbnVhdGlvbih2ZWM6IFZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgLy8xLi0gQWRqdXN0IGEgZGlyZWN0aW9uIHZlY3RvciB0byBzaW11bGF0ZSB3aW5kIGluZmx1ZW5jZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgc2NhbGluZyBrbm9icy5cbiAgY29uc3QgeyB3aW5kU3RyZW5ndGggfSA9IHN0YXRlLmVudmlyb25tZW50XG4gIHZlYy5tdWx0aXBseVNjYWxhcigxICsgd2luZFN0cmVuZ3RoICogMC4wNSlcbiAgcmV0dXJuIHZlY1xufVxuIl0sIm5hbWVzIjpbIkJBU0VfU1RBVEUiLCJlbmVteUhwTXVsdGlwbGllciIsImVuZW15RHBzTXVsdGlwbGllciIsInNwYXduSW50ZXJ2YWxNdWx0aXBsaWVyIiwiZW5lbXlBY2N1cmFjeSIsInVubG9ja2VkQWRkVHlwZXMiLCJib3NzQ2xlYXJzIiwibGFzdENsZWFyZWRTdGFnZSIsImVudmlyb25tZW50IiwicHJvcERlbnNpdHkiLCJ3aW5kU3RyZW5ndGgiLCJjYW55b25XaWR0aCIsInN0YXRlIiwic3RydWN0dXJlZENsb25lIiwibGlzdGVuZXJzIiwiU2V0IiwiY2xvbmVTdGF0ZSIsImVtaXQiLCJzbmFwc2hvdCIsImxpc3RlbmVyIiwiZ2V0RGlmZmljdWx0eVN0YXRlIiwib25EaWZmaWN1bHR5Q2hhbmdlIiwiYWRkIiwiZGVsZXRlIiwiYXBwbHlCb3NzRGVmZWF0Iiwic3RhZ2UiLCJNYXRoIiwibWF4IiwiaHBTY2FsYXIiLCJkcHNTY2FsYXIiLCJtaW4iLCJ1bmxvY2tlZCIsImZsb29yIiwicmVzZXREaWZmaWN1bHR5U3RhdGUiLCJhcHBseUVudmlyb25tZW50VmVjdG9yQXR0ZW51YXRpb24iLCJ2ZWMiLCJtdWx0aXBseVNjYWxhciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/engine/difficulty.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/spawn/spawnTable.ts":
/*!*********************************!*\
  !*** ./src/spawn/spawnTable.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSpawner: () => (/* binding */ createSpawner)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _enemies_stellated_octahedron_behavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/enemies/stellated-octahedron/behavior */ \"(app-pages-browser)/./src/enemies/stellated-octahedron/behavior.ts\");\n/* harmony import */ var _engine_difficulty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/engine/difficulty */ \"(app-pages-browser)/./src/engine/difficulty.ts\");\n\n\n\nfunction createSpawner(scene, player, streamer) {\n    let t = 0;\n    let difficulty = (0,_engine_difficulty__WEBPACK_IMPORTED_MODULE_1__.getDifficultyState)();\n    const unsubscribe = (0,_engine_difficulty__WEBPACK_IMPORTED_MODULE_1__.onDifficultyChange)((next)=>{\n        //1.- Store the fresh difficulty snapshot to keep cadence, density, and unlocks in sync.\n        difficulty = next;\n    });\n    function spawnWave(center) {\n        //1.- Create one or more adds using offsets that widen with each difficulty unlock.\n        const count = difficulty.unlockedAddTypes >= 3 ? 3 : difficulty.unlockedAddTypes === 2 ? 2 : 1;\n        for(let i = 0; i < count; i++){\n            const spread = 60 + i * 20;\n            const offset = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3((Math.random() - 0.5) * spread, 0, (Math.random() - 0.5) * spread);\n            const pos = center.clone().add(offset);\n            pos.y = streamer.queryHeight(pos.x, pos.z) + 30 + Math.random() * 50;\n            const enemy = (0,_enemies_stellated_octahedron_behavior__WEBPACK_IMPORTED_MODULE_0__.createEnemy)(scene, pos, {\n                difficulty\n            });\n            enemy.target = player.group;\n        }\n    }\n    return {\n        update (dt, stage) {\n            //1.- Ensure previously spawned enemies pursue their assigned targets before handling cadence logic.\n            (0,_enemies_stellated_octahedron_behavior__WEBPACK_IMPORTED_MODULE_0__.updateEnemies)(scene, dt, difficulty);\n            t += dt;\n            const interval = Math.max(0.45, (2.8 - stage * 0.18) * difficulty.spawnIntervalMultiplier);\n            if (t > interval) {\n                t = 0;\n                const pos = player.group.position.clone().addScaledVector(player.group.getWorldDirection(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3()), -220);\n                spawnWave(pos);\n            }\n        },\n        dispose () {\n            //1.- Release the difficulty subscription when the spawner lifecycle concludes.\n            unsubscribe === null || unsubscribe === void 0 ? void 0 : unsubscribe();\n        }\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9zcGF3bi9zcGF3blRhYmxlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEI7QUFDc0Q7QUFDUjtBQUVyRSxTQUFTSyxjQUFjQyxLQUFrQixFQUFFQyxNQUFXLEVBQUVDLFFBQWE7SUFDMUUsSUFBSUMsSUFBSTtJQUNSLElBQUlDLGFBQWFQLHNFQUFrQkE7SUFDbkMsTUFBTVEsY0FBY1Asc0VBQWtCQSxDQUFDLENBQUNRO1FBQ3RDLHdGQUF3RjtRQUN4RkYsYUFBYUU7SUFDZjtJQUVBLFNBQVNDLFVBQVVDLE1BQXFCO1FBQ3RDLG1GQUFtRjtRQUNuRixNQUFNQyxRQUFRTCxXQUFXTSxnQkFBZ0IsSUFBSSxJQUFJLElBQUlOLFdBQVdNLGdCQUFnQixLQUFLLElBQUksSUFBSTtRQUM3RixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUYsT0FBT0UsSUFBSztZQUM5QixNQUFNQyxTQUFTLEtBQUtELElBQUk7WUFDeEIsTUFBTUUsU0FBUyxJQUFJbkIsMENBQWEsQ0FBQyxDQUFDcUIsS0FBS0MsTUFBTSxLQUFLLEdBQUUsSUFBS0osUUFBUSxHQUFHLENBQUNHLEtBQUtDLE1BQU0sS0FBSyxHQUFFLElBQUtKO1lBQzVGLE1BQU1LLE1BQU1ULE9BQU9VLEtBQUssR0FBR0MsR0FBRyxDQUFDTjtZQUMvQkksSUFBSUcsQ0FBQyxHQUFHbEIsU0FBU21CLFdBQVcsQ0FBQ0osSUFBSUssQ0FBQyxFQUFDTCxJQUFJTSxDQUFDLElBQUksS0FBS1IsS0FBS0MsTUFBTSxLQUFLO1lBQ2pFLE1BQU1RLFFBQVE3QixtRkFBV0EsQ0FBQ0ssT0FBT2lCLEtBQUs7Z0JBQUViO1lBQVc7WUFDbkRvQixNQUFNQyxNQUFNLEdBQUd4QixPQUFPeUIsS0FBSztRQUM3QjtJQUNGO0lBRUEsT0FBTztRQUNMQyxRQUFPQyxFQUFTLEVBQUVDLEtBQVk7WUFDNUIsb0dBQW9HO1lBQ3BHakMscUZBQWFBLENBQUNJLE9BQU80QixJQUFJeEI7WUFDekJELEtBQUt5QjtZQUNMLE1BQU1FLFdBQVdmLEtBQUtnQixHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU1GLFFBQVEsSUFBRyxJQUFLekIsV0FBVzRCLHVCQUF1QjtZQUN6RixJQUFJN0IsSUFBSTJCLFVBQVM7Z0JBQ2YzQixJQUFJO2dCQUNKLE1BQU1jLE1BQU1oQixPQUFPeUIsS0FBSyxDQUFDTyxRQUFRLENBQUNmLEtBQUssR0FBR2dCLGVBQWUsQ0FBQ2pDLE9BQU95QixLQUFLLENBQUNTLGlCQUFpQixDQUFDLElBQUl6QywwQ0FBYSxLQUFLLENBQUM7Z0JBQ2hIYSxVQUFVVTtZQUNaO1FBQ0Y7UUFDQW1CO1lBQ0UsK0VBQStFO1lBQy9FL0Isd0JBQUFBLGtDQUFBQTtRQUNGO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL2FwcC9zcmMvc3Bhd24vc3Bhd25UYWJsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IGNyZWF0ZUVuZW15LCB1cGRhdGVFbmVtaWVzIH0gZnJvbSAnQC9lbmVtaWVzL3N0ZWxsYXRlZC1vY3RhaGVkcm9uL2JlaGF2aW9yJ1xuaW1wb3J0IHsgZ2V0RGlmZmljdWx0eVN0YXRlLCBvbkRpZmZpY3VsdHlDaGFuZ2UgfSBmcm9tICdAL2VuZ2luZS9kaWZmaWN1bHR5J1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3Bhd25lcihzY2VuZTogVEhSRUUuU2NlbmUsIHBsYXllcjogYW55LCBzdHJlYW1lcjogYW55KXtcbiAgbGV0IHQgPSAwXG4gIGxldCBkaWZmaWN1bHR5ID0gZ2V0RGlmZmljdWx0eVN0YXRlKClcbiAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkRpZmZpY3VsdHlDaGFuZ2UoKG5leHQpID0+IHtcbiAgICAvLzEuLSBTdG9yZSB0aGUgZnJlc2ggZGlmZmljdWx0eSBzbmFwc2hvdCB0byBrZWVwIGNhZGVuY2UsIGRlbnNpdHksIGFuZCB1bmxvY2tzIGluIHN5bmMuXG4gICAgZGlmZmljdWx0eSA9IG5leHRcbiAgfSlcblxuICBmdW5jdGlvbiBzcGF3bldhdmUoY2VudGVyOiBUSFJFRS5WZWN0b3IzKXtcbiAgICAvLzEuLSBDcmVhdGUgb25lIG9yIG1vcmUgYWRkcyB1c2luZyBvZmZzZXRzIHRoYXQgd2lkZW4gd2l0aCBlYWNoIGRpZmZpY3VsdHkgdW5sb2NrLlxuICAgIGNvbnN0IGNvdW50ID0gZGlmZmljdWx0eS51bmxvY2tlZEFkZFR5cGVzID49IDMgPyAzIDogZGlmZmljdWx0eS51bmxvY2tlZEFkZFR5cGVzID09PSAyID8gMiA6IDFcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IHNwcmVhZCA9IDYwICsgaSAqIDIwXG4gICAgICBjb25zdCBvZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBzcHJlYWQsIDAsIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIHNwcmVhZClcbiAgICAgIGNvbnN0IHBvcyA9IGNlbnRlci5jbG9uZSgpLmFkZChvZmZzZXQpXG4gICAgICBwb3MueSA9IHN0cmVhbWVyLnF1ZXJ5SGVpZ2h0KHBvcy54LHBvcy56KSArIDMwICsgTWF0aC5yYW5kb20oKSAqIDUwXG4gICAgICBjb25zdCBlbmVteSA9IGNyZWF0ZUVuZW15KHNjZW5lLCBwb3MsIHsgZGlmZmljdWx0eSB9KVxuICAgICAgZW5lbXkudGFyZ2V0ID0gcGxheWVyLmdyb3VwXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB1cGRhdGUoZHQ6bnVtYmVyLCBzdGFnZTpudW1iZXIpe1xuICAgICAgLy8xLi0gRW5zdXJlIHByZXZpb3VzbHkgc3Bhd25lZCBlbmVtaWVzIHB1cnN1ZSB0aGVpciBhc3NpZ25lZCB0YXJnZXRzIGJlZm9yZSBoYW5kbGluZyBjYWRlbmNlIGxvZ2ljLlxuICAgICAgdXBkYXRlRW5lbWllcyhzY2VuZSwgZHQsIGRpZmZpY3VsdHkpXG4gICAgICB0ICs9IGR0XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IE1hdGgubWF4KDAuNDUsICgyLjggLSBzdGFnZSAqIDAuMTgpICogZGlmZmljdWx0eS5zcGF3bkludGVydmFsTXVsdGlwbGllcilcbiAgICAgIGlmICh0ID4gaW50ZXJ2YWwpe1xuICAgICAgICB0ID0gMFxuICAgICAgICBjb25zdCBwb3MgPSBwbGF5ZXIuZ3JvdXAucG9zaXRpb24uY2xvbmUoKS5hZGRTY2FsZWRWZWN0b3IocGxheWVyLmdyb3VwLmdldFdvcmxkRGlyZWN0aW9uKG5ldyBUSFJFRS5WZWN0b3IzKCkpLCAtMjIwKVxuICAgICAgICBzcGF3bldhdmUocG9zKVxuICAgICAgfVxuICAgIH0sXG4gICAgZGlzcG9zZSgpe1xuICAgICAgLy8xLi0gUmVsZWFzZSB0aGUgZGlmZmljdWx0eSBzdWJzY3JpcHRpb24gd2hlbiB0aGUgc3Bhd25lciBsaWZlY3ljbGUgY29uY2x1ZGVzLlxuICAgICAgdW5zdWJzY3JpYmU/LigpXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiVEhSRUUiLCJjcmVhdGVFbmVteSIsInVwZGF0ZUVuZW1pZXMiLCJnZXREaWZmaWN1bHR5U3RhdGUiLCJvbkRpZmZpY3VsdHlDaGFuZ2UiLCJjcmVhdGVTcGF3bmVyIiwic2NlbmUiLCJwbGF5ZXIiLCJzdHJlYW1lciIsInQiLCJkaWZmaWN1bHR5IiwidW5zdWJzY3JpYmUiLCJuZXh0Iiwic3Bhd25XYXZlIiwiY2VudGVyIiwiY291bnQiLCJ1bmxvY2tlZEFkZFR5cGVzIiwiaSIsInNwcmVhZCIsIm9mZnNldCIsIlZlY3RvcjMiLCJNYXRoIiwicmFuZG9tIiwicG9zIiwiY2xvbmUiLCJhZGQiLCJ5IiwicXVlcnlIZWlnaHQiLCJ4IiwieiIsImVuZW15IiwidGFyZ2V0IiwiZ3JvdXAiLCJ1cGRhdGUiLCJkdCIsInN0YWdlIiwiaW50ZXJ2YWwiLCJtYXgiLCJzcGF3bkludGVydmFsTXVsdGlwbGllciIsInBvc2l0aW9uIiwiYWRkU2NhbGVkVmVjdG9yIiwiZ2V0V29ybGREaXJlY3Rpb24iLCJkaXNwb3NlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/spawn/spawnTable.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/world/chunks/generateHeight.ts":
/*!********************************************!*\
  !*** ./src/world/chunks/generateHeight.ts ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fbm: () => (/* binding */ fbm),\n/* harmony export */   heightAt: () => (/* binding */ heightAt),\n/* harmony export */   normalAt: () => (/* binding */ normalAt)\n/* harmony export */ });\n/* harmony import */ var _engine_difficulty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/engine/difficulty */ \"(app-pages-browser)/./src/engine/difficulty.ts\");\n\n// Tiny FBM noise to get hills/mountains\nfunction hash(x, z) {\n    return Math.sin(x * 127.1 + z * 311.7) * 43758.5453 % 1;\n}\nfunction lerp(a, b, t) {\n    return a + (b - a) * t;\n}\nfunction smoothstep(t) {\n    return t * t * (3 - 2 * t);\n}\nfunction noise(x, z) {\n    const xi = Math.floor(x), zi = Math.floor(z);\n    const xf = x - xi, zf = z - zi;\n    const h00 = hash(xi, zi), h10 = hash(xi + 1, zi), h01 = hash(xi, zi + 1), h11 = hash(xi + 1, zi + 1);\n    const u = smoothstep(xf), v = smoothstep(zf);\n    return lerp(lerp(h00, h10, u), lerp(h01, h11, u), v);\n}\nfunction fbm(x, z) {\n    let octaves = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 5, lacunarity = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 2, gain = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0.5;\n    let amp = 1, freq = 0.005, sum = 0;\n    for(let i = 0; i < octaves; i++){\n        sum += amp * noise(x * freq, z * freq);\n        freq *= lacunarity;\n        amp *= gain;\n    }\n    return sum;\n}\nlet envCache = (0,_engine_difficulty__WEBPACK_IMPORTED_MODULE_0__.getDifficultyState)().environment;\n(0,_engine_difficulty__WEBPACK_IMPORTED_MODULE_0__.onDifficultyChange)((state)=>{\n    //1.- Keep a cached environment reference so repeated height lookups avoid redundant allocations.\n    envCache = state.environment;\n});\nfunction heightAt(x, z) {\n    //1.- Derive canyon width and vertical richness modifiers from the cached difficulty state.\n    const width = Math.max(0.6, envCache.canyonWidth);\n    const richness = 0.8 + envCache.propDensity * 0.1;\n    const scaledX = x / width;\n    const scaledZ = z / width;\n    const hills = fbm(scaledX, scaledZ, 4, 2.0, 0.5) * 40 * richness;\n    const mountains = Math.pow(fbm(scaledX + 1000, scaledZ + 1000, 5, 2.1, 0.45), 3) * 120 * (1 + envCache.windStrength * 0.05);\n    const base = (hills + mountains) / Math.max(1, width * 0.9);\n    const waterline = 8 - envCache.windStrength * 0.4;\n    return Math.max(base, waterline);\n}\nfunction normalAt(x, z) {\n    let eps = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0.75;\n    const hL = heightAt(x - eps, z);\n    const hR = heightAt(x + eps, z);\n    const hD = heightAt(x, z - eps);\n    const hU = heightAt(x, z + eps);\n    const n = {\n        x: hL - hR,\n        y: 2 * eps,\n        z: hD - hU\n    };\n    const len = Math.hypot(n.x, n.y, n.z) || 1;\n    return {\n        x: n.x / len,\n        y: n.y / len,\n        z: n.z / len\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy93b3JsZC9jaHVua3MvZ2VuZXJhdGVIZWlnaHQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE0RTtBQUU1RSx3Q0FBd0M7QUFDeEMsU0FBU0UsS0FBS0MsQ0FBUSxFQUFFQyxDQUFRO0lBQUksT0FBT0MsS0FBS0MsR0FBRyxDQUFDSCxJQUFFLFFBQVFDLElBQUUsU0FBTyxhQUFhO0FBQUU7QUFDdEYsU0FBU0csS0FBS0MsQ0FBUSxFQUFDQyxDQUFRLEVBQUNDLENBQVE7SUFBRSxPQUFPRixJQUFFLENBQUNDLElBQUVELENBQUFBLElBQUdFO0FBQUM7QUFDMUQsU0FBU0MsV0FBV0QsQ0FBUTtJQUFFLE9BQU9BLElBQUVBLElBQUcsS0FBRSxJQUFFQSxDQUFBQTtBQUFFO0FBQ2hELFNBQVNFLE1BQU1ULENBQVEsRUFBQ0MsQ0FBUTtJQUM5QixNQUFNUyxLQUFHUixLQUFLUyxLQUFLLENBQUNYLElBQUlZLEtBQUdWLEtBQUtTLEtBQUssQ0FBQ1Y7SUFDdEMsTUFBTVksS0FBR2IsSUFBRVUsSUFBSUksS0FBR2IsSUFBRVc7SUFDcEIsTUFBTUcsTUFBSWhCLEtBQUtXLElBQUdFLEtBQUtJLE1BQUlqQixLQUFLVyxLQUFHLEdBQUVFLEtBQUtLLE1BQUlsQixLQUFLVyxJQUFHRSxLQUFHLElBQUlNLE1BQUluQixLQUFLVyxLQUFHLEdBQUVFLEtBQUc7SUFDOUUsTUFBTU8sSUFBRVgsV0FBV0ssS0FBS08sSUFBRVosV0FBV007SUFDckMsT0FBT1YsS0FBS0EsS0FBS1csS0FBSUMsS0FBSUcsSUFBSWYsS0FBS2EsS0FBSUMsS0FBSUMsSUFBSUM7QUFDaEQ7QUFFTyxTQUFTQyxJQUFJckIsQ0FBUSxFQUFDQyxDQUFRO1FBQUVxQixVQUFBQSxpRUFBUSxHQUFHQyxhQUFBQSxpRUFBVyxHQUFHQyxPQUFBQSxpRUFBSztJQUNuRSxJQUFJQyxNQUFJLEdBQUdDLE9BQUssT0FBT0MsTUFBSTtJQUMzQixJQUFJLElBQUlDLElBQUUsR0FBRUEsSUFBRU4sU0FBUU0sSUFBSTtRQUN4QkQsT0FBT0YsTUFBTWhCLE1BQU1ULElBQUUwQixNQUFNekIsSUFBRXlCO1FBQzdCQSxRQUFRSDtRQUNSRSxPQUFPRDtJQUNUO0lBQ0EsT0FBT0c7QUFDVDtBQUVBLElBQUlFLFdBQVdoQyxzRUFBa0JBLEdBQUdpQyxXQUFXO0FBQy9DaEMsc0VBQWtCQSxDQUFDLENBQUNpQztJQUNsQixpR0FBaUc7SUFDakdGLFdBQVdFLE1BQU1ELFdBQVc7QUFDOUI7QUFFTyxTQUFTRSxTQUFTaEMsQ0FBUSxFQUFDQyxDQUFRO0lBQ3hDLDJGQUEyRjtJQUMzRixNQUFNZ0MsUUFBUS9CLEtBQUtnQyxHQUFHLENBQUMsS0FBS0wsU0FBU00sV0FBVztJQUNoRCxNQUFNQyxXQUFXLE1BQU1QLFNBQVNRLFdBQVcsR0FBRztJQUM5QyxNQUFNQyxVQUFVdEMsSUFBSWlDO0lBQ3BCLE1BQU1NLFVBQVV0QyxJQUFJZ0M7SUFDcEIsTUFBTU8sUUFBUW5CLElBQUlpQixTQUFRQyxTQUFRLEdBQUUsS0FBSSxPQUFPLEtBQUtIO0lBQ3BELE1BQU1LLFlBQVl2QyxLQUFLd0MsR0FBRyxDQUFDckIsSUFBSWlCLFVBQVEsTUFBS0MsVUFBUSxNQUFLLEdBQUUsS0FBSSxPQUFPLEtBQUssTUFBTyxLQUFJVixTQUFTYyxZQUFZLEdBQUcsSUFBRztJQUNqSCxNQUFNQyxPQUFPLENBQUNKLFFBQVFDLFNBQVEsSUFBS3ZDLEtBQUtnQyxHQUFHLENBQUMsR0FBR0QsUUFBUTtJQUN2RCxNQUFNWSxZQUFZLElBQUloQixTQUFTYyxZQUFZLEdBQUc7SUFDOUMsT0FBT3pDLEtBQUtnQyxHQUFHLENBQUNVLE1BQU1DO0FBQ3hCO0FBRU8sU0FBU0MsU0FBUzlDLENBQVEsRUFBQ0MsQ0FBUTtRQUFFOEMsTUFBQUEsaUVBQUk7SUFDOUMsTUFBTUMsS0FBS2hCLFNBQVNoQyxJQUFFK0MsS0FBSzlDO0lBQzNCLE1BQU1nRCxLQUFLakIsU0FBU2hDLElBQUUrQyxLQUFLOUM7SUFDM0IsTUFBTWlELEtBQUtsQixTQUFTaEMsR0FBR0MsSUFBRThDO0lBQ3pCLE1BQU1JLEtBQUtuQixTQUFTaEMsR0FBR0MsSUFBRThDO0lBQ3pCLE1BQU1LLElBQUk7UUFBRXBELEdBQUdnRCxLQUFLQztRQUFJSSxHQUFHLElBQUVOO1FBQUs5QyxHQUFHaUQsS0FBS0M7SUFBRztJQUM3QyxNQUFNRyxNQUFNcEQsS0FBS3FELEtBQUssQ0FBQ0gsRUFBRXBELENBQUMsRUFBRW9ELEVBQUVDLENBQUMsRUFBRUQsRUFBRW5ELENBQUMsS0FBSztJQUN6QyxPQUFPO1FBQUVELEdBQUdvRCxFQUFFcEQsQ0FBQyxHQUFDc0Q7UUFBS0QsR0FBR0QsRUFBRUMsQ0FBQyxHQUFDQztRQUFLckQsR0FBR21ELEVBQUVuRCxDQUFDLEdBQUNxRDtJQUFJO0FBQzlDIiwic291cmNlcyI6WyIvYXBwL3NyYy93b3JsZC9jaHVua3MvZ2VuZXJhdGVIZWlnaHQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RGlmZmljdWx0eVN0YXRlLCBvbkRpZmZpY3VsdHlDaGFuZ2UgfSBmcm9tICdAL2VuZ2luZS9kaWZmaWN1bHR5J1xuXG4vLyBUaW55IEZCTSBub2lzZSB0byBnZXQgaGlsbHMvbW91bnRhaW5zXG5mdW5jdGlvbiBoYXNoKHg6bnVtYmVyLCB6Om51bWJlcikgeyByZXR1cm4gTWF0aC5zaW4oeCoxMjcuMSArIHoqMzExLjcpKjQzNzU4LjU0NTMgJSAxIH1cbmZ1bmN0aW9uIGxlcnAoYTpudW1iZXIsYjpudW1iZXIsdDpudW1iZXIpe3JldHVybiBhKyhiLWEpKnR9XG5mdW5jdGlvbiBzbW9vdGhzdGVwKHQ6bnVtYmVyKXtyZXR1cm4gdCp0KigzLTIqdCl9XG5mdW5jdGlvbiBub2lzZSh4Om51bWJlcix6Om51bWJlcil7XG4gIGNvbnN0IHhpPU1hdGguZmxvb3IoeCksIHppPU1hdGguZmxvb3IoeilcbiAgY29uc3QgeGY9eC14aSwgemY9ei16aVxuICBjb25zdCBoMDA9aGFzaCh4aSx6aSksIGgxMD1oYXNoKHhpKzEsemkpLCBoMDE9aGFzaCh4aSx6aSsxKSwgaDExPWhhc2goeGkrMSx6aSsxKVxuICBjb25zdCB1PXNtb290aHN0ZXAoeGYpLCB2PXNtb290aHN0ZXAoemYpXG4gIHJldHVybiBsZXJwKGxlcnAoaDAwLGgxMCx1KSwgbGVycChoMDEsaDExLHUpLCB2KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmJtKHg6bnVtYmVyLHo6bnVtYmVyLCBvY3RhdmVzPTUsIGxhY3VuYXJpdHk9MiwgZ2Fpbj0wLjUpe1xuICBsZXQgYW1wPTEsIGZyZXE9MC4wMDUsIHN1bT0wXG4gIGZvcihsZXQgaT0wO2k8b2N0YXZlcztpKyspe1xuICAgIHN1bSArPSBhbXAgKiBub2lzZSh4KmZyZXEsIHoqZnJlcSlcbiAgICBmcmVxICo9IGxhY3VuYXJpdHlcbiAgICBhbXAgKj0gZ2FpblxuICB9XG4gIHJldHVybiBzdW1cbn1cblxubGV0IGVudkNhY2hlID0gZ2V0RGlmZmljdWx0eVN0YXRlKCkuZW52aXJvbm1lbnRcbm9uRGlmZmljdWx0eUNoYW5nZSgoc3RhdGUpID0+IHtcbiAgLy8xLi0gS2VlcCBhIGNhY2hlZCBlbnZpcm9ubWVudCByZWZlcmVuY2Ugc28gcmVwZWF0ZWQgaGVpZ2h0IGxvb2t1cHMgYXZvaWQgcmVkdW5kYW50IGFsbG9jYXRpb25zLlxuICBlbnZDYWNoZSA9IHN0YXRlLmVudmlyb25tZW50XG59KVxuXG5leHBvcnQgZnVuY3Rpb24gaGVpZ2h0QXQoeDpudW1iZXIsejpudW1iZXIpe1xuICAvLzEuLSBEZXJpdmUgY2FueW9uIHdpZHRoIGFuZCB2ZXJ0aWNhbCByaWNobmVzcyBtb2RpZmllcnMgZnJvbSB0aGUgY2FjaGVkIGRpZmZpY3VsdHkgc3RhdGUuXG4gIGNvbnN0IHdpZHRoID0gTWF0aC5tYXgoMC42LCBlbnZDYWNoZS5jYW55b25XaWR0aClcbiAgY29uc3QgcmljaG5lc3MgPSAwLjggKyBlbnZDYWNoZS5wcm9wRGVuc2l0eSAqIDAuMVxuICBjb25zdCBzY2FsZWRYID0geCAvIHdpZHRoXG4gIGNvbnN0IHNjYWxlZFogPSB6IC8gd2lkdGhcbiAgY29uc3QgaGlsbHMgPSBmYm0oc2NhbGVkWCxzY2FsZWRaLDQsMi4wLDAuNSkgKiA0MCAqIHJpY2huZXNzXG4gIGNvbnN0IG1vdW50YWlucyA9IE1hdGgucG93KGZibShzY2FsZWRYKzEwMDAsc2NhbGVkWisxMDAwLDUsMi4xLDAuNDUpLCAzKSAqIDEyMCAqICgxICsgZW52Q2FjaGUud2luZFN0cmVuZ3RoICogMC4wNSlcbiAgY29uc3QgYmFzZSA9IChoaWxscyArIG1vdW50YWlucykgLyBNYXRoLm1heCgxLCB3aWR0aCAqIDAuOSlcbiAgY29uc3Qgd2F0ZXJsaW5lID0gOCAtIGVudkNhY2hlLndpbmRTdHJlbmd0aCAqIDAuNFxuICByZXR1cm4gTWF0aC5tYXgoYmFzZSwgd2F0ZXJsaW5lKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsQXQoeDpudW1iZXIsejpudW1iZXIsIGVwcz0wLjc1KXtcbiAgY29uc3QgaEwgPSBoZWlnaHRBdCh4LWVwcywgeilcbiAgY29uc3QgaFIgPSBoZWlnaHRBdCh4K2VwcywgeilcbiAgY29uc3QgaEQgPSBoZWlnaHRBdCh4LCB6LWVwcylcbiAgY29uc3QgaFUgPSBoZWlnaHRBdCh4LCB6K2VwcylcbiAgY29uc3QgbiA9IHsgeDogaEwgLSBoUiwgeTogMiplcHMsIHo6IGhEIC0gaFUgfVxuICBjb25zdCBsZW4gPSBNYXRoLmh5cG90KG4ueCwgbi55LCBuLnopIHx8IDFcbiAgcmV0dXJuIHsgeDogbi54L2xlbiwgeTogbi55L2xlbiwgejogbi56L2xlbiB9XG59XG4iXSwibmFtZXMiOlsiZ2V0RGlmZmljdWx0eVN0YXRlIiwib25EaWZmaWN1bHR5Q2hhbmdlIiwiaGFzaCIsIngiLCJ6IiwiTWF0aCIsInNpbiIsImxlcnAiLCJhIiwiYiIsInQiLCJzbW9vdGhzdGVwIiwibm9pc2UiLCJ4aSIsImZsb29yIiwiemkiLCJ4ZiIsInpmIiwiaDAwIiwiaDEwIiwiaDAxIiwiaDExIiwidSIsInYiLCJmYm0iLCJvY3RhdmVzIiwibGFjdW5hcml0eSIsImdhaW4iLCJhbXAiLCJmcmVxIiwic3VtIiwiaSIsImVudkNhY2hlIiwiZW52aXJvbm1lbnQiLCJzdGF0ZSIsImhlaWdodEF0Iiwid2lkdGgiLCJtYXgiLCJjYW55b25XaWR0aCIsInJpY2huZXNzIiwicHJvcERlbnNpdHkiLCJzY2FsZWRYIiwic2NhbGVkWiIsImhpbGxzIiwibW91bnRhaW5zIiwicG93Iiwid2luZFN0cmVuZ3RoIiwiYmFzZSIsIndhdGVybGluZSIsIm5vcm1hbEF0IiwiZXBzIiwiaEwiLCJoUiIsImhEIiwiaFUiLCJuIiwieSIsImxlbiIsImh5cG90Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/world/chunks/generateHeight.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/world/chunks/streamer.ts":
/*!**************************************!*\
  !*** ./src/world/chunks/streamer.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createStreamer: () => (/* binding */ createStreamer)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _generateHeight__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./generateHeight */ \"(app-pages-browser)/./src/world/chunks/generateHeight.ts\");\n/* harmony import */ var _engine_difficulty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/engine/difficulty */ \"(app-pages-browser)/./src/engine/difficulty.ts\");\n\n\n\nconst CHUNK_SIZE = 128;\nconst VERTS = 64;\nconst HALF = CHUNK_SIZE / 2;\nfunction key(ix, iz) {\n    return ix + ',' + iz;\n}\nfunction toChunk(x) {\n    return Math.floor(x / CHUNK_SIZE);\n}\nlet envCache = (0,_engine_difficulty__WEBPACK_IMPORTED_MODULE_1__.getDifficultyState)().environment;\nfunction buildChunk(ix, iz) {\n    const g = new three__WEBPACK_IMPORTED_MODULE_2__.PlaneGeometry(CHUNK_SIZE, CHUNK_SIZE, VERTS, VERTS);\n    g.rotateX(-Math.PI / 2);\n    const pos = g.attributes.position;\n    for(let i = 0; i < pos.count; i++){\n        const vx = pos.getX(i) + ix * CHUNK_SIZE;\n        const vz = pos.getZ(i) + iz * CHUNK_SIZE;\n        const h = (0,_generateHeight__WEBPACK_IMPORTED_MODULE_0__.heightAt)(vx, vz);\n        pos.setY(i, h);\n    }\n    pos.needsUpdate = true;\n    g.computeVertexNormals();\n    const mat = new three__WEBPACK_IMPORTED_MODULE_2__.MeshStandardMaterial({\n        color: 0x506a52,\n        roughness: 0.95,\n        metalness: 0.0\n    });\n    const mesh = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(g, mat);\n    mesh.position.set(ix * CHUNK_SIZE, 0, iz * CHUNK_SIZE);\n    mesh.receiveShadow = true;\n    mesh.userData = {\n        ix,\n        iz,\n        decorations: []\n    };\n    decorateChunk(mesh);\n    return mesh;\n}\nfunction decorateChunk(mesh) {\n    var _mesh_userData_decorations;\n    //1.- Clear any existing decoration objects so density changes can rebuild them idempotently.\n    const previous = (_mesh_userData_decorations = mesh.userData.decorations) !== null && _mesh_userData_decorations !== void 0 ? _mesh_userData_decorations : [];\n    for (const obj of previous){\n        mesh.remove(obj);\n        obj.traverse((child)=>{\n            if (child instanceof three__WEBPACK_IMPORTED_MODULE_2__.Mesh) {\n                child.geometry.dispose();\n                const material = child.material;\n                if (Array.isArray(material)) {\n                    var _mat_dispose;\n                    for (const mat of material)(_mat_dispose = mat.dispose) === null || _mat_dispose === void 0 ? void 0 : _mat_dispose.call(mat);\n                } else {\n                    var _material_dispose;\n                    (_material_dispose = material.dispose) === null || _material_dispose === void 0 ? void 0 : _material_dispose.call(material);\n                }\n            }\n        });\n    }\n    const decorations = [];\n    const { propDensity, windStrength } = envCache;\n    const propCount = Math.max(0, Math.round(propDensity * 4));\n    for(let i = 0; i < propCount; i++){\n        const rock = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(new three__WEBPACK_IMPORTED_MODULE_2__.IcosahedronGeometry(2 + Math.random() * 3, 0), new three__WEBPACK_IMPORTED_MODULE_2__.MeshStandardMaterial({\n            color: 0x4a4f44,\n            roughness: 0.8\n        }));\n        const localX = (Math.random() - 0.5) * CHUNK_SIZE;\n        const localZ = (Math.random() - 0.5) * CHUNK_SIZE;\n        const worldX = mesh.userData.ix * CHUNK_SIZE + localX;\n        const worldZ = mesh.userData.iz * CHUNK_SIZE + localZ;\n        const baseHeight = (0,_generateHeight__WEBPACK_IMPORTED_MODULE_0__.heightAt)(worldX, worldZ) - mesh.position.y;\n        rock.position.set(localX, baseHeight + 1.6, localZ);\n        decorations.push(rock);\n    }\n    const windCount = Math.max(1, Math.round(windStrength));\n    for(let i = 0; i < windCount; i++){\n        const column = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(new three__WEBPACK_IMPORTED_MODULE_2__.CylinderGeometry(3 + windStrength, 3 + windStrength, 90 + windStrength * 10, 12, 1, true), new three__WEBPACK_IMPORTED_MODULE_2__.MeshStandardMaterial({\n            color: 0x88ccff,\n            transparent: true,\n            opacity: 0.18\n        }));\n        const localX = (Math.random() - 0.5) * CHUNK_SIZE;\n        const localZ = (Math.random() - 0.5) * CHUNK_SIZE;\n        column.position.set(localX, 45, localZ);\n        column.rotation.x = Math.PI / 2;\n        decorations.push(column);\n    }\n    for (const deco of decorations){\n        mesh.add(deco);\n    }\n    mesh.userData.decorations = decorations;\n}\nfunction createStreamer(scene) {\n    const chunks = new Map();\n    const activeRadius = 2 // 5x5 ring (0,1,2)\n    ;\n    const tmp = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3();\n    let environmentDirty = false;\n    const unsubscribe = (0,_engine_difficulty__WEBPACK_IMPORTED_MODULE_1__.onDifficultyChange)((state)=>{\n        //1.- Mark existing chunks dirty so the next update rebuilds their decoration sets.\n        envCache = state.environment;\n        environmentDirty = true;\n    });\n    function ensure(ix, iz) {\n        const k = key(ix, iz);\n        if (chunks.has(k)) return;\n        const m = buildChunk(ix, iz);\n        chunks.set(k, m);\n        scene.add(m);\n    }\n    function prune(centerX, centerZ) {\n        for (const [k, m] of chunks){\n            const dx = toChunk(centerX) - m.userData.ix;\n            const dz = toChunk(centerZ) - m.userData.iz;\n            if (Math.abs(dx) > activeRadius || Math.abs(dz) > activeRadius) {\n                var _m_material_dispose, _m_material;\n                scene.remove(m);\n                m.geometry.dispose();\n                (_m_material_dispose = (_m_material = m.material).dispose) === null || _m_material_dispose === void 0 ? void 0 : _m_material_dispose.call(_m_material);\n                var _m_userData_decorations;\n                const decorations = (_m_userData_decorations = m.userData.decorations) !== null && _m_userData_decorations !== void 0 ? _m_userData_decorations : [];\n                for (const deco of decorations){\n                    scene.remove(deco);\n                    deco.traverse((child)=>{\n                        if (child instanceof three__WEBPACK_IMPORTED_MODULE_2__.Mesh) {\n                            child.geometry.dispose();\n                            const material = child.material;\n                            if (Array.isArray(material)) {\n                                var _mat_dispose;\n                                for (const mat of material)(_mat_dispose = mat.dispose) === null || _mat_dispose === void 0 ? void 0 : _mat_dispose.call(mat);\n                            } else {\n                                var _material_dispose;\n                                (_material_dispose = material.dispose) === null || _material_dispose === void 0 ? void 0 : _material_dispose.call(material);\n                            }\n                        }\n                    });\n                }\n                chunks.delete(k);\n            }\n        }\n    }\n    return {\n        update (pos) {\n            const cx = toChunk(pos.x);\n            const cz = toChunk(pos.z);\n            for(let dz = -activeRadius; dz <= activeRadius; dz++){\n                for(let dx = -activeRadius; dx <= activeRadius; dx++){\n                    ensure(cx + dx, cz + dz);\n                }\n            }\n            prune(pos.x, pos.z);\n            if (environmentDirty) {\n                for (const mesh of chunks.values()){\n                    decorateChunk(mesh);\n                }\n                environmentDirty = false;\n            }\n        },\n        queryHeight (x, z) {\n            return (0,_generateHeight__WEBPACK_IMPORTED_MODULE_0__.heightAt)(x, z);\n        },\n        queryNormal (x, z) {\n            const n = (0,_generateHeight__WEBPACK_IMPORTED_MODULE_0__.normalAt)(x, z);\n            return tmp.set(n.x, n.y, n.z);\n        },\n        dispose () {\n            //1.- Allow manual disposal to release the difficulty subscription when the streamer is torn down.\n            unsubscribe === null || unsubscribe === void 0 ? void 0 : unsubscribe();\n        }\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy93b3JsZC9jaHVua3Mvc3RyZWFtZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE4QjtBQUN1QjtBQUN1QjtBQUU1RSxNQUFNSyxhQUFhO0FBQ25CLE1BQU1DLFFBQVE7QUFDZCxNQUFNQyxPQUFPRixhQUFXO0FBRXhCLFNBQVNHLElBQUlDLEVBQVMsRUFBRUMsRUFBUztJQUFHLE9BQU9ELEtBQUcsTUFBSUM7QUFBRztBQUNyRCxTQUFTQyxRQUFRQyxDQUFRO0lBQUcsT0FBT0MsS0FBS0MsS0FBSyxDQUFDRixJQUFJUDtBQUFZO0FBRTlELElBQUlVLFdBQVdaLHNFQUFrQkEsR0FBR2EsV0FBVztBQUUvQyxTQUFTQyxXQUFXUixFQUFTLEVBQUVDLEVBQVM7SUFDdEMsTUFBTVEsSUFBSSxJQUFJbEIsZ0RBQW1CLENBQUNLLFlBQVlBLFlBQVlDLE9BQU9BO0lBQ2pFWSxFQUFFRSxPQUFPLENBQUMsQ0FBQ1AsS0FBS1EsRUFBRSxHQUFDO0lBQ25CLE1BQU1DLE1BQU1KLEVBQUVLLFVBQVUsQ0FBQ0MsUUFBUTtJQUNqQyxJQUFJLElBQUlDLElBQUUsR0FBRUEsSUFBRUgsSUFBSUksS0FBSyxFQUFDRCxJQUFJO1FBQzFCLE1BQU1FLEtBQUtMLElBQUlNLElBQUksQ0FBQ0gsS0FBS2hCLEtBQUdKO1FBQzVCLE1BQU13QixLQUFLUCxJQUFJUSxJQUFJLENBQUNMLEtBQUtmLEtBQUdMO1FBQzVCLE1BQU0wQixJQUFJOUIseURBQVFBLENBQUMwQixJQUFJRTtRQUN2QlAsSUFBSVUsSUFBSSxDQUFDUCxHQUFHTTtJQUNkO0lBQ0FULElBQUlXLFdBQVcsR0FBRztJQUNsQmYsRUFBRWdCLG9CQUFvQjtJQUV0QixNQUFNQyxNQUFNLElBQUluQyx1REFBMEIsQ0FBQztRQUN6Q3FDLE9BQU87UUFDUEMsV0FBVztRQUNYQyxXQUFXO0lBQ2I7SUFDQSxNQUFNQyxPQUFPLElBQUl4Qyx1Q0FBVSxDQUFDa0IsR0FBR2lCO0lBQy9CSyxLQUFL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SUFBSWpCLGtCQUFrQjtnQkFDcEIsS0FBSyxNQUFNL0MsUUFBUTBDLE9BQU91QixNQUFNLEdBQUk7b0JBQ2xDM0QsY0FBY047Z0JBQ2hCO2dCQUNBK0MsbUJBQW1CO1lBQ3JCO1FBQ0Y7UUFDQW1CLGFBQVk5RixDQUFRLEVBQUM0RixDQUFRO1lBQzNCLE9BQU92Ryx5REFBUUEsQ0FBQ1csR0FBRTRGO1FBQ3BCO1FBQ0FHLGFBQVkvRixDQUFRLEVBQUM0RixDQUFRO1lBQzNCLE1BQU1JLElBQUkxRyx5REFBUUEsQ0FBQ1UsR0FBRTRGO1lBQ3JCLE9BQU9uQixJQUFJM0MsR0FBRyxDQUFDa0UsRUFBRWhHLENBQUMsRUFBRWdHLEVBQUV0QyxDQUFDLEVBQUVzQyxFQUFFSixDQUFDO1FBQzlCO1FBQ0FuRDtZQUNFLGtHQUFrRztZQUNsR21DLHdCQUFBQSxrQ0FBQUE7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9hcHAvc3JjL3dvcmxkL2NodW5rcy9zdHJlYW1lci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IGhlaWdodEF0LCBub3JtYWxBdCB9IGZyb20gJy4vZ2VuZXJhdGVIZWlnaHQnXG5pbXBvcnQgeyBnZXREaWZmaWN1bHR5U3RhdGUsIG9uRGlmZmljdWx0eUNoYW5nZSB9IGZyb20gJ0AvZW5naW5lL2RpZmZpY3VsdHknXG5cbmNvbnN0IENIVU5LX1NJWkUgPSAxMjhcbmNvbnN0IFZFUlRTID0gNjRcbmNvbnN0IEhBTEYgPSBDSFVOS19TSVpFLzJcblxuZnVuY3Rpb24ga2V5KGl4Om51bWJlciwgaXo6bnVtYmVyKXsgcmV0dXJuIGl4KycsJytpeiB9XG5mdW5jdGlvbiB0b0NodW5rKHg6bnVtYmVyKXsgcmV0dXJuIE1hdGguZmxvb3IoeCAvIENIVU5LX1NJWkUpIH1cblxubGV0IGVudkNhY2hlID0gZ2V0RGlmZmljdWx0eVN0YXRlKCkuZW52aXJvbm1lbnRcblxuZnVuY3Rpb24gYnVpbGRDaHVuayhpeDpudW1iZXIsIGl6Om51bWJlcil7XG4gIGNvbnN0IGcgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeShDSFVOS19TSVpFLCBDSFVOS19TSVpFLCBWRVJUUywgVkVSVFMpXG4gIGcucm90YXRlWCgtTWF0aC5QSS8yKVxuICBjb25zdCBwb3MgPSBnLmF0dHJpYnV0ZXMucG9zaXRpb24gYXMgVEhSRUUuQnVmZmVyQXR0cmlidXRlXG4gIGZvcihsZXQgaT0wO2k8cG9zLmNvdW50O2krKyl7XG4gICAgY29uc3QgdnggPSBwb3MuZ2V0WChpKSArIGl4KkNIVU5LX1NJWkVcbiAgICBjb25zdCB2eiA9IHBvcy5nZXRaKGkpICsgaXoqQ0hVTktfU0laRVxuICAgIGNvbnN0IGggPSBoZWlnaHRBdCh2eCwgdnopXG4gICAgcG9zLnNldFkoaSwgaClcbiAgfVxuICBwb3MubmVlZHNVcGRhdGUgPSB0cnVlXG4gIGcuY29tcHV0ZVZlcnRleE5vcm1hbHMoKVxuXG4gIGNvbnN0IG1hdCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgY29sb3I6IDB4NTA2YTUyLFxuICAgIHJvdWdobmVzczogMC45NSxcbiAgICBtZXRhbG5lc3M6IDAuMFxuICB9KVxuICBjb25zdCBtZXNoID0gbmV3IFRIUkVFLk1lc2goZywgbWF0KVxuICBtZXNoLnBvc2l0aW9uLnNldChpeCpDSFVOS19TSVpFLCAwLCBpeipDSFVOS19TSVpFKVxuICBtZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlXG4gIG1lc2gudXNlckRhdGEgPSB7IGl4LCBpeiwgZGVjb3JhdGlvbnM6IFtdIGFzIFRIUkVFLk9iamVjdDNEW10gfVxuICBkZWNvcmF0ZUNodW5rKG1lc2gpXG4gIHJldHVybiBtZXNoXG59XG5cbmZ1bmN0aW9uIGRlY29yYXRlQ2h1bmsobWVzaDogVEhSRUUuTWVzaCl7XG4gIC8vMS4tIENsZWFyIGFueSBleGlzdGluZyBkZWNvcmF0aW9uIG9iamVjdHMgc28gZGVuc2l0eSBjaGFuZ2VzIGNhbiByZWJ1aWxkIHRoZW0gaWRlbXBvdGVudGx5LlxuICBjb25zdCBwcmV2aW91czogVEhSRUUuT2JqZWN0M0RbXSA9IG1lc2gudXNlckRhdGEuZGVjb3JhdGlvbnMgPz8gW11cbiAgZm9yIChjb25zdCBvYmogb2YgcHJldmlvdXMpIHtcbiAgICBtZXNoLnJlbW92ZShvYmopXG4gICAgb2JqLnRyYXZlcnNlKChjaGlsZCkgPT4ge1xuICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaCkge1xuICAgICAgICBjaGlsZC5nZW9tZXRyeS5kaXNwb3NlKClcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBjaGlsZC5tYXRlcmlhbFxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtYXRlcmlhbCkpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IG1hdCBvZiBtYXRlcmlhbCkgbWF0LmRpc3Bvc2U/LigpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF0ZXJpYWwuZGlzcG9zZT8uKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBkZWNvcmF0aW9uczogVEhSRUUuT2JqZWN0M0RbXSA9IFtdXG4gIGNvbnN0IHsgcHJvcERlbnNpdHksIHdpbmRTdHJlbmd0aCB9ID0gZW52Q2FjaGVcbiAgY29uc3QgcHJvcENvdW50ID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChwcm9wRGVuc2l0eSAqIDQpKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BDb3VudDsgaSsrKSB7XG4gICAgY29uc3Qgcm9jayA9IG5ldyBUSFJFRS5NZXNoKFxuICAgICAgbmV3IFRIUkVFLkljb3NhaGVkcm9uR2VvbWV0cnkoMiArIE1hdGgucmFuZG9tKCkgKiAzLCAwKSxcbiAgICAgIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweDRhNGY0NCwgcm91Z2huZXNzOiAwLjggfSlcbiAgICApXG4gICAgY29uc3QgbG9jYWxYID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogQ0hVTktfU0laRVxuICAgIGNvbnN0IGxvY2FsWiA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIENIVU5LX1NJWkVcbiAgICBjb25zdCB3b3JsZFggPSBtZXNoLnVzZXJEYXRhLml4ICogQ0hVTktfU0laRSArIGxvY2FsWFxuICAgIGNvbnN0IHdvcmxkWiA9IG1lc2gudXNlckRhdGEuaXogKiBDSFVOS19TSVpFICsgbG9jYWxaXG4gICAgY29uc3QgYmFzZUhlaWdodCA9IGhlaWdodEF0KHdvcmxkWCwgd29ybGRaKSAtIG1lc2gucG9zaXRpb24ueVxuICAgIHJvY2sucG9zaXRpb24uc2V0KGxvY2FsWCwgYmFzZUhlaWdodCArIDEuNiwgbG9jYWxaKVxuICAgIGRlY29yYXRpb25zLnB1c2gocm9jaylcbiAgfVxuXG4gIGNvbnN0IHdpbmRDb3VudCA9IE1hdGgubWF4KDEsIE1hdGgucm91bmQod2luZFN0cmVuZ3RoKSlcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aW5kQ291bnQ7IGkrKykge1xuICAgIGNvbnN0IGNvbHVtbiA9IG5ldyBUSFJFRS5NZXNoKFxuICAgICAgbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMyArIHdpbmRTdHJlbmd0aCwgMyArIHdpbmRTdHJlbmd0aCwgOTAgKyB3aW5kU3RyZW5ndGggKiAxMCwgMTIsIDEsIHRydWUpLFxuICAgICAgbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4ODhjY2ZmLCB0cmFuc3BhcmVudDogdHJ1ZSwgb3BhY2l0eTogMC4xOCB9KVxuICAgIClcbiAgICBjb25zdCBsb2NhbFggPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBDSFVOS19TSVpFXG4gICAgY29uc3QgbG9jYWxaID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogQ0hVTktfU0laRVxuICAgIGNvbHVtbi5wb3NpdGlvbi5zZXQobG9jYWxYLCA0NSwgbG9jYWxaKVxuICAgIGNvbHVtbi5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDJcbiAgICBkZWNvcmF0aW9ucy5wdXNoKGNvbHVtbilcbiAgfVxuXG4gIGZvciAoY29uc3QgZGVjbyBvZiBkZWNvcmF0aW9ucykge1xuICAgIG1lc2guYWRkKGRlY28pXG4gIH1cbiAgbWVzaC51c2VyRGF0YS5kZWNvcmF0aW9ucyA9IGRlY29yYXRpb25zXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHJlYW1lcihzY2VuZTogVEhSRUUuU2NlbmUpe1xuICBjb25zdCBjaHVua3MgPSBuZXcgTWFwPHN0cmluZywgVEhSRUUuTWVzaD4oKVxuICBjb25zdCBhY3RpdmVSYWRpdXMgPSAyIC8vIDV4NSByaW5nICgwLDEsMilcbiAgY29uc3QgdG1wID0gbmV3IFRIUkVFLlZlY3RvcjMoKVxuICBsZXQgZW52aXJvbm1lbnREaXJ0eSA9IGZhbHNlXG4gIGNvbnN0IHVuc3Vic2NyaWJlID0gb25EaWZmaWN1bHR5Q2hhbmdlKChzdGF0ZSkgPT4ge1xuICAgIC8vMS4tIE1hcmsgZXhpc3RpbmcgY2h1bmtzIGRpcnR5IHNvIHRoZSBuZXh0IHVwZGF0ZSByZWJ1aWxkcyB0aGVpciBkZWNvcmF0aW9uIHNldHMuXG4gICAgZW52Q2FjaGUgPSBzdGF0ZS5lbnZpcm9ubWVudFxuICAgIGVudmlyb25tZW50RGlydHkgPSB0cnVlXG4gIH0pXG5cbiAgZnVuY3Rpb24gZW5zdXJlKGl4Om51bWJlciwgaXo6bnVtYmVyKXtcbiAgICBjb25zdCBrID0ga2V5KGl4LCBpeilcbiAgICBpZiAoY2h1bmtzLmhhcyhrKSkgcmV0dXJuXG4gICAgY29uc3QgbSA9IGJ1aWxkQ2h1bmsoaXgsIGl6KVxuICAgIGNodW5rcy5zZXQoaywgbSlcbiAgICBzY2VuZS5hZGQobSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHBydW5lKGNlbnRlclg6bnVtYmVyLCBjZW50ZXJaOm51bWJlcil7XG4gICAgZm9yKGNvbnN0IFtrLCBtXSBvZiBjaHVua3Mpe1xuICAgICAgY29uc3QgZHggPSB0b0NodW5rKGNlbnRlclgpIC0gbS51c2VyRGF0YS5peFxuICAgICAgY29uc3QgZHogPSB0b0NodW5rKGNlbnRlclopIC0gbS51c2VyRGF0YS5pelxuICAgICAgaWYgKE1hdGguYWJzKGR4KSA+IGFjdGl2ZVJhZGl1cyB8fCBNYXRoLmFicyhkeikgPiBhY3RpdmVSYWRpdXMpe1xuICAgICAgICBzY2VuZS5yZW1vdmUobSlcbiAgICAgICAgbS5nZW9tZXRyeS5kaXNwb3NlKClcbiAgICAgICAgOyhtLm1hdGVyaWFsIGFzIFRIUkVFLk1hdGVyaWFsKS5kaXNwb3NlPy4oKVxuICAgICAgICBjb25zdCBkZWNvcmF0aW9uczogVEhSRUUuT2JqZWN0M0RbXSA9IG0udXNlckRhdGEuZGVjb3JhdGlvbnMgPz8gW11cbiAgICAgICAgZm9yIChjb25zdCBkZWNvIG9mIGRlY29yYXRpb25zKSB7XG4gICAgICAgICAgc2NlbmUucmVtb3ZlKGRlY28pXG4gICAgICAgICAgZGVjby50cmF2ZXJzZSgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcbiAgICAgICAgICAgICAgY2hpbGQuZ2VvbWV0cnkuZGlzcG9zZSgpXG4gICAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsID0gY2hpbGQubWF0ZXJpYWxcbiAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWF0ZXJpYWwpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBtYXQgb2YgbWF0ZXJpYWwpIG1hdC5kaXNwb3NlPy4oKVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLmRpc3Bvc2U/LigpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGNodW5rcy5kZWxldGUoaylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHVwZGF0ZShwb3M6IFRIUkVFLlZlY3RvcjMpe1xuICAgICAgY29uc3QgY3ggPSB0b0NodW5rKHBvcy54KVxuICAgICAgY29uc3QgY3ogPSB0b0NodW5rKHBvcy56KVxuICAgICAgZm9yKGxldCBkej0tYWN0aXZlUmFkaXVzOyBkejw9YWN0aXZlUmFkaXVzOyBkeisrKXtcbiAgICAgICAgZm9yKGxldCBkeD0tYWN0aXZlUmFkaXVzOyBkeDw9YWN0aXZlUmFkaXVzOyBkeCsrKXtcbiAgICAgICAgICBlbnN1cmUoY3grZHgsIGN6K2R6KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwcnVuZShwb3MueCwgcG9zLnopXG4gICAgICBpZiAoZW52aXJvbm1lbnREaXJ0eSkge1xuICAgICAgICBmb3IgKGNvbnN0IG1lc2ggb2YgY2h1bmtzLnZhbHVlcygpKSB7XG4gICAgICAgICAgZGVjb3JhdGVDaHVuayhtZXNoKVxuICAgICAgICB9XG4gICAgICAgIGVudmlyb25tZW50RGlydHkgPSBmYWxzZVxuICAgICAgfVxuICAgIH0sXG4gICAgcXVlcnlIZWlnaHQoeDpudW1iZXIsejpudW1iZXIpe1xuICAgICAgcmV0dXJuIGhlaWdodEF0KHgseilcbiAgICB9LFxuICAgIHF1ZXJ5Tm9ybWFsKHg6bnVtYmVyLHo6bnVtYmVyKXtcbiAgICAgIGNvbnN0IG4gPSBub3JtYWxBdCh4LHopXG4gICAgICByZXR1cm4gdG1wLnNldChuLngsIG4ueSwgbi56KVxuICAgIH0sXG4gICAgZGlzcG9zZSgpe1xuICAgICAgLy8xLi0gQWxsb3cgbWFudWFsIGRpc3Bvc2FsIHRvIHJlbGVhc2UgdGhlIGRpZmZpY3VsdHkgc3Vic2NyaXB0aW9uIHdoZW4gdGhlIHN0cmVhbWVyIGlzIHRvcm4gZG93bi5cbiAgICAgIHVuc3Vic2NyaWJlPy4oKVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIlRIUkVFIiwiaGVpZ2h0QXQiLCJub3JtYWxBdCIsImdldERpZmZpY3VsdHlTdGF0ZSIsIm9uRGlmZmljdWx0eUNoYW5nZSIsIkNIVU5LX1NJWkUiLCJWRVJUUyIsIkhBTEYiLCJrZXkiLCJpeCIsIml6IiwidG9DaHVuayIsIngiLCJNYXRoIiwiZmxvb3IiLCJlbnZDYWNoZSIsImVudmlyb25tZW50IiwiYnVpbGRDaHVuayIsImciLCJQbGFuZUdlb21ldHJ5Iiwicm90YXRlWCIsIlBJIiwicG9zIiwiYXR0cmlidXRlcyIsInBvc2l0aW9uIiwiaSIsImNvdW50IiwidngiLCJnZXRYIiwidnoiLCJnZXRaIiwiaCIsInNldFkiLCJuZWVkc1VwZGF0ZSIsImNvbXB1dGVWZXJ0ZXhOb3JtYWxzIiwibWF0IiwiTWVzaFN0YW5kYXJkTWF0ZXJpYWwiLCJjb2xvciIsInJvdWdobmVzcyIsIm1ldGFsbmVzcyIsIm1lc2giLCJNZXNoIiwic2V0IiwicmVjZWl2ZVNoYWRvdyIsInVzZXJEYXRhIiwiZGVjb3JhdGlvbnMiLCJkZWNvcmF0ZUNodW5rIiwicHJldmlvdXMiLCJvYmoiLCJyZW1vdmUiLCJ0cmF2ZXJzZSIsImNoaWxkIiwiZ2VvbWV0cnkiLCJkaXNwb3NlIiwibWF0ZXJpYWwiLCJBcnJheSIsImlzQXJyYXkiLCJwcm9wRGVuc2l0eSIsIndpbmRTdHJlbmd0aCIsInByb3BDb3VudCIsIm1heCIsInJvdW5kIiwicm9jayIsIkljb3NhaGVkcm9uR2VvbWV0cnkiLCJyYW5kb20iLCJsb2NhbFgiLCJsb2NhbFoiLCJ3b3JsZFgiLCJ3b3JsZFoiLCJiYXNlSGVpZ2h0IiwieSIsInB1c2giLCJ3aW5kQ291bnQiLCJjb2x1bW4iLCJDeWxpbmRlckdlb21ldHJ5IiwidHJhbnNwYXJlbnQiLCJvcGFjaXR5Iiwicm90YXRpb24iLCJkZWNvIiwiYWRkIiwiY3JlYXRlU3RyZWFtZXIiLCJzY2VuZSIsImNodW5rcyIsIk1hcCIsImFjdGl2ZVJhZGl1cyIsInRtcCIsIlZlY3RvcjMiLCJlbnZpcm9ubWVudERpcnR5IiwidW5zdWJzY3JpYmUiLCJzdGF0ZSIsImVuc3VyZSIsImsiLCJoYXMiLCJtIiwicHJ1bmUiLCJjZW50ZXJYIiwiY2VudGVyWiIsImR4IiwiZHoiLCJhYnMiLCJkZWxldGUiLCJ1cGRhdGUiLCJjeCIsImN6IiwieiIsInZhbHVlcyIsInF1ZXJ5SGVpZ2h0IiwicXVlcnlOb3JtYWwiLCJuIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/world/chunks/streamer.ts\n"));

/***/ })

});