syntax = "proto3";

package driftpursuit.broker.v0;

option go_package = "github.com/driftpursuit/DriftPursuit/proto/driftpursuit/broker/v0;brokerpb";

// Envelope is the transport wrapper for all websocket messages exchanged between
// the broker and connected clients.
message Envelope {
  // schema_version is incremented whenever a change to this message is released.
  uint32 schema_version = 1;

  // type identifies the message category (for example "match_state").
  string type = 2;

  // id differentiates individual payload instances in a message stream.
  string id = 3;

  // payload carries the raw JSON representation. Clients may decode it into
  // a type-specific structure once the schema_version has been validated.
  bytes payload = 4;
}
