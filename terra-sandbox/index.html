<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>DriftPursuit Terra Sandbox</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      :root {
        color-scheme: dark;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
        font-family: 'Rajdhani', 'Segoe UI', sans-serif;
        background: radial-gradient(circle at 50% 10%, #9bd0ff, #0d1c3f 65%);
      }

      body {
        display: flex;
        align-items: center;
        justify-content: center;
        color: #f5fbff;
      }

      .hud {
        position: absolute;
        top: 1.5rem;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(8, 18, 38, 0.75);
        padding: 1.25rem 1.75rem;
        border-radius: 12px;
        border: 1px solid rgba(155, 208, 255, 0.25);
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        min-width: 320px;
        text-align: center;
        box-shadow: 0 18px 40px rgba(5, 12, 26, 0.45);
      }

      .hud h1 {
        font-size: 1.75rem;
        margin: 0;
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }

      .hud p {
        margin: 0;
        font-size: 0.95rem;
        color: rgba(223, 238, 255, 0.9);
      }

      .hud .altitude {
        font-size: 1.35rem;
        font-weight: 600;
        letter-spacing: 0.04em;
      }

      .hud .controls {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.75rem;
      }

      .hud button {
        cursor: pointer;
        padding: 0.65rem 0.75rem;
        border-radius: 8px;
        border: 1px solid rgba(155, 208, 255, 0.4);
        background: rgba(20, 45, 78, 0.85);
        color: #f3fbff;
        font-size: 0.95rem;
        transition: transform 120ms ease, background 120ms ease;
      }

      .hud button:hover,
      .hud button:focus-visible {
        background: rgba(43, 92, 143, 0.95);
        transform: translateY(-1px);
        outline: none;
      }

      .hud button:active {
        transform: translateY(1px);
      }

      .scene {
        position: relative;
        width: min(88vw, 960px);
        height: min(70vh, 540px);
        border-radius: 20px;
        overflow: hidden;
        border: 1px solid rgba(155, 208, 255, 0.25);
        box-shadow: 0 25px 65px rgba(4, 10, 24, 0.55);
      }

      canvas,
      .scene-layer {
        position: absolute;
        inset: 0;
      }

      .scene-layer {
        display: none;
        align-items: center;
        justify-content: center;
        font-size: clamp(1.5rem, 2vw + 1rem, 2.5rem);
        text-transform: uppercase;
        letter-spacing: 0.12em;
        font-weight: 600;
      }

      .scene-layer.active {
        display: flex;
      }

      .planet {
        background: linear-gradient(#1c4c89, #0c1f3b 65%, #031020);
      }

      .planet::before {
        content: "";
        position: absolute;
        width: 340px;
        height: 340px;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, #3bfa94, #1f9b4b 55%, #083b18 100%);
        bottom: -120px;
        left: 50%;
        transform: translateX(-50%);
        box-shadow: inset 0 0 55px rgba(255, 255, 255, 0.35);
      }

      .planet::after {
        content: "";
        position: absolute;
        width: 120%;
        height: 55%;
        left: -10%;
        bottom: 0;
        background: linear-gradient(to top, rgba(4, 9, 20, 0.95), rgba(4, 9, 20, 0));
      }

      .space {
        background: radial-gradient(circle at 40% 15%, rgba(94, 136, 255, 0.3), rgba(3, 7, 24, 0.95)),
          radial-gradient(circle at 70% 80%, rgba(255, 214, 94, 0.45), rgba(5, 10, 24, 0.95));
      }

      .space .stars {
        position: absolute;
        inset: 0;
        background-image: radial-gradient(2px 2px at 20% 30%, rgba(255, 255, 255, 0.8), transparent),
          radial-gradient(1.6px 1.6px at 60% 50%, rgba(255, 255, 255, 0.9), transparent),
          radial-gradient(1.4px 1.4px at 80% 20%, rgba(255, 255, 255, 0.7), transparent),
          radial-gradient(1.2px 1.2px at 40% 70%, rgba(255, 255, 255, 0.8), transparent),
          radial-gradient(1.1px 1.1px at 25% 60%, rgba(255, 255, 255, 0.65), transparent);
        animation: twinkle 4s linear infinite;
      }

      @keyframes twinkle {
        0%,
        100% {
          opacity: 0.9;
        }

        50% {
          opacity: 0.65;
        }
      }

      .space .sun {
        position: absolute;
        width: 220px;
        height: 220px;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 30%, #fff4a5, #ffb74a 55%, #b06b12 100%);
        top: 10%;
        right: 12%;
        box-shadow: 0 0 90px rgba(255, 209, 96, 0.55);
      }

      .space .orbit-ring {
        position: absolute;
        border-radius: 50%;
        border: 1px dashed rgba(160, 200, 255, 0.35);
        animation: drift 28s linear infinite;
      }

      .orbit-ring:nth-child(3) {
        width: 320px;
        height: 320px;
        top: calc(50% - 160px);
        left: calc(50% - 160px);
      }

      .orbit-ring:nth-child(4) {
        width: 460px;
        height: 460px;
        top: calc(50% - 230px);
        left: calc(50% - 230px);
      }

      @keyframes drift {
        0% {
          transform: rotate(0deg);
        }

        100% {
          transform: rotate(360deg);
        }
      }

      .status {
        font-size: 1rem;
        letter-spacing: 0.04em;
        color: rgba(197, 224, 255, 0.85);
      }

      .hint {
        font-size: 0.85rem;
        letter-spacing: 0.05em;
        color: rgba(197, 224, 255, 0.65);
      }
    </style>
  </head>
  <body>
    <div class="hud" role="region" aria-live="polite">
      <h1>Terra Sandbox</h1>
      <p class="status" id="status">Initializing planetary systems...</p>
      <p class="altitude" id="altitude">Altitude: 0 m</p>
      <div class="controls">
        <button type="button" id="descend">Descend -100 m</button>
        <button type="button" id="ascend">Ascend +100 m</button>
        <button type="button" id="descendFast">Descend -500 m</button>
        <button type="button" id="ascendFast">Ascend +500 m</button>
      </div>
      <p class="hint">Tip: Use W / ↑ to ascend and S / ↓ to descend. Crossing 2,000 m swaps environments.</p>
    </div>

    <div class="scene" aria-live="polite">
      <div id="planetScene" class="scene-layer planet active">Planet Surface</div>
      <div id="spaceScene" class="scene-layer space" aria-hidden="true">
        <div class="stars"></div>
        <div class="sun"></div>
        <div class="orbit-ring"></div>
        <div class="orbit-ring"></div>
        <span>Solar System</span>
      </div>
    </div>

    <script>
      const TRANSITION_ALTITUDE = 2000;

      const altitudeLabel = document.getElementById('altitude');
      const statusLabel = document.getElementById('status');
      const planetScene = document.getElementById('planetScene');
      const spaceScene = document.getElementById('spaceScene');

      const controls = {
        ascend: document.getElementById('ascend'),
        ascendFast: document.getElementById('ascendFast'),
        descend: document.getElementById('descend'),
        descendFast: document.getElementById('descendFast')
      };

      const state = {
        altitude: 0,
        scene: 'planet'
      };

      const clampAltitude = (value) => Math.max(0, Math.min(5000, value));

      function updateScene() {
        const nextScene = state.altitude >= TRANSITION_ALTITUDE ? 'space' : 'planet';

        if (nextScene !== state.scene) {
          state.scene = nextScene;

          if (state.scene === 'planet') {
            planetScene.classList.add('active');
            spaceScene.classList.remove('active');
            spaceScene.setAttribute('aria-hidden', 'true');
            planetScene.removeAttribute('aria-hidden');
            statusLabel.textContent = 'Planet scenario engaged. Atmospheric flight operations nominal.';
          } else {
            planetScene.classList.remove('active');
            planetScene.setAttribute('aria-hidden', 'true');
            spaceScene.classList.add('active');
            spaceScene.removeAttribute('aria-hidden');
            statusLabel.textContent = 'Solar system scenario active. Navigate orbital markers to explore space.';
          }
        }
      }

      function setAltitude(nextAltitude) {
        const clamped = clampAltitude(nextAltitude);
        state.altitude = clamped;
        altitudeLabel.textContent = `Altitude: ${clamped.toLocaleString()} m`;
        updateScene();
      }

      function adjustAltitude(delta) {
        setAltitude(state.altitude + delta);
      }

      controls.ascend.addEventListener('click', () => adjustAltitude(100));
      controls.ascendFast.addEventListener('click', () => adjustAltitude(500));
      controls.descend.addEventListener('click', () => adjustAltitude(-100));
      controls.descendFast.addEventListener('click', () => adjustAltitude(-500));

      window.addEventListener('keydown', (event) => {
        if (event.defaultPrevented) return;

        if (event.key === 'ArrowUp' || event.key === 'w' || event.key === 'W') {
          adjustAltitude(150);
          event.preventDefault();
        } else if (event.key === 'ArrowDown' || event.key === 's' || event.key === 'S') {
          adjustAltitude(-150);
          event.preventDefault();
        }
      });

      // Initialize planet scenario on load
      statusLabel.textContent = 'Planet scenario engaged. Atmospheric flight operations nominal.';
      setAltitude(0);
    </script>
  </body>
</html>
