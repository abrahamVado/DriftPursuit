:root {
  color-scheme: dark light;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  margin: 0;
  padding: 0;
}

body {
  margin: 0;
  min-height: 100vh;
  background: radial-gradient(circle at top, #0f172a, #020617 70%);
  color: #e2e8f0;
}

.bootstrap-layout {
  /* 1.- Maintain the lobby grid while allowing other routes to opt into different layouts. */
  display: grid;
  grid-template-columns: 320px 1fr;
  gap: 2rem;
  padding: 2rem;
}

@media (max-width: 900px) {
  .bootstrap-layout {
    /* 1.- Collapse the grid to a single column on smaller screens for readability. */
    grid-template-columns: 1fr;
  }
}

.full-session {
  /* 1.- Fill the viewport with the immersive play surface. */
  position: relative;
  width: 100%;
  min-height: 100vh;
  overflow: hidden;
}

.full-session__stage {
  /* 1.- Provide an anchor for both the canvas and HUD overlays. */
  position: relative;
  width: 100%;
  min-height: 100vh;
}

.full-session__canvas-root,
.full-session__hud-root {
  /* 1.- Allow the renderer and HUD to fully cover the viewport. */
  position: absolute;
  inset: 0;
}

.full-session__status {
  /* 1.- Surface connection details without obscuring the action. */
  position: absolute;
  top: 1.5rem;
  left: 1.5rem;
  padding: 0.75rem 1.25rem;
  border-radius: 9999px;
  background: rgba(15, 23, 42, 0.72);
  color: #e2e8f0;
  font-size: 0.95rem;
  letter-spacing: 0.01em;
  pointer-events: none;
}

.gameplay-layout {
  /* 1.- Center the gameplay lobby and battle surface with generous breathing room. */
  display: flex;
  min-height: 100vh;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  box-sizing: border-box;
}

.gameplay-card {
  /* 1.- Provide a frosted panel for lobby interactions. */
  max-width: 420px;
  width: 100%;
  padding: 2.5rem;
  border-radius: 1.5rem;
  background: rgba(15, 23, 42, 0.85);
  box-shadow: 0 25px 60px rgba(8, 15, 32, 0.55);
  display: grid;
  gap: 1.5rem;
  text-align: center;
}

.gameplay-card .field {
  /* 1.- Stack field labels above the inputs for clarity. */
  display: grid;
  gap: 0.75rem;
  text-align: left;
}

.gameplay-card input {
  /* 1.- Style the pilot name input prominently in the center panel. */
  font-size: 1.25rem;
  padding: 0.85rem 1rem;
  border-radius: 0.75rem;
  border: 1px solid rgba(148, 163, 184, 0.45);
  background: rgba(15, 23, 42, 0.6);
  color: #e2e8f0;
}

.vehicle-grid {
  /* 1.- Present the vehicle choices as an evenly spaced button cluster. */
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 1rem;
}

.vehicle {
  /* 1.- Create tactile vehicle buttons that indicate hover and selection states. */
  padding: 0.9rem 1rem;
  border-radius: 0.75rem;
  border: 1px solid rgba(148, 163, 184, 0.35);
  background: rgba(30, 41, 59, 0.8);
  color: #f1f5f9;
  font-weight: 700;
  letter-spacing: 0.05em;
  cursor: pointer;
  transition: background 0.2s ease, transform 0.2s ease;
}

.vehicle:hover {
  /* 1.- Provide a subtle hover lift for interactivity feedback. */
  transform: translateY(-2px);
  background: rgba(30, 41, 59, 0.95);
}

.vehicle.selected {
  /* 1.- Highlight the active vehicle selection with a luminous border. */
  border-color: rgba(99, 102, 241, 0.8);
  box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.35);
}

.primary {
  /* 1.- Apply a bold call-to-action style shared by join and launch buttons. */
  padding: 1rem 1.5rem;
  border-radius: 9999px;
  border: none;
  font-size: 1.1rem;
  font-weight: 700;
  letter-spacing: 0.02em;
  background: linear-gradient(135deg, #6366f1, #22d3ee);
  color: #0f172a;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.primary:hover {
  /* 1.- Emphasise interactivity with a gentle lift and glow. */
  transform: translateY(-2px);
  box-shadow: 0 15px 35px rgba(34, 211, 238, 0.35);
}

.error {
  /* 1.- Surface validation feedback prominently beneath the pilot input. */
  color: #f87171;
  font-weight: 600;
  margin: 0;
}

.battle-stage {
  /* 1.- Allow the WebGL canvas to stretch across the available viewport. */
  width: 100%;
  height: 100vh;
  position: relative;
}

.battlefield-wrapper {
  /* 1.- Anchor the renderer and overlay HUD elements. */
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  border-radius: 1.5rem;
  box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.25);
}

.hud-overlay {
  /* 1.- Provide a concise HUD overlay for session metadata and controls help. */
  position: absolute;
  top: 1.25rem;
  left: 1.25rem;
  padding: 1rem 1.25rem;
  border-radius: 1rem;
  background: rgba(15, 23, 42, 0.7);
  color: #f8fafc;
  display: grid;
  gap: 0.25rem;
  max-width: 280px;
}

.hud-session {
  /* 1.- Distinguish the session label from other HUD lines. */
  font-weight: 700;
  font-size: 0.95rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin: 0;
}

.hud-welcome,
.hud-tip {
  /* 1.- Maintain consistent spacing for the supportive HUD text. */
  margin: 0;
  font-size: 0.9rem;
  color: #cbd5f5;
}

.hud-minimap {
  /* 1.- Position the minimap within the HUD stack without overwhelming the primary text. */
  margin-top: 0.75rem;
  padding: 0.75rem;
  border-radius: 0.75rem;
  background: rgba(15, 23, 42, 0.6);
  display: grid;
  grid-template-columns: 120px 1fr;
  gap: 0.75rem;
  align-items: center;
}

.hud-minimap__canvas {
  /* 1.- Ensure the SVG scales cleanly with the layout grid. */
  width: 120px;
  height: 120px;
  display: block;
}

.hud-minimap__background {
  /* 1.- Outline the spherical minimap while allowing the SVG gradient to supply the fill. */
  stroke: rgba(148, 163, 184, 0.4);
  stroke-width: 1.5;
}

.hud-minimap__peer {
  /* 1.- Render peers with a neutral hue that contrasts the player marker. */
  fill: var(--radar-neutral, #38bdf8);
  stroke: rgba(15, 23, 42, 0.8);
  stroke-width: 1.2;
}

.hud-minimap__player {
  /* 1.- Highlight the local pilot with a distinct accent colour. */
  fill: var(--radar-friendly, #facc15);
  stroke: rgba(15, 23, 42, 0.9);
  stroke-width: 1.6;
}

.hud-minimap__legend {
  /* 1.- Stack the legend items vertically beside the minimap canvas. */
  display: grid;
  gap: 0.25rem;
}

.hud-minimap__legend-title {
  /* 1.- Label the legend heading with a softer colour to match the HUD. */
  margin: 0;
  font-size: 0.75rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: #94a3b8;
}

.hud-minimap__legend-list {
  /* 1.- Remove default list styling and align entries with consistent spacing. */
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 0.25rem;
}

.hud-minimap__legend-item {
  /* 1.- Present each callsign with legible typography inside the compact legend. */
  color: #e2e8f0;
  font-size: 0.8rem;
}

.battle-stage {
  /* 2.- Pad the viewport so the battlefield and planet map can breathe side-by-side. */
  padding: 2rem;
  box-sizing: border-box;
}

.battle-stage-content {
  /* 1.- Arrange the interactive battlefield next to the orbital sandbox preview. */
  display: grid;
  grid-template-columns: minmax(0, 3fr) minmax(320px, 1fr);
  gap: 1.5rem;
  width: 100%;
  height: 100%;
}

.battle-stage-canvas {
  /* 1.- Allow the battlefield renderer to stretch vertically within the grid cell. */
  min-height: 0;
  display: flex;
}

.battle-stage-canvas > .battlefield-wrapper {
  /* 1.- Ensure the underlying canvas continues filling the available height. */
  flex: 1 1 auto;
}

.planet-map-panel {
  /* 1.- Style the sandbox panel as a complementary glassmorphism card. */
  background: rgba(15, 23, 42, 0.78);
  border-radius: 1.5rem;
  padding: 1.5rem;
  color: #e2e8f0;
  display: grid;
  gap: 1rem;
  box-shadow: 0 25px 60px rgba(8, 47, 73, 0.45);
}

.planet-map-canvas {
  /* 1.- Reserve vertical space for the Three.js renderer even when WebGL is unavailable. */
  width: 100%;
  aspect-ratio: 4 / 3;
  background: radial-gradient(circle at 30% 30%, rgba(59, 130, 246, 0.35), rgba(15, 23, 42, 0.6));
  border-radius: 1.25rem;
  overflow: hidden;
}

.planet-map-header h2 {
  /* 1.- Harmonise the heading with the primary gameplay typography. */
  margin: 0;
  font-size: 1.35rem;
}

.planet-map-header p {
  /* 1.- Provide supportive copy encouraging pilots to monitor their orbit. */
  margin: 0.25rem 0 0;
  color: #cbd5f5;
  font-size: 0.9rem;
}

.planet-map-telemetry {
  /* 1.- Present telemetry as a compact definition list for quick scanning. */
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 0.75rem 1rem;
  margin: 0;
}

.planet-map-telemetry div {
  /* 1.- Group label-value pairs vertically for clarity. */
  display: flex;
  flex-direction: column;
  gap: 0.15rem;
}

.planet-map-telemetry dt {
  /* 1.- Tone down labels so the numeric values take focus. */
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: #94a3b8;
}

.planet-map-telemetry dd {
  /* 1.- Highlight numeric telemetry with bolder typography. */
  margin: 0;
  font-weight: 600;
  font-size: 0.95rem;
}

.planet-map-fleet {
  /* 1.- Showcase the companion vehicles and their orbital stats. */
  display: grid;
  gap: 0.5rem;
}

.planet-map-fleet h3 {
  /* 1.- Align the fleet heading with other sidebar headings. */
  margin: 0;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: #a5b4fc;
}

.planet-map-fleet ul {
  /* 1.- Provide a subtle backdrop for the telemetry rows. */
  list-style: none;
  margin: 0;
  padding: 0.75rem;
  border-radius: 1rem;
  background: rgba(15, 23, 42, 0.6);
  display: grid;
  gap: 0.5rem;
}

.planet-map-fleet li {
  /* 1.- Lay out each vehicle telemetry row with evenly spaced fields. */
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(0, 1.2fr) minmax(0, 0.9fr);
  font-size: 0.85rem;
  gap: 0.5rem;
}

.planet-map-fleet li span:first-child {
  /* 1.- Emphasise vehicle identifiers to support quick recognition. */
  font-weight: 600;
  color: #facc15;
}

@media (max-width: 1200px) {
  .battle-stage-content {
    /* 1.- Stack panels vertically on narrower screens while preserving breathing room. */
    grid-template-columns: minmax(0, 1fr);
  }

  .battle-stage {
    /* 1.- Reduce padding when stacking to maximise viewport usage. */
    padding: 1.25rem;
    height: auto;
  }
}
